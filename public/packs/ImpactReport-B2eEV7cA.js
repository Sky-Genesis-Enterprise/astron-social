var c=Object.defineProperty;var _=(i,a,e)=>a in i?c(i,a,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[a]=e;var d=(i,a,e)=>_(i,typeof a!="symbol"?a+"":a,e);import{j as s}from"./client-wT6vtYO_.js";import{r as u,F as l}from"./index-BdTwX--g.js";import{c as m}from"./index-DizoKcfL.js";import{a as p}from"./api-B2m7efUy.js";import{S as r}from"./skeleton-D9NbTYr9.js";import{M as o}from"./message-UFwkQlnu.js";import"./index-lj9VQs0f.js";import"./initial_state-BP3UcUr4.js";import"./ready-DpOgoWSg.js";class k extends u.PureComponent{constructor(){super(...arguments);d(this,"state",{loading:!0,data:null})}componentDidMount(){const{domain:e}=this.props,t={domain:e,include_subdomains:!0};p(!1).post("/api/v1/admin/measures",{keys:["instance_accounts","instance_follows","instance_followers"],start_at:null,end_at:null,instance_accounts:t,instance_follows:t,instance_followers:t}).then(n=>{this.setState({loading:!1,data:n.data})}).catch(n=>{console.error(n)})}render(){const{loading:e,data:t}=this.state;return s.jsxs("div",{className:"dimension",children:[s.jsx("h4",{children:s.jsx(o,{id:"admin.impact_report.title",defaultMessage:"Impact summary"})}),s.jsx("table",{children:s.jsxs("tbody",{children:[s.jsxs("tr",{className:"dimension__item",children:[s.jsx("td",{className:"dimension__item__key",children:s.jsx(o,{id:"admin.impact_report.instance_accounts",defaultMessage:"Accounts profiles this would delete"})}),s.jsx("td",{className:"dimension__item__value",children:e?s.jsx(r,{width:60}):s.jsx(l,{value:t[0].total})})]}),s.jsxs("tr",{className:m("dimension__item",{negative:!e&&t[1].total>0}),children:[s.jsx("td",{className:"dimension__item__key",children:s.jsx(o,{id:"admin.impact_report.instance_follows",defaultMessage:"Followers their users would lose"})}),s.jsx("td",{className:"dimension__item__value",children:e?s.jsx(r,{width:60}):s.jsx(l,{value:t[1].total})})]}),s.jsxs("tr",{className:m("dimension__item",{negative:!e&&t[2].total>0}),children:[s.jsx("td",{className:"dimension__item__key",children:s.jsx(o,{id:"admin.impact_report.instance_followers",defaultMessage:"Followers our users would lose"})}),s.jsx("td",{className:"dimension__item__value",children:e?s.jsx(r,{width:60}):s.jsx(l,{value:t[2].total})})]})]})})]})}}export{k as default};
//# sourceMappingURL=ImpactReport-B2eEV7cA.js.map
