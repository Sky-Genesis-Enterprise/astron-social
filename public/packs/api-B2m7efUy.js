import{a as b}from"./index-lj9VQs0f.js";import{g as S}from"./index-BdTwX--g.js";import{u as F}from"./initial_state-BP3UcUr4.js";import{r as D}from"./ready-DpOgoWSg.js";var m,w;function P(){if(w)return m;w=1;var c=/^utf-?8|ascii|utf-?16-?le|ucs-?2|base-?64|latin-?1$/i,u=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,p=/\s|\uFEFF|\xA0/,T=/\r?\n[\x20\x09]+/g,y=/[;,"]/,L=/[;,"]|\s/,I=/^[!#$%&'*+\-\.^_`|~\da-zA-Z]+$/,l={IDLE:1,URI:2,ATTR:4};function R(n){return n.replace(u,"")}function d(n){return p.test(n)}function k(n,e){for(;d(n[e]);)e++;return e}function A(n){return L.test(n)||!I.test(n)}function O(n,e){return Object.keys(n).length===Object.keys(e).length&&Object.keys(n).every(t=>t in e&&n[t]===e[t])}class i{constructor(e){this.refs=[],e&&this.parse(e)}rel(e){for(var t=[],s=e.toLowerCase(),o=0;o<this.refs.length;o++)typeof this.refs[o].rel=="string"&&this.refs[o].rel.toLowerCase()===s&&t.push(this.refs[o]);return t}get(e,t){e=e.toLowerCase(),t=t.toLowerCase();for(var s=[],o=0;o<this.refs.length;o++)typeof this.refs[o][e]=="string"&&this.refs[o][e].toLowerCase()===t&&s.push(this.refs[o]);return s}set(e){return this.refs.push(e),this}setUnique(e){return this.refs.some(t=>O(t,e))||this.refs.push(e),this}has(e,t){e=e.toLowerCase(),t=t.toLowerCase();for(var s=0;s<this.refs.length;s++)if(typeof this.refs[s][e]=="string"&&this.refs[s][e].toLowerCase()===t)return!0;return!1}parse(e,r){r=r||0,e=r?e.slice(r):e,e=R(e).replace(T,"");for(var s=l.IDLE,o=e.length,r=0,f=null;r<o;)if(s===l.IDLE){if(d(e[r])){r++;continue}else if(e[r]==="<"){f!=null&&(f.rel!=null?this.refs.push(...i.expandRelations(f)):this.refs.push(f));var a=e.indexOf(">",r);if(a===-1)throw new Error("Expected end of URI delimiter at offset "+r);f={uri:e.slice(r+1,a)},r=a,s=l.URI}else throw new Error('Unexpected character "'+e[r]+'" at offset '+r);r++}else if(s===l.URI)if(d(e[r])){r++;continue}else if(e[r]===";")s=l.ATTR,r++;else if(e[r]===",")s=l.IDLE,r++;else throw new Error('Unexpected character "'+e[r]+'" at offset '+r);else if(s===l.ATTR){if(e[r]===";"||d(e[r])){r++;continue}var a=e.indexOf("=",r);a===-1&&(a=e.indexOf(";",r)),a===-1&&(a=e.length);var h=R(e.slice(r,a)).toLowerCase(),g="";if(r=a+1,r=k(e,r),e[r]==='"')for(r++;r<o;){if(e[r]==='"'){r++;break}e[r]==="\\"&&r++,g+=e[r],r++}else{for(var a=r+1;!y.test(e[a])&&a<o;)a++;g=e.slice(r,a),r=a}switch(f[h]&&i.isSingleOccurenceAttr(h)||(h[h.length-1]==="*"?f[h]=i.parseExtendedValue(g):(g=h==="type"?g.toLowerCase():g,f[h]!=null?Array.isArray(f[h])?f[h].push(g):f[h]=[f[h],g]:f[h]=g)),e[r]){case",":s=l.IDLE;break;case";":s=l.ATTR;break}r++}else throw new Error('Unknown parser state "'+s+'"');return f!=null&&(f.rel!=null?this.refs.push(...i.expandRelations(f)):this.refs.push(f)),f=null,this}toString(){for(var e=[],t="",s=null,o=0;o<this.refs.length;o++)s=this.refs[o],t=Object.keys(this.refs[o]).reduce(function(r,f){return f==="uri"?r:r+"; "+i.formatAttribute(f,s[f])},"<"+s.uri+">"),e.push(t);return e.join(", ")}}return i.isCompatibleEncoding=function(n){return c.test(n)},i.parse=function(n,e){return new i().parse(n,e)},i.isSingleOccurenceAttr=function(n){return n==="rel"||n==="type"||n==="media"||n==="title"||n==="title*"},i.isTokenAttr=function(n){return n==="rel"||n==="type"||n==="anchor"},i.escapeQuotes=function(n){return n.replace(/"/g,'\\"')},i.expandRelations=function(n){var e=n.rel.split(" ");return e.map(function(t){var s=Object.assign({},n);return s.rel=t,s})},i.parseExtendedValue=function(n){var e=/([^']+)?(?:'([^']*)')?(.+)/.exec(n);return{language:e[2].toLowerCase(),encoding:i.isCompatibleEncoding(e[1])?null:e[1].toLowerCase(),value:i.isCompatibleEncoding(e[1])?decodeURIComponent(e[3]):e[3]}},i.formatExtendedAttribute=function(n,e){var t=(e.encoding||"utf-8").toUpperCase(),s=e.language||"en",o="";return Buffer.isBuffer(e.value)&&i.isCompatibleEncoding(t)?o=e.value.toString(t):Buffer.isBuffer(e.value)?o=e.value.toString("hex").replace(/[0-9a-f]{2}/gi,"%$1"):o=encodeURIComponent(e.value),n+"="+t+"'"+s+"'"+o},i.formatAttribute=function(n,e){return Array.isArray(e)?e.map(t=>i.formatAttribute(n,t)).join("; "):n[n.length-1]==="*"||typeof e!="string"?i.formatExtendedAttribute(n,e):(i.isTokenAttr(n)?e=A(e)?'"'+i.escapeQuotes(e)+'"':i.escapeQuotes(e):A(e)&&(e=encodeURIComponent(e),e=e.replace(/%20/g," ").replace(/%2C/g,",").replace(/%3B/g,";"),e='"'+e+'"'),n+"="+e)},m=i,m}var U=P();const C=S(U),H=c=>{const u=c.headers.link;return u?C.parse(u):new C},x={},q=()=>{const c=document.querySelector("meta[name=csrf-token]");c&&(x["X-CSRF-Token"]=c.content)};D(q);const N=()=>{const c=F();return c?{Authorization:`Bearer ${c}`}:{}};function _(c=!0){const u=b.create({transitional:{clarifyTimeoutError:!0},headers:{...x,...c?N():{}},transformResponse:[function(p){try{return JSON.parse(p)}catch{return p}}]});return u.interceptors.response.use(p=>(p.headers.deprecation&&console.warn(`Deprecated request: ${p.config.method} ${p.config.url}`),p),p=>Promise.reject(p)),u}async function E(c,u,p={}){const{data:T}=await _().request({method:c,url:"/api/"+u,...p});return T}async function M(c,u){return E("GET",c,{params:u})}async function Q(c,u){return E("POST",c,{data:u})}async function z(c,u){return E("PUT",c,{data:u})}async function G(c,u){return E("DELETE",c,{params:u})}export{_ as a,M as b,Q as c,E as d,z as e,G as f,H as g};
//# sourceMappingURL=api-B2m7efUy.js.map
