var j=Object.defineProperty;var C=(n,e,t)=>e in n?j(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var r=(n,e,t)=>C(n,typeof e!="symbol"?e+"":e,t);import{j as s}from"./client-wT6vtYO_.js";import{r as g}from"./index-BdTwX--g.js";import{H as L}from"./Helmet-ZVWnGmbg.js";import{w as M,L as I}from"./short_number-WomMu2iV.js";import{j as S,ae as b,cF as v,cG as T,d7 as h,d8 as l,o as _,I as u}from"./useSelectableClick-DeaJbL2_.js";import{S as y}from"./delete-U0WLrPiU.js";import{S as E}from"./edit-Cyfwv5F_.js";import{S as k}from"./list_alt-yox9TcbF.js";import{f}from"./streaming-BaFGIdWo.js";import{C as x}from"./column-B4vwzadM.js";import{C as D}from"./column_header-FN7GyEAs.js";import{L as N}from"./loading_indicator-7xMB1U6D.js";import{B as P}from"./bundle_column_error-Cn2E6aKL.js";import{S as R}from"./status_list_container-7VQVJmu6.js";import{M as d}from"./message-UFwkQlnu.js";import"./numbers-CGZQWBYL.js";import"./api-B2m7efUy.js";import"./index-lj9VQs0f.js";import"./initial_state-BP3UcUr4.js";import"./ready-DpOgoWSg.js";import"./index-CAH5FfLP.js";import"./load_locale-tOpKhmcM.js";import"./index-DizoKcfL.js";import"./scroll-BygYx8ga.js";import"./add-D8GR9P00.js";import"./chevron_left-CnYIoVsW.js";import"./close-BsPe8EbX.js";import"./index-BZWHsOPk.js";import"./gif-BtN1axMk.js";import"./status_list-DPL_DhlK.js";import"./info-HtHaDKcq.js";import"./content_warning-DZ8mar1O.js";import"./skeleton-D9NbTYr9.js";import"./follow_button-BdqDKUmA.js";import"./verified_badge-CtK79Pb7.js";import"./status_quoted-COu-QToA.js";import"./domain_blocks-CYnp0hav.js";import"./reports-DBOcsYZF.js";import"./status-CiF0hsk4.js";import"./index.es-B0ZBMj49.js";import"./card-CttmBekj.js";import"./avatar_overlay-BeG39OK4.js";import"./toString-Cy1Ecq9L.js";import"./status_content-CaIN8-0B.js";import"./poll-CjurB963.js";import"./permissions-Djze7cmB.js";import"./visibility_icon-DbVVvHFb.js";import"./index-OwtqmxAM.js";import"./load_gap-6rwcZCuh.js";import"./scrollable_list-lNykmhKA.js";import"./scroll_container-Bq73vRM7.js";import"./react-router-scroll-4.es-CU7ja20b.js";import"./interopRequireDefault-CdiRfGvq.js";import"./schedule_idle_task-Co3Ydhdu.js";import"./load_more-qGthrhsi.js";const H=(n,e)=>({list:n.getIn(["lists",e.params.id]),hasUnread:n.getIn(["timelines",`list:${e.params.id}`,"unread"])>0});class w extends g.PureComponent{constructor(){super(...arguments);r(this,"handlePin",()=>{const{columnId:t,dispatch:i}=this.props;t?i(b(t)):(i(v("LIST",{id:this.props.params.id})),this.props.history.push("/"))});r(this,"handleMove",t=>{const{columnId:i,dispatch:o}=this.props;o(T(i,t))});r(this,"handleHeaderClick",()=>{this.column.scrollTop()});r(this,"setRef",t=>{this.column=t});r(this,"handleLoadMore",t=>{const{id:i}=this.props.params;this.props.dispatch(l(i,{maxId:t}))});r(this,"handleDeleteClick",()=>{const{dispatch:t,columnId:i}=this.props,{id:o}=this.props.params;t(_({modalType:"CONFIRM_DELETE_LIST",modalProps:{listId:o,columnId:i}}))})}componentDidMount(){const{dispatch:t}=this.props,{id:i}=this.props.params;t(h(i)),t(l(i)),this.disconnect=t(f(i))}UNSAFE_componentWillReceiveProps(t){const{dispatch:i}=this.props,{id:o}=t.params;o!==this.props.params.id&&(this.disconnect&&(this.disconnect(),this.disconnect=null),i(h(o)),i(l(o)),this.disconnect=i(f(o)))}componentWillUnmount(){this.disconnect&&(this.disconnect(),this.disconnect=null)}render(){const{hasUnread:t,columnId:i,multiColumn:o,list:m}=this.props,{id:p}=this.props.params,c=!!i,a=m?m.get("title"):p;return typeof m>"u"?s.jsx(x,{children:s.jsx("div",{className:"scrollable",children:s.jsx(N,{})})}):m===!1?s.jsx(P,{multiColumn:o,errorType:"routing"}):s.jsxs(x,{bindToDocument:!o,ref:this.setRef,label:a,children:[s.jsx(D,{icon:"list-ul",iconComponent:k,active:t,title:a,onPin:this.handlePin,onMove:this.handleMove,onClick:this.handleHeaderClick,pinned:c,multiColumn:o,children:s.jsx("div",{className:"column-settings",children:s.jsxs("section",{className:"column-header__links",children:[s.jsxs(I,{to:`/lists/${p}/edit`,className:"text-btn column-header__setting-btn",children:[s.jsx(u,{id:"pencil",icon:E})," ",s.jsx(d,{id:"lists.edit",defaultMessage:"Edit list"})]}),s.jsxs("button",{type:"button",className:"text-btn column-header__setting-btn",tabIndex:0,onClick:this.handleDeleteClick,children:[s.jsx(u,{id:"trash",icon:y})," ",s.jsx(d,{id:"lists.delete",defaultMessage:"Delete list"})]})]})})}),s.jsx(R,{trackScroll:!c,scrollKey:`list_timeline-${i}`,timelineId:`list:${p}`,onLoadMore:this.handleLoadMore,emptyMessage:s.jsx(d,{id:"empty_column.list",defaultMessage:"There is nothing in this list yet. When members of this list post new statuses, they will appear here."}),bindToDocument:!o}),s.jsxs(L,{children:[s.jsx("title",{children:a}),s.jsx("meta",{name:"robots",content:"noindex"})]})]})}}const $t=M(S(H)(w));export{$t as default};
//# sourceMappingURL=list_timeline-index-BzzhFxnW.js.map
