import{j as e}from"./client-wT6vtYO_.js";import{u as C,r as n,d as y}from"./index-BdTwX--g.js";import{H as S}from"./Helmet-ZVWnGmbg.js";import{u as T,b7 as H}from"./useSelectableClick-DeaJbL2_.js";import{S as F}from"./tag-fitE3XYd.js";import{u as L}from"./tags_typed-B66AXCeo.js";import{a as g}from"./tags-CLqn3B8f.js";import{B as v}from"./index-BZWHsOPk.js";import{C as B}from"./column-B4vwzadM.js";import{C as E}from"./column_header-FN7GyEAs.js";import{H as I}from"./hashtag-C8K46vBm.js";import{S as _}from"./scrollable_list-lNykmhKA.js";import{M as x}from"./message-UFwkQlnu.js";import"./short_number-WomMu2iV.js";import"./numbers-CGZQWBYL.js";import"./api-B2m7efUy.js";import"./index-lj9VQs0f.js";import"./initial_state-BP3UcUr4.js";import"./ready-DpOgoWSg.js";import"./index-CAH5FfLP.js";import"./load_locale-tOpKhmcM.js";import"./index-DizoKcfL.js";import"./scroll-BygYx8ga.js";import"./add-D8GR9P00.js";import"./chevron_left-CnYIoVsW.js";import"./close-BsPe8EbX.js";import"./index-DwQAxx91.js";import"./skeleton-D9NbTYr9.js";import"./scroll_container-Bq73vRM7.js";import"./react-router-scroll-4.es-CU7ja20b.js";import"./interopRequireDefault-CdiRfGvq.js";import"./schedule_idle_task-Co3Ydhdu.js";import"./load_more-qGthrhsi.js";import"./loading_indicator-7xMB1U6D.js";const h=y({heading:{id:"followed_tags",defaultMessage:"Followed hashtags"}}),D=({tag:t,onUnfollow:i})=>{var l;const c=T(),s=t.name,f=n.useCallback(()=>{c(L({tagId:s})).then(m=>(H(m)&&i(s),""))},[c,i,s]),a=parseInt(t.history[0].accounts)+parseInt(((l=t.history[1])==null?void 0:l.accounts)??"");return e.jsx(I,{name:t.name,to:`/tags/${t.name}`,withGraph:!1,people:a,children:e.jsx(v,{onClick:f,children:e.jsx(x,{id:"account.unfollow",defaultMessage:"Unfollow"})})})},xo=({multiColumn:t})=>{const i=C(),[c,s]=n.useState([]),[f,a]=n.useState(!1),[l,m]=n.useState(),w=!!l,u=n.useRef(null);n.useEffect(()=>{a(!0),g().then(({tags:o,links:p})=>{const r=p.refs.find(d=>d.rel==="next");return s(o),a(!1),m(r==null?void 0:r.uri),""}).catch(()=>{a(!1)})},[s,a,m]);const M=n.useCallback(()=>{a(!0),g(l).then(({tags:o,links:p})=>{const r=p.refs.find(d=>d.rel==="next");return a(!1),s(d=>[...d,...o]),m(r==null?void 0:r.uri),""}).catch(()=>{a(!1)})},[s,a,m,l]),j=n.useCallback(o=>{s(p=>p.filter(r=>r.name!==o))},[s]),b=n.useCallback(()=>{var o;(o=u.current)==null||o.scrollTop()},[]),k=e.jsx(x,{id:"empty_column.followed_tags",defaultMessage:"You have not followed any hashtags yet. When you do, they will show up here."});return e.jsxs(B,{bindToDocument:!t,ref:u,label:i.formatMessage(h.heading),children:[e.jsx(E,{icon:"hashtag",iconComponent:F,title:i.formatMessage(h.heading),onClick:b,multiColumn:t,showBackButton:!0}),e.jsx(_,{scrollKey:"followed_tags",emptyMessage:k,hasMore:w,isLoading:f,showLoading:f&&c.length===0,onLoadMore:M,trackScroll:!t,bindToDocument:!t,children:c.map(o=>e.jsx(D,{tag:o,onUnfollow:j},o.name))}),e.jsxs(S,{children:[e.jsx("title",{children:i.formatMessage(h.heading)}),e.jsx("meta",{name:"robots",content:"noindex"})]})]})};export{xo as default};
//# sourceMappingURL=followed_tags-index-TroCva1E.js.map
