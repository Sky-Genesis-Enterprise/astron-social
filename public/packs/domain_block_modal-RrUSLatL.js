import{j as o}from"./client-wT6vtYO_.js";import{r as e}from"./index-BdTwX--g.js";import{S as j}from"./campaign-B6cnb957.js";import{u as g,ak as r,bI as y,I as t,aT as b}from"./useSelectableClick-DeaJbL2_.js";import{S as k}from"./visibility_off-CFNdrvj5.js";import{b as q}from"./domain_blocks-CYnp0hav.js";import{d as T}from"./api-B2m7efUy.js";import{B as h}from"./index-BZWHsOPk.js";import{L as C}from"./loading_indicator-7xMB1U6D.js";import{S as _}from"./short_number-WomMu2iV.js";import{M as l}from"./message-UFwkQlnu.js";import"./index-CAH5FfLP.js";import"./ready-DpOgoWSg.js";import"./initial_state-BP3UcUr4.js";import"./load_locale-tOpKhmcM.js";import"./index-lj9VQs0f.js";import"./index-DizoKcfL.js";import"./numbers-CGZQWBYL.js";const N=s=>e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:24,viewBox:"0 -960 960 960",width:24,...s},e.createElement("path",{d:"m880-194-80-80v-326H474l-74-74v-86h-86l-80-80h246v160h400v486ZM820-28l-94-92H80v-648l-52-52 56-56L876-84l-56 56ZM160-200h80v-80h-80v80Zm0-160h80v-80h-80v80Zm0-160h80v-80h-80v80Zm160 320h80v-80h-80v80Zm0-160h80v-80h-80v80Zm160 160h166l-80-80h-86v80Zm240-240h-80v-80h80v80Z"})),M=s=>e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:24,viewBox:"0 -960 960 960",width:24,...s},e.createElement("path",{d:"M480-120q-138 0-240.5-91.5T122-440h82q14 104 92.5 172T480-200q117 0 198.5-81.5T760-480q0-117-81.5-198.5T480-760q-69 0-129 32t-101 88h110v80H120v-240h80v94q51-64 124.5-99T480-840q75 0 140.5 28.5t114 77q48.5 48.5 77 114T840-480q0 75-28.5 140.5t-77 114q-48.5 48.5-114 77T480-120Zm112-192L440-464v-216h80v184l128 128-56 56Z"})),v=s=>e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:24,viewBox:"0 -960 960 960",width:24,...s},e.createElement("path",{d:"M640-520v-80h240v80H640Zm-280 40q-66 0-113-47t-47-113q0-66 47-113t113-47q66 0 113 47t47 113q0 66-47 113t-113 47ZM40-160v-112q0-34 17.5-62.5T104-378q62-31 126-46.5T360-440q66 0 130 15.5T616-378q29 15 46.5 43.5T680-272v112H40Zm80-80h480v-32q0-11-5.5-20T580-306q-54-27-109-40.5T360-360q-56 0-111 13.5T140-306q-9 5-14.5 14t-5.5 20v32Zm240-320q33 0 56.5-23.5T440-640q0-33-23.5-56.5T360-720q-33 0-56.5 23.5T280-640q0 33 23.5 56.5T360-560Zm0-80Zm0 400Z"})),K=({domain:s,accountId:m,acct:u})=>{const i=g(),[n,d]=e.useState(!0),[a,c]=e.useState(null),f=e.useCallback(()=>{n||(i(r({modalType:void 0,ignoreFocus:!1})),i(q(s)))},[i,n,s]),p=e.useCallback(()=>{i(r({modalType:void 0,ignoreFocus:!1})),i(y(m))},[i,m]),x=e.useCallback(()=>{i(r({modalType:void 0,ignoreFocus:!1}))},[i]);return e.useEffect(()=>{d(!0),T("GET","v1/domain_blocks/preview",{params:{domain:s},timeout:5e3}).then(w=>(c(w),d(!1),"")).catch(()=>{c("error"),d(!1)})},[c,d,s]),o.jsxs("div",{className:"modal-root__modal safety-action-modal","aria-live":"polite",children:[o.jsxs("div",{className:"safety-action-modal__top",children:[o.jsxs("div",{className:"safety-action-modal__header",children:[o.jsx("div",{className:"safety-action-modal__header__icon",children:o.jsx(t,{id:"",icon:N})}),o.jsxs("div",{children:[o.jsx("h1",{children:o.jsx(l,{id:"domain_block_modal.title",defaultMessage:"Block domain?"})}),o.jsx("div",{children:s})]})]}),o.jsxs("div",{className:"safety-action-modal__bullet-points",children:[a&&a!=="error"&&a.followers_count+a.following_count>0&&o.jsxs("div",{children:[o.jsx("div",{className:"safety-action-modal__bullet-points__icon",children:o.jsx(t,{id:"",icon:v})}),o.jsx("div",{children:o.jsx("strong",{children:o.jsx(l,{id:"domain_block_modal.you_will_lose_num_followers",defaultMessage:"You will lose {followersCount, plural, one {{followersCountDisplay} follower} other {{followersCountDisplay} followers}} and {followingCount, plural, one {{followingCountDisplay} person you follow} other {{followingCountDisplay} people you follow}}.",values:{followersCount:a.followers_count,followersCountDisplay:o.jsx(_,{value:a.followers_count}),followingCount:a.following_count,followingCountDisplay:o.jsx(_,{value:a.following_count})}})})})]}),a==="error"&&o.jsxs("div",{children:[o.jsx("div",{className:"safety-action-modal__bullet-points__icon",children:o.jsx(t,{id:"",icon:v})}),o.jsx("div",{children:o.jsx("strong",{children:o.jsx(l,{id:"domain_block_modal.you_will_lose_relationships",defaultMessage:"You will lose all followers and people you follow from this server."})})})]}),o.jsxs("div",{className:"safety-action-modal__bullet-points--deemphasized",children:[o.jsx("div",{className:"safety-action-modal__bullet-points__icon",children:o.jsx(t,{id:"",icon:j})}),o.jsx("div",{children:o.jsx(l,{id:"domain_block_modal.they_wont_know",defaultMessage:"They won't know they've been blocked."})})]}),o.jsxs("div",{className:"safety-action-modal__bullet-points--deemphasized",children:[o.jsx("div",{className:"safety-action-modal__bullet-points__icon",children:o.jsx(t,{id:"",icon:k})}),o.jsx("div",{children:o.jsx(l,{id:"domain_block_modal.you_wont_see_posts",defaultMessage:"You won't see posts or notifications from users on this server."})})]}),o.jsxs("div",{className:"safety-action-modal__bullet-points--deemphasized",children:[o.jsx("div",{className:"safety-action-modal__bullet-points__icon",children:o.jsx(t,{id:"",icon:b})}),o.jsx("div",{children:o.jsx(l,{id:"domain_block_modal.they_cant_follow",defaultMessage:"Nobody from this server can follow you."})})]}),o.jsxs("div",{className:"safety-action-modal__bullet-points--deemphasized",children:[o.jsx("div",{className:"safety-action-modal__bullet-points__icon",children:o.jsx(t,{id:"",icon:M})}),o.jsx("div",{children:o.jsx(l,{id:"domain_block_modal.they_can_interact_with_old_posts",defaultMessage:"People from this server can interact with your old posts."})})]})]})]}),o.jsx("div",{className:"safety-action-modal__bottom",children:o.jsxs("div",{className:"safety-action-modal__actions",children:[o.jsx(h,{onClick:p,secondary:!0,children:o.jsx(l,{id:"domain_block_modal.block_account_instead",defaultMessage:"Block @{name} instead",values:{name:u.split("@")[0]}})}),o.jsx("div",{className:"spacer"}),o.jsx("button",{onClick:x,className:"link-button",children:o.jsx(l,{id:"confirmation_modal.cancel",defaultMessage:"Cancel"})}),o.jsx(h,{onClick:f,dangerous:!0,"aria-busy":n,children:n?o.jsx(C,{}):o.jsx(l,{id:"domain_block_modal.block",defaultMessage:"Block server"})})]})})]})};export{K as DomainBlockModal,K as default};
//# sourceMappingURL=domain_block_modal-RrUSLatL.js.map
