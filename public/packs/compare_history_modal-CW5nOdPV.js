import{j as t}from"./client-wT6vtYO_.js";import{r as j}from"./index-BdTwX--g.js";import{j as f,bm as d,b as v,ak as M}from"./useSelectableClick-DeaJbL2_.js";import{S as y}from"./close-BsPe8EbX.js";import{I as N}from"./inline_account-Dg3-UMsJ.js";import{M as I}from"./media_attachments-DPEx4Q1o.js";import{e as l,R as C}from"./index-CAH5FfLP.js";import{M as p}from"./message-UFwkQlnu.js";import"./short_number-WomMu2iV.js";import"./numbers-CGZQWBYL.js";import"./api-B2m7efUy.js";import"./index-lj9VQs0f.js";import"./initial_state-BP3UcUr4.js";import"./ready-DpOgoWSg.js";import"./load_locale-tOpKhmcM.js";import"./index-DizoKcfL.js";import"./content_warning-DZ8mar1O.js";import"./skeleton-D9NbTYr9.js";const T=(s,{statusId:a})=>({language:s.getIn(["statuses",a,"language"]),versions:s.getIn(["history",a,"items"])}),S=s=>({onClose(){s(M({modalType:void 0,ignoreFocus:!1}))}});class b extends j.PureComponent{render(){const{index:a,versions:g,language:r,onClose:_}=this.props,e=g.get(a),n=e.get("emojis").reduce((o,c)=>(o[`:${c.get("shortcode")}:`]=c.toJS(),o),{}),u={__html:l(e.get("content"),n)},x={__html:l(d(e.get("spoiler_text")),n)},i=t.jsx(C,{timestamp:e.get("created_at"),short:!1}),m=t.jsx(N,{accountId:e.get("account")}),h=e.get("original")?t.jsx(p,{id:"status.history.created",defaultMessage:"{name} created {date}",values:{name:m,date:i}}):t.jsx(p,{id:"status.history.edited",defaultMessage:"{name} edited {date}",values:{name:m,date:i}});return t.jsxs("div",{className:"modal-root__modal compare-history-modal",children:[t.jsxs("div",{className:"report-modal__target",children:[t.jsx(v,{className:"report-modal__close",icon:"times",iconComponent:y,onClick:_,size:20}),h]}),t.jsx("div",{className:"compare-history-modal__container",children:t.jsxs("div",{className:"status__content",children:[e.get("spoiler_text").length>0&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"translate",dangerouslySetInnerHTML:x,lang:r}),t.jsx("hr",{})]}),t.jsx("div",{className:"status__content__text status__content__text--visible translate",dangerouslySetInnerHTML:u,lang:r}),!!e.get("poll")&&t.jsx("div",{className:"poll",children:t.jsx("ul",{children:e.getIn(["poll","options"]).map(o=>t.jsxs("li",{children:[t.jsx("span",{className:"poll__input disabled"}),t.jsx("span",{className:"poll__option__text translate",dangerouslySetInnerHTML:{__html:l(d(o.get("title")),n)},lang:r})]},o.get("title")))})}),t.jsx(I,{status:e,lang:r})]})})]})}}const K=f(T,S)(b);export{K as default};
//# sourceMappingURL=compare_history_modal-CW5nOdPV.js.map
