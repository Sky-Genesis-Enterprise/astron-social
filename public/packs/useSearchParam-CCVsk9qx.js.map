{"version":3,"file":"useSearchParam-CCVsk9qx.js","sources":["../../app/javascript/mastodon/hooks/useSearchParam.ts"],"sourcesContent":["import { useMemo, useCallback } from 'react';\n\nimport { useLocation, useHistory } from 'react-router';\n\nexport function useSearchParams() {\n  const { search } = useLocation();\n\n  return useMemo(() => new URLSearchParams(search), [search]);\n}\n\nexport function useSearchParam(name: string, defaultValue?: string) {\n  const searchParams = useSearchParams();\n  const history = useHistory();\n\n  const value = searchParams.get(name) ?? defaultValue;\n\n  const setValue = useCallback(\n    (value: string | null) => {\n      if (value === null) {\n        searchParams.delete(name);\n      } else {\n        searchParams.set(name, value);\n      }\n\n      history.push({ search: searchParams.toString() });\n    },\n    [history, name, searchParams],\n  );\n\n  return [value, setValue] as const;\n}\n"],"names":["useSearchParams","search","useLocation","useMemo","URLSearchParams","useSearchParam","name","defaultValue","searchParams","history","useHistory","value","get","setValue","useCallback","delete","set","push","toString"],"mappings":"8FAIO,SAASA,GAAkB,CAChC,KAAM,CAAEC,OAAAA,CAAAA,EAAWC,EAAAA,EAEnB,OAAOC,EAAAA,QAAQ,IAAM,IAAIC,gBAAgBH,CAAM,EAAG,CAACA,CAAM,CAAC,CAC5D,CAEO,SAASI,EAAeC,EAAcC,EAAuB,CAClE,MAAMC,EAAeR,EAAAA,EACfS,EAAUC,EAAAA,EAEVC,EAAQH,EAAaI,IAAIN,CAAI,GAAKC,EAElCM,EAAWC,cACdH,GAAyB,CACpBA,IAAU,KACZH,EAAaO,OAAOT,CAAI,EAExBE,EAAaQ,IAAIV,EAAMK,CAAK,EAG9BF,EAAQQ,KAAK,CAAEhB,OAAQO,EAAaU,SAAAA,CAAS,CAAG,CAAA,EAElD,CAACT,EAASH,EAAME,CAAY,CAC9B,EAEA,MAAO,CAACG,EAAOE,CAAQ,CACzB"}