{"version":3,"file":"Trends-DEF4flaQ.js","sources":["../../app/javascript/mastodon/components/admin/Trends.jsx"],"sourcesContent":["import PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\n\nimport { FormattedMessage } from 'react-intl';\n\nimport classNames from 'classnames';\n\nimport api from 'mastodon/api';\nimport { Hashtag } from 'mastodon/components/hashtag';\n\nexport default class Trends extends PureComponent {\n\n  static propTypes = {\n    limit: PropTypes.number.isRequired,\n  };\n\n  state = {\n    loading: true,\n    data: null,\n  };\n\n  componentDidMount () {\n    const { limit } = this.props;\n\n    api(false).get('/api/v1/admin/trends/tags', { params: { limit } }).then(res => {\n      this.setState({\n        loading: false,\n        data: res.data,\n      });\n    }).catch(err => {\n      console.error(err);\n    });\n  }\n\n  render () {\n    const { limit } = this.props;\n    const { loading, data } = this.state;\n\n    let content;\n\n    if (loading) {\n      content = (\n        <div>\n          {Array.from(Array(limit)).map((_, i) => (\n            <Hashtag key={i} />\n          ))}\n        </div>\n      );\n    } else {\n      content = (\n        <div>\n          {data.map(hashtag => (\n            <Hashtag\n              key={hashtag.name}\n              name={hashtag.name}\n              to={hashtag.id === undefined ? undefined : `/admin/tags/${hashtag.id}`}\n              people={hashtag.history[0].accounts * 1 + hashtag.history[1].accounts * 1}\n              uses={hashtag.history[0].uses * 1 + hashtag.history[1].uses * 1}\n              history={hashtag.history.reverse().map(day => day.uses)}\n              className={classNames(hashtag.requires_review && 'trends__item--requires-review', !hashtag.trendable && !hashtag.requires_review && 'trends__item--disabled')}\n            />\n          ))}\n        </div>\n      );\n    }\n\n    return (\n      <div className='trends trends--compact'>\n        <h4><FormattedMessage id='trends.trending_now' defaultMessage='Trending now' /></h4>\n\n        {content}\n      </div>\n    );\n  }\n\n}\n"],"names":["Trends","PureComponent","state","loading","data","componentDidMount","limit","props","api","get","params","then","res","setState","catch","err","console","error","render","content","Array","from","map","_","i","jsx","Hashtag","hashtag","name","id","undefined","history","accounts","uses","reverse","day","classNames","requires_review","trendable","jsxs","FormattedMessage"],"mappings":"+mBAUA,MAAqBA,UAAeC,EAAAA,aAAc,CAAlD,kCAMEC,EAAAA,aAAQ,CACNC,QAAS,GACTC,KAAM,IAAA,GAGRC,mBAAqB,CACnB,KAAM,CAAEC,MAAAA,CAAAA,EAAU,KAAKC,MAEvBC,EAAI,EAAK,EAAEC,IAAI,4BAA6B,CAAEC,OAAQ,CAAEJ,MAAAA,CAAAA,CAAM,CAAG,EAAEK,KAAKC,GAAO,CAC7E,KAAKC,SAAS,CACZV,QAAS,GACTC,KAAMQ,EAAIR,IAAAA,CACX,CAAA,CACF,EAAEU,MAAMC,GAAO,CACdC,QAAQC,MAAMF,CAAG,CAAA,CAClB,CAAA,CAGHG,QAAU,CACR,KAAM,CAAEZ,MAAAA,CAAAA,EAAU,KAAKC,MACjB,CAAEJ,QAAAA,EAASC,KAAAA,CAAAA,EAAS,KAAKF,MAE/B,IAAIiB,EAEJ,OAAIhB,EACFgB,QACG,MAAA,CACEC,SAAAA,MAAMC,KAAKD,MAAMd,CAAK,CAAC,EAAEgB,IAAI,CAACC,EAAGC,IAChCC,EAAAA,IAACC,EAAA,GAAaF,CAAE,CACjB,EACH,EAGFL,EACEM,EAAAA,IAAC,MAAA,CACErB,SAAAA,EAAKkB,OACJG,EAAAA,IAACC,EAAA,CAEC,KAAMC,EAAQC,KACd,GAAID,EAAQE,KAAOC,OAAYA,OAAY,eAAeH,EAAQE,EAAE,GACpE,OAAQF,EAAQI,QAAQ,CAAC,EAAEC,SAAW,EAAIL,EAAQI,QAAQ,CAAC,EAAEC,SAAW,EACxE,KAAML,EAAQI,QAAQ,CAAC,EAAEE,KAAO,EAAIN,EAAQI,QAAQ,CAAC,EAAEE,KAAO,EAC9D,QAASN,EAAQI,QAAQG,QAAAA,EAAUZ,OAAWa,EAAIF,IAAI,EACtD,UAAWG,EAAWT,EAAQU,iBAAmB,gCAAiC,CAACV,EAAQW,WAAa,CAACX,EAAQU,iBAAmB,wBAAwB,CAAA,EANvJV,EAAQC,KAQhB,EACH,EAKFW,EAAAA,KAAC,MAAA,CAAI,UAAU,yBACb,SAAA,CAAAd,EAAAA,IAAC,MAAG,SAAAA,EAAAA,IAACe,EAAA,CAAiB,GAAE,sBAAuB,eAAe,eAAc,CAAA,CAAG,EAE9ErB,CAAAA,EACH,CAAA,CAIN"}