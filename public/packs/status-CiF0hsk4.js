var cs=Object.defineProperty;var ls=(t,r,e)=>r in t?cs(t,r,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[r]=e;var _=(t,r,e)=>ls(t,typeof r!="symbol"?r+"":r,e);import{j as l}from"./client-wT6vtYO_.js";import{L as $,w as ds,P as p}from"./short_number-WomMu2iV.js";import{r as E,g as Bn,i as Nn,d as Ln}from"./index-BdTwX--g.js";import{c as G}from"./index-DizoKcfL.js";import{u as hs,r as ps,I as Q,B as fs,j as gs,y as Kn,aR as _s,z as V,aS as vs,b as W,aT as gr,v as ms,w as ys,aU as bs,aV as qs,aW as Cs,ab as Gn,aX as Ms,aY as xs,a as Un,aZ as Is,a_ as As,A as Rs}from"./useSelectableClick-DeaJbL2_.js";import{i as xr}from"./index.es-B0ZBMj49.js";import{ab as Ts,ac as Ss,b as Ps,S as ws,W as ue,ad as ks,ae as Os,af as Ds,D as Es,ag as js,d as Hs}from"./content_warning-DZ8mar1O.js";import{M as j}from"./message-UFwkQlnu.js";import{C as Fs}from"./card-CttmBekj.js";import{e as Ir,y as Ar}from"./initial_state-BP3UcUr4.js";import{A as Bs}from"./avatar_overlay-BeG39OK4.js";import{f as Y,g as vr,h as H,i as ee,j as Ns,k as Ls,m as mr,R as Ks}from"./index-CAH5FfLP.js";import{r as F,a as Gs}from"./toString-Cy1Ecq9L.js";import{g as Us,S as zs}from"./status_content-CaIN8-0B.js";import{P as Z,b as X}from"./permissions-Djze7cmB.js";import{V as $s}from"./visibility_icon-DbVVvHFb.js";const Vs=({title:t,expanded:r,onClick:e})=>l.jsx(Ts,{expanded:r,onClick:e,variant:Ss.Filter,children:l.jsx(j,{id:"filter_warning.matches_filter",defaultMessage:"Matches filter “<span>{title}</span>”",values:{title:t,span:a=>l.jsx("span",{className:"filter-name",children:a})}})}),Ws=t=>E.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:24,viewBox:"0 -960 960 960",width:24,...t},E.createElement("path",{d:"M160-160q-33 0-56.5-23.5T80-240v-280h80v280h640v-480H440v-80h360q33 0 56.5 23.5T880-720v480q0 33-23.5 56.5T800-160H160Zm523-140 57-57-124-123h104v-80H480v240h80v-103l123 123ZM80-600v-200h280v200H80Zm400 120Z"})),Zs=({aspectRatio:t})=>{const r=hs(),e=E.useCallback(()=>{r(ps())},[r]),a=E.useCallback(n=>{(n.key==="Enter"||n.key===" ")&&(n.preventDefault(),n.stopPropagation(),e())},[e]);return l.jsxs("div",{className:"picture-in-picture-placeholder",style:{aspectRatio:t},role:"button",tabIndex:0,onClick:e,onKeyDownCapture:a,children:[l.jsx(Q,{id:"",icon:Ws}),l.jsx(j,{id:"picture_in_picture.restore",defaultMessage:"Put it back"})]})},zn=E.createContext({hideMediaByDefault:!1}),hu=({hideMediaByDefault:t,children:r})=>{const e=E.useMemo(()=>({hideMediaByDefault:t}),[t]);return l.jsx(zn.Provider,{value:e,children:r})};var ce,Rr;function $n(){if(Rr)return ce;Rr=1;var t=Y(),r=vr(),e="[object AsyncFunction]",a="[object Function]",n="[object GeneratorFunction]",s="[object Proxy]";function i(o){if(!r(o))return!1;var c=t(o);return c==a||c==n||c==e||c==s}return ce=i,ce}var le,Tr;function Xs(){if(Tr)return le;Tr=1;var t=H(),r=t["__core-js_shared__"];return le=r,le}var de,Sr;function Js(){if(Sr)return de;Sr=1;var t=Xs(),r=function(){var a=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}();function e(a){return!!r&&r in a}return de=e,de}var he,Pr;function Vn(){if(Pr)return he;Pr=1;var t=Function.prototype,r=t.toString;function e(a){if(a!=null){try{return r.call(a)}catch{}try{return a+""}catch{}}return""}return he=e,he}var pe,wr;function Qs(){if(wr)return pe;wr=1;var t=$n(),r=Js(),e=vr(),a=Vn(),n=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,i=Function.prototype,o=Object.prototype,c=i.toString,d=o.hasOwnProperty,g=RegExp("^"+c.call(d).replace(n,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(y){if(!e(y)||r(y))return!1;var v=t(y)?g:s;return v.test(a(y))}return pe=f,pe}var fe,kr;function Ys(){if(kr)return fe;kr=1;function t(r,e){return r==null?void 0:r[e]}return fe=t,fe}var ge,Or;function N(){if(Or)return ge;Or=1;var t=Qs(),r=Ys();function e(a,n){var s=r(a,n);return t(s)?s:void 0}return ge=e,ge}var _e,Dr;function ei(){if(Dr)return _e;Dr=1;var t=N(),r=function(){try{var e=t(Object,"defineProperty");return e({},"",{}),e}catch{}}();return _e=r,_e}var ve,Er;function ti(){if(Er)return ve;Er=1;var t=ei();function r(e,a,n){a=="__proto__"&&t?t(e,a,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[a]=n}return ve=r,ve}var me,jr;function ri(){if(jr)return me;jr=1;function t(r,e,a,n){for(var s=-1,i=r==null?0:r.length;++s<i;){var o=r[s];e(n,o,a(o),r)}return n}return me=t,me}var ye,Hr;function ai(){if(Hr)return ye;Hr=1;function t(r){return function(e,a,n){for(var s=-1,i=Object(e),o=n(e),c=o.length;c--;){var d=o[r?c:++s];if(a(i[d],d,i)===!1)break}return e}}return ye=t,ye}var be,Fr;function ni(){if(Fr)return be;Fr=1;var t=ai(),r=t();return be=r,be}var qe,Br;function si(){if(Br)return qe;Br=1;function t(r,e){for(var a=-1,n=Array(r);++a<r;)n[a]=e(a);return n}return qe=t,qe}var Ce,Nr;function ii(){if(Nr)return Ce;Nr=1;var t=Y(),r=ee(),e="[object Arguments]";function a(n){return r(n)&&t(n)==e}return Ce=a,Ce}var Me,Lr;function Wn(){if(Lr)return Me;Lr=1;var t=ii(),r=ee(),e=Object.prototype,a=e.hasOwnProperty,n=e.propertyIsEnumerable,s=t(function(){return arguments}())?t:function(i){return r(i)&&a.call(i,"callee")&&!n.call(i,"callee")};return Me=s,Me}var U={exports:{}},xe,Kr;function oi(){if(Kr)return xe;Kr=1;function t(){return!1}return xe=t,xe}U.exports;var Gr;function Zn(){return Gr||(Gr=1,function(t,r){var e=H(),a=oi(),n=r&&!r.nodeType&&r,s=n&&!0&&t&&!t.nodeType&&t,i=s&&s.exports===n,o=i?e.Buffer:void 0,c=o?o.isBuffer:void 0,d=c||a;t.exports=d}(U,U.exports)),U.exports}var Ie,Ur;function Xn(){if(Ur)return Ie;Ur=1;var t=9007199254740991,r=/^(?:0|[1-9]\d*)$/;function e(a,n){var s=typeof a;return n=n??t,!!n&&(s=="number"||s!="symbol"&&r.test(a))&&a>-1&&a%1==0&&a<n}return Ie=e,Ie}var Ae,zr;function yr(){if(zr)return Ae;zr=1;var t=9007199254740991;function r(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=t}return Ae=r,Ae}var Re,$r;function ui(){if($r)return Re;$r=1;var t=Y(),r=yr(),e=ee(),a="[object Arguments]",n="[object Array]",s="[object Boolean]",i="[object Date]",o="[object Error]",c="[object Function]",d="[object Map]",g="[object Number]",f="[object Object]",y="[object RegExp]",v="[object Set]",R="[object String]",m="[object WeakMap]",h="[object ArrayBuffer]",u="[object DataView]",b="[object Float32Array]",T="[object Float64Array]",M="[object Int8Array]",A="[object Int16Array]",q="[object Int32Array]",C="[object Uint8Array]",S="[object Uint8ClampedArray]",P="[object Uint16Array]",w="[object Uint32Array]",I={};I[b]=I[T]=I[M]=I[A]=I[q]=I[C]=I[S]=I[P]=I[w]=!0,I[a]=I[n]=I[h]=I[s]=I[u]=I[i]=I[o]=I[c]=I[d]=I[g]=I[f]=I[y]=I[v]=I[R]=I[m]=!1;function D(O){return e(O)&&r(O.length)&&!!I[t(O)]}return Re=D,Re}var Te,Vr;function ci(){if(Vr)return Te;Vr=1;function t(r){return function(e){return r(e)}}return Te=t,Te}var z={exports:{}};z.exports;var Wr;function li(){return Wr||(Wr=1,function(t,r){var e=Ns(),a=r&&!r.nodeType&&r,n=a&&!0&&t&&!t.nodeType&&t,s=n&&n.exports===a,i=s&&e.process,o=function(){try{var c=n&&n.require&&n.require("util").types;return c||i&&i.binding&&i.binding("util")}catch{}}();t.exports=o}(z,z.exports)),z.exports}var Se,Zr;function Jn(){if(Zr)return Se;Zr=1;var t=ui(),r=ci(),e=li(),a=e&&e.isTypedArray,n=a?r(a):t;return Se=n,Se}var Pe,Xr;function di(){if(Xr)return Pe;Xr=1;var t=si(),r=Wn(),e=F(),a=Zn(),n=Xn(),s=Jn(),i=Object.prototype,o=i.hasOwnProperty;function c(d,g){var f=e(d),y=!f&&r(d),v=!f&&!y&&a(d),R=!f&&!y&&!v&&s(d),m=f||y||v||R,h=m?t(d.length,String):[],u=h.length;for(var b in d)(g||o.call(d,b))&&!(m&&(b=="length"||v&&(b=="offset"||b=="parent")||R&&(b=="buffer"||b=="byteLength"||b=="byteOffset")||n(b,u)))&&h.push(b);return h}return Pe=c,Pe}var we,Jr;function hi(){if(Jr)return we;Jr=1;var t=Object.prototype;function r(e){var a=e&&e.constructor,n=typeof a=="function"&&a.prototype||t;return e===n}return we=r,we}var ke,Qr;function pi(){if(Qr)return ke;Qr=1;function t(r,e){return function(a){return r(e(a))}}return ke=t,ke}var Oe,Yr;function fi(){if(Yr)return Oe;Yr=1;var t=pi(),r=t(Object.keys,Object);return Oe=r,Oe}var De,ea;function gi(){if(ea)return De;ea=1;var t=hi(),r=fi(),e=Object.prototype,a=e.hasOwnProperty;function n(s){if(!t(s))return r(s);var i=[];for(var o in Object(s))a.call(s,o)&&o!="constructor"&&i.push(o);return i}return De=n,De}var Ee,ta;function Qn(){if(ta)return Ee;ta=1;var t=$n(),r=yr();function e(a){return a!=null&&r(a.length)&&!t(a)}return Ee=e,Ee}var je,ra;function br(){if(ra)return je;ra=1;var t=di(),r=gi(),e=Qn();function a(n){return e(n)?t(n):r(n)}return je=a,je}var He,aa;function _i(){if(aa)return He;aa=1;var t=ni(),r=br();function e(a,n){return a&&t(a,n,r)}return He=e,He}var Fe,na;function vi(){if(na)return Fe;na=1;var t=Qn();function r(e,a){return function(n,s){if(n==null)return n;if(!t(n))return e(n,s);for(var i=n.length,o=a?i:-1,c=Object(n);(a?o--:++o<i)&&s(c[o],o,c)!==!1;);return n}}return Fe=r,Fe}var Be,sa;function mi(){if(sa)return Be;sa=1;var t=_i(),r=vi(),e=r(t);return Be=e,Be}var Ne,ia;function yi(){if(ia)return Ne;ia=1;var t=mi();function r(e,a,n,s){return t(e,function(i,o,c){a(s,i,n(i),c)}),s}return Ne=r,Ne}var Le,oa;function bi(){if(oa)return Le;oa=1;function t(){this.__data__=[],this.size=0}return Le=t,Le}var Ke,ua;function Yn(){if(ua)return Ke;ua=1;function t(r,e){return r===e||r!==r&&e!==e}return Ke=t,Ke}var Ge,ca;function te(){if(ca)return Ge;ca=1;var t=Yn();function r(e,a){for(var n=e.length;n--;)if(t(e[n][0],a))return n;return-1}return Ge=r,Ge}var Ue,la;function qi(){if(la)return Ue;la=1;var t=te(),r=Array.prototype,e=r.splice;function a(n){var s=this.__data__,i=t(s,n);if(i<0)return!1;var o=s.length-1;return i==o?s.pop():e.call(s,i,1),--this.size,!0}return Ue=a,Ue}var ze,da;function Ci(){if(da)return ze;da=1;var t=te();function r(e){var a=this.__data__,n=t(a,e);return n<0?void 0:a[n][1]}return ze=r,ze}var $e,ha;function Mi(){if(ha)return $e;ha=1;var t=te();function r(e){return t(this.__data__,e)>-1}return $e=r,$e}var Ve,pa;function xi(){if(pa)return Ve;pa=1;var t=te();function r(e,a){var n=this.__data__,s=t(n,e);return s<0?(++this.size,n.push([e,a])):n[s][1]=a,this}return Ve=r,Ve}var We,fa;function re(){if(fa)return We;fa=1;var t=bi(),r=qi(),e=Ci(),a=Mi(),n=xi();function s(i){var o=-1,c=i==null?0:i.length;for(this.clear();++o<c;){var d=i[o];this.set(d[0],d[1])}}return s.prototype.clear=t,s.prototype.delete=r,s.prototype.get=e,s.prototype.has=a,s.prototype.set=n,We=s,We}var Ze,ga;function Ii(){if(ga)return Ze;ga=1;var t=re();function r(){this.__data__=new t,this.size=0}return Ze=r,Ze}var Xe,_a;function Ai(){if(_a)return Xe;_a=1;function t(r){var e=this.__data__,a=e.delete(r);return this.size=e.size,a}return Xe=t,Xe}var Je,va;function Ri(){if(va)return Je;va=1;function t(r){return this.__data__.get(r)}return Je=t,Je}var Qe,ma;function Ti(){if(ma)return Qe;ma=1;function t(r){return this.__data__.has(r)}return Qe=t,Qe}var Ye,ya;function qr(){if(ya)return Ye;ya=1;var t=N(),r=H(),e=t(r,"Map");return Ye=e,Ye}var et,ba;function ae(){if(ba)return et;ba=1;var t=N(),r=t(Object,"create");return et=r,et}var tt,qa;function Si(){if(qa)return tt;qa=1;var t=ae();function r(){this.__data__=t?t(null):{},this.size=0}return tt=r,tt}var rt,Ca;function Pi(){if(Ca)return rt;Ca=1;function t(r){var e=this.has(r)&&delete this.__data__[r];return this.size-=e?1:0,e}return rt=t,rt}var at,Ma;function wi(){if(Ma)return at;Ma=1;var t=ae(),r="__lodash_hash_undefined__",e=Object.prototype,a=e.hasOwnProperty;function n(s){var i=this.__data__;if(t){var o=i[s];return o===r?void 0:o}return a.call(i,s)?i[s]:void 0}return at=n,at}var nt,xa;function ki(){if(xa)return nt;xa=1;var t=ae(),r=Object.prototype,e=r.hasOwnProperty;function a(n){var s=this.__data__;return t?s[n]!==void 0:e.call(s,n)}return nt=a,nt}var st,Ia;function Oi(){if(Ia)return st;Ia=1;var t=ae(),r="__lodash_hash_undefined__";function e(a,n){var s=this.__data__;return this.size+=this.has(a)?0:1,s[a]=t&&n===void 0?r:n,this}return st=e,st}var it,Aa;function Di(){if(Aa)return it;Aa=1;var t=Si(),r=Pi(),e=wi(),a=ki(),n=Oi();function s(i){var o=-1,c=i==null?0:i.length;for(this.clear();++o<c;){var d=i[o];this.set(d[0],d[1])}}return s.prototype.clear=t,s.prototype.delete=r,s.prototype.get=e,s.prototype.has=a,s.prototype.set=n,it=s,it}var ot,Ra;function Ei(){if(Ra)return ot;Ra=1;var t=Di(),r=re(),e=qr();function a(){this.size=0,this.__data__={hash:new t,map:new(e||r),string:new t}}return ot=a,ot}var ut,Ta;function ji(){if(Ta)return ut;Ta=1;function t(r){var e=typeof r;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?r!=="__proto__":r===null}return ut=t,ut}var ct,Sa;function ne(){if(Sa)return ct;Sa=1;var t=ji();function r(e,a){var n=e.__data__;return t(a)?n[typeof a=="string"?"string":"hash"]:n.map}return ct=r,ct}var lt,Pa;function Hi(){if(Pa)return lt;Pa=1;var t=ne();function r(e){var a=t(this,e).delete(e);return this.size-=a?1:0,a}return lt=r,lt}var dt,wa;function Fi(){if(wa)return dt;wa=1;var t=ne();function r(e){return t(this,e).get(e)}return dt=r,dt}var ht,ka;function Bi(){if(ka)return ht;ka=1;var t=ne();function r(e){return t(this,e).has(e)}return ht=r,ht}var pt,Oa;function Ni(){if(Oa)return pt;Oa=1;var t=ne();function r(e,a){var n=t(this,e),s=n.size;return n.set(e,a),this.size+=n.size==s?0:1,this}return pt=r,pt}var ft,Da;function Cr(){if(Da)return ft;Da=1;var t=Ei(),r=Hi(),e=Fi(),a=Bi(),n=Ni();function s(i){var o=-1,c=i==null?0:i.length;for(this.clear();++o<c;){var d=i[o];this.set(d[0],d[1])}}return s.prototype.clear=t,s.prototype.delete=r,s.prototype.get=e,s.prototype.has=a,s.prototype.set=n,ft=s,ft}var gt,Ea;function Li(){if(Ea)return gt;Ea=1;var t=re(),r=qr(),e=Cr(),a=200;function n(s,i){var o=this.__data__;if(o instanceof t){var c=o.__data__;if(!r||c.length<a-1)return c.push([s,i]),this.size=++o.size,this;o=this.__data__=new e(c)}return o.set(s,i),this.size=o.size,this}return gt=n,gt}var _t,ja;function es(){if(ja)return _t;ja=1;var t=re(),r=Ii(),e=Ai(),a=Ri(),n=Ti(),s=Li();function i(o){var c=this.__data__=new t(o);this.size=c.size}return i.prototype.clear=r,i.prototype.delete=e,i.prototype.get=a,i.prototype.has=n,i.prototype.set=s,_t=i,_t}var vt,Ha;function Ki(){if(Ha)return vt;Ha=1;var t="__lodash_hash_undefined__";function r(e){return this.__data__.set(e,t),this}return vt=r,vt}var mt,Fa;function Gi(){if(Fa)return mt;Fa=1;function t(r){return this.__data__.has(r)}return mt=t,mt}var yt,Ba;function Ui(){if(Ba)return yt;Ba=1;var t=Cr(),r=Ki(),e=Gi();function a(n){var s=-1,i=n==null?0:n.length;for(this.__data__=new t;++s<i;)this.add(n[s])}return a.prototype.add=a.prototype.push=r,a.prototype.has=e,yt=a,yt}var bt,Na;function zi(){if(Na)return bt;Na=1;function t(r,e){for(var a=-1,n=r==null?0:r.length;++a<n;)if(e(r[a],a,r))return!0;return!1}return bt=t,bt}var qt,La;function $i(){if(La)return qt;La=1;function t(r,e){return r.has(e)}return qt=t,qt}var Ct,Ka;function ts(){if(Ka)return Ct;Ka=1;var t=Ui(),r=zi(),e=$i(),a=1,n=2;function s(i,o,c,d,g,f){var y=c&a,v=i.length,R=o.length;if(v!=R&&!(y&&R>v))return!1;var m=f.get(i),h=f.get(o);if(m&&h)return m==o&&h==i;var u=-1,b=!0,T=c&n?new t:void 0;for(f.set(i,o),f.set(o,i);++u<v;){var M=i[u],A=o[u];if(d)var q=y?d(A,M,u,o,i,f):d(M,A,u,i,o,f);if(q!==void 0){if(q)continue;b=!1;break}if(T){if(!r(o,function(C,S){if(!e(T,S)&&(M===C||g(M,C,c,d,f)))return T.push(S)})){b=!1;break}}else if(!(M===A||g(M,A,c,d,f))){b=!1;break}}return f.delete(i),f.delete(o),b}return Ct=s,Ct}var Mt,Ga;function Vi(){if(Ga)return Mt;Ga=1;var t=H(),r=t.Uint8Array;return Mt=r,Mt}var xt,Ua;function Wi(){if(Ua)return xt;Ua=1;function t(r){var e=-1,a=Array(r.size);return r.forEach(function(n,s){a[++e]=[s,n]}),a}return xt=t,xt}var It,za;function Zi(){if(za)return It;za=1;function t(r){var e=-1,a=Array(r.size);return r.forEach(function(n){a[++e]=n}),a}return It=t,It}var At,$a;function Xi(){if($a)return At;$a=1;var t=Ls(),r=Vi(),e=Yn(),a=ts(),n=Wi(),s=Zi(),i=1,o=2,c="[object Boolean]",d="[object Date]",g="[object Error]",f="[object Map]",y="[object Number]",v="[object RegExp]",R="[object Set]",m="[object String]",h="[object Symbol]",u="[object ArrayBuffer]",b="[object DataView]",T=t?t.prototype:void 0,M=T?T.valueOf:void 0;function A(q,C,S,P,w,I,D){switch(S){case b:if(q.byteLength!=C.byteLength||q.byteOffset!=C.byteOffset)return!1;q=q.buffer,C=C.buffer;case u:return!(q.byteLength!=C.byteLength||!I(new r(q),new r(C)));case c:case d:case y:return e(+q,+C);case g:return q.name==C.name&&q.message==C.message;case v:case m:return q==C+"";case f:var O=n;case R:var K=P&i;if(O||(O=s),q.size!=C.size&&!K)return!1;var L=D.get(q);if(L)return L==C;P|=o,D.set(q,C);var B=a(O(q),O(C),P,w,I,D);return D.delete(q),B;case h:if(M)return M.call(q)==M.call(C)}return!1}return At=A,At}var Rt,Va;function Ji(){if(Va)return Rt;Va=1;function t(r,e){for(var a=-1,n=e.length,s=r.length;++a<n;)r[s+a]=e[a];return r}return Rt=t,Rt}var Tt,Wa;function Qi(){if(Wa)return Tt;Wa=1;var t=Ji(),r=F();function e(a,n,s){var i=n(a);return r(a)?i:t(i,s(a))}return Tt=e,Tt}var St,Za;function Yi(){if(Za)return St;Za=1;function t(r,e){for(var a=-1,n=r==null?0:r.length,s=0,i=[];++a<n;){var o=r[a];e(o,a,r)&&(i[s++]=o)}return i}return St=t,St}var Pt,Xa;function eo(){if(Xa)return Pt;Xa=1;function t(){return[]}return Pt=t,Pt}var wt,Ja;function to(){if(Ja)return wt;Ja=1;var t=Yi(),r=eo(),e=Object.prototype,a=e.propertyIsEnumerable,n=Object.getOwnPropertySymbols,s=n?function(i){return i==null?[]:(i=Object(i),t(n(i),function(o){return a.call(i,o)}))}:r;return wt=s,wt}var kt,Qa;function ro(){if(Qa)return kt;Qa=1;var t=Qi(),r=to(),e=br();function a(n){return t(n,e,r)}return kt=a,kt}var Ot,Ya;function ao(){if(Ya)return Ot;Ya=1;var t=ro(),r=1,e=Object.prototype,a=e.hasOwnProperty;function n(s,i,o,c,d,g){var f=o&r,y=t(s),v=y.length,R=t(i),m=R.length;if(v!=m&&!f)return!1;for(var h=v;h--;){var u=y[h];if(!(f?u in i:a.call(i,u)))return!1}var b=g.get(s),T=g.get(i);if(b&&T)return b==i&&T==s;var M=!0;g.set(s,i),g.set(i,s);for(var A=f;++h<v;){u=y[h];var q=s[u],C=i[u];if(c)var S=f?c(C,q,u,i,s,g):c(q,C,u,s,i,g);if(!(S===void 0?q===C||d(q,C,o,c,g):S)){M=!1;break}A||(A=u=="constructor")}if(M&&!A){var P=s.constructor,w=i.constructor;P!=w&&"constructor"in s&&"constructor"in i&&!(typeof P=="function"&&P instanceof P&&typeof w=="function"&&w instanceof w)&&(M=!1)}return g.delete(s),g.delete(i),M}return Ot=n,Ot}var Dt,en;function no(){if(en)return Dt;en=1;var t=N(),r=H(),e=t(r,"DataView");return Dt=e,Dt}var Et,tn;function so(){if(tn)return Et;tn=1;var t=N(),r=H(),e=t(r,"Promise");return Et=e,Et}var jt,rn;function io(){if(rn)return jt;rn=1;var t=N(),r=H(),e=t(r,"Set");return jt=e,jt}var Ht,an;function oo(){if(an)return Ht;an=1;var t=N(),r=H(),e=t(r,"WeakMap");return Ht=e,Ht}var Ft,nn;function uo(){if(nn)return Ft;nn=1;var t=no(),r=qr(),e=so(),a=io(),n=oo(),s=Y(),i=Vn(),o="[object Map]",c="[object Object]",d="[object Promise]",g="[object Set]",f="[object WeakMap]",y="[object DataView]",v=i(t),R=i(r),m=i(e),h=i(a),u=i(n),b=s;return(t&&b(new t(new ArrayBuffer(1)))!=y||r&&b(new r)!=o||e&&b(e.resolve())!=d||a&&b(new a)!=g||n&&b(new n)!=f)&&(b=function(T){var M=s(T),A=M==c?T.constructor:void 0,q=A?i(A):"";if(q)switch(q){case v:return y;case R:return o;case m:return d;case h:return g;case u:return f}return M}),Ft=b,Ft}var Bt,sn;function co(){if(sn)return Bt;sn=1;var t=es(),r=ts(),e=Xi(),a=ao(),n=uo(),s=F(),i=Zn(),o=Jn(),c=1,d="[object Arguments]",g="[object Array]",f="[object Object]",y=Object.prototype,v=y.hasOwnProperty;function R(m,h,u,b,T,M){var A=s(m),q=s(h),C=A?g:n(m),S=q?g:n(h);C=C==d?f:C,S=S==d?f:S;var P=C==f,w=S==f,I=C==S;if(I&&i(m)){if(!i(h))return!1;A=!0,P=!1}if(I&&!P)return M||(M=new t),A||o(m)?r(m,h,u,b,T,M):e(m,h,C,u,b,T,M);if(!(u&c)){var D=P&&v.call(m,"__wrapped__"),O=w&&v.call(h,"__wrapped__");if(D||O){var K=D?m.value():m,L=O?h.value():h;return M||(M=new t),T(K,L,u,b,M)}}return I?(M||(M=new t),a(m,h,u,b,T,M)):!1}return Bt=R,Bt}var Nt,on;function rs(){if(on)return Nt;on=1;var t=co(),r=ee();function e(a,n,s,i,o){return a===n?!0:a==null||n==null||!r(a)&&!r(n)?a!==a&&n!==n:t(a,n,s,i,e,o)}return Nt=e,Nt}var Lt,un;function lo(){if(un)return Lt;un=1;var t=es(),r=rs(),e=1,a=2;function n(s,i,o,c){var d=o.length,g=d,f=!c;if(s==null)return!g;for(s=Object(s);d--;){var y=o[d];if(f&&y[2]?y[1]!==s[y[0]]:!(y[0]in s))return!1}for(;++d<g;){y=o[d];var v=y[0],R=s[v],m=y[1];if(f&&y[2]){if(R===void 0&&!(v in s))return!1}else{var h=new t;if(c)var u=c(R,m,v,s,i,h);if(!(u===void 0?r(m,R,e|a,c,h):u))return!1}}return!0}return Lt=n,Lt}var Kt,cn;function as(){if(cn)return Kt;cn=1;var t=vr();function r(e){return e===e&&!t(e)}return Kt=r,Kt}var Gt,ln;function ho(){if(ln)return Gt;ln=1;var t=as(),r=br();function e(a){for(var n=r(a),s=n.length;s--;){var i=n[s],o=a[i];n[s]=[i,o,t(o)]}return n}return Gt=e,Gt}var Ut,dn;function ns(){if(dn)return Ut;dn=1;function t(r,e){return function(a){return a==null?!1:a[r]===e&&(e!==void 0||r in Object(a))}}return Ut=t,Ut}var zt,hn;function po(){if(hn)return zt;hn=1;var t=lo(),r=ho(),e=ns();function a(n){var s=r(n);return s.length==1&&s[0][2]?e(s[0][0],s[0][1]):function(i){return i===n||t(i,n,s)}}return zt=a,zt}var $t,pn;function Mr(){if(pn)return $t;pn=1;var t=F(),r=mr(),e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;function n(s,i){if(t(s))return!1;var o=typeof s;return o=="number"||o=="symbol"||o=="boolean"||s==null||r(s)?!0:a.test(s)||!e.test(s)||i!=null&&s in Object(i)}return $t=n,$t}var Vt,fn;function fo(){if(fn)return Vt;fn=1;var t=Cr(),r="Expected a function";function e(a,n){if(typeof a!="function"||n!=null&&typeof n!="function")throw new TypeError(r);var s=function(){var i=arguments,o=n?n.apply(this,i):i[0],c=s.cache;if(c.has(o))return c.get(o);var d=a.apply(this,i);return s.cache=c.set(o,d)||c,d};return s.cache=new(e.Cache||t),s}return e.Cache=t,Vt=e,Vt}var Wt,gn;function go(){if(gn)return Wt;gn=1;var t=fo(),r=500;function e(a){var n=t(a,function(i){return s.size===r&&s.clear(),i}),s=n.cache;return n}return Wt=e,Wt}var Zt,_n;function _o(){if(_n)return Zt;_n=1;var t=go(),r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,e=/\\(\\)?/g,a=t(function(n){var s=[];return n.charCodeAt(0)===46&&s.push(""),n.replace(r,function(i,o,c,d){s.push(c?d.replace(e,"$1"):o||i)}),s});return Zt=a,Zt}var Xt,vn;function ss(){if(vn)return Xt;vn=1;var t=F(),r=Mr(),e=_o(),a=Gs();function n(s,i){return t(s)?s:r(s,i)?[s]:e(a(s))}return Xt=n,Xt}var Jt,mn;function se(){if(mn)return Jt;mn=1;var t=mr();function r(e){if(typeof e=="string"||t(e))return e;var a=e+"";return a=="0"&&1/e==-1/0?"-0":a}return Jt=r,Jt}var Qt,yn;function is(){if(yn)return Qt;yn=1;var t=ss(),r=se();function e(a,n){n=t(n,a);for(var s=0,i=n.length;a!=null&&s<i;)a=a[r(n[s++])];return s&&s==i?a:void 0}return Qt=e,Qt}var Yt,bn;function vo(){if(bn)return Yt;bn=1;var t=is();function r(e,a,n){var s=e==null?void 0:t(e,a);return s===void 0?n:s}return Yt=r,Yt}var er,qn;function mo(){if(qn)return er;qn=1;function t(r,e){return r!=null&&e in Object(r)}return er=t,er}var tr,Cn;function yo(){if(Cn)return tr;Cn=1;var t=ss(),r=Wn(),e=F(),a=Xn(),n=yr(),s=se();function i(o,c,d){c=t(c,o);for(var g=-1,f=c.length,y=!1;++g<f;){var v=s(c[g]);if(!(y=o!=null&&d(o,v)))break;o=o[v]}return y||++g!=f?y:(f=o==null?0:o.length,!!f&&n(f)&&a(v,f)&&(e(o)||r(o)))}return tr=i,tr}var rr,Mn;function bo(){if(Mn)return rr;Mn=1;var t=mo(),r=yo();function e(a,n){return a!=null&&r(a,n,t)}return rr=e,rr}var ar,xn;function qo(){if(xn)return ar;xn=1;var t=rs(),r=vo(),e=bo(),a=Mr(),n=as(),s=ns(),i=se(),o=1,c=2;function d(g,f){return a(g)&&n(f)?s(i(g),f):function(y){var v=r(y,g);return v===void 0&&v===f?e(y,g):t(f,v,o|c)}}return ar=d,ar}var nr,In;function Co(){if(In)return nr;In=1;function t(r){return r}return nr=t,nr}var sr,An;function Mo(){if(An)return sr;An=1;function t(r){return function(e){return e==null?void 0:e[r]}}return sr=t,sr}var ir,Rn;function xo(){if(Rn)return ir;Rn=1;var t=is();function r(e){return function(a){return t(a,e)}}return ir=r,ir}var or,Tn;function Io(){if(Tn)return or;Tn=1;var t=Mo(),r=xo(),e=Mr(),a=se();function n(s){return e(s)?t(a(s)):r(s)}return or=n,or}var ur,Sn;function os(){if(Sn)return ur;Sn=1;var t=po(),r=qo(),e=Co(),a=F(),n=Io();function s(i){return typeof i=="function"?i:i==null?e:typeof i=="object"?a(i)?r(i[0],i[1]):t(i):n(i)}return ur=s,ur}var cr,Pn;function Ao(){if(Pn)return cr;Pn=1;var t=ri(),r=yi(),e=os(),a=F();function n(s,i){return function(o,c){var d=a(o)?t:r,g=i?i():{};return d(o,s,e(c,2),g)}}return cr=n,cr}var lr,wn;function Ro(){if(wn)return lr;wn=1;var t=ti(),r=Ao(),e=Object.prototype,a=e.hasOwnProperty,n=r(function(s,i,o){a.call(s,o)?s[o].push(i):t(s,o,[i])});return lr=n,lr}var To=Ro();const So=Bn(To);var dr,kn;function Po(){if(kn)return dr;kn=1;var t=mr();function r(e,a,n){for(var s=-1,i=e.length;++s<i;){var o=e[s],c=a(o);if(c!=null&&(d===void 0?c===c&&!t(c):n(c,d)))var d=c,g=o}return g}return dr=r,dr}var hr,On;function wo(){if(On)return hr;On=1;function t(r,e){return r<e}return hr=t,hr}var pr,Dn;function ko(){if(Dn)return pr;Dn=1;var t=Po(),r=os(),e=wo();function a(n,s){return n&&n.length?t(n,r(s,2),e):void 0}return pr=a,pr}var Oo=ko();const Do=Bn(Oo),fr=3;function En(t){return(t&&t.startsWith("#")?t.slice(1):t).normalize("NFKC")}function jn(t){var r,e,a;return t instanceof HTMLAnchorElement&&(((r=t.textContent)==null?void 0:r[0])==="#"||((a=(e=t.previousSibling)==null?void 0:e.textContent)==null?void 0:a[t.previousSibling.textContent.length-1])==="#")}function Eo(t){const r=So(t,e=>e.normalize("NFKD").toLowerCase());return Object.values(r).map(e=>{const a=e[0];return e.length===1?a:Do(e,s=>{const i=Array.from(s).reduce((c,d)=>c+=d.toUpperCase()===d?1:0,0),o=s.length-i;return Math.abs(o-i)})??a})}const jo=new Intl.Collator(void 0,{sensitivity:"base"});function J(t,r){const e=r.normalize("NFKC");return!!t.find(a=>jo.compare(a.normalize("NFKC"),e)===0)}function Ho(t){let r=Us(t);const e=t.get("tags").map(m=>m.get("name")).toJS(),a={statusContentProps:{statusContent:r},hashtagsInBar:[]};if(e.length===0)return a;const n=document.createElement("template");n.innerHTML=r.trim();const s=n.content.lastChild;if(!s||s.nodeType===Node.TEXT_NODE)return a;n.content.removeChild(s);const i=n,o=Array.from(i.content.querySelectorAll("a[href]")).reduce((m,h)=>(jn(h)&&h.textContent&&m.push(En(h.textContent)),m),[]),c=[];let d=!0;const g=e.map(m=>m.normalize("NFKC"));Array.from(s.childNodes).forEach(m=>{var h;if(jn(m)&&m.textContent){const u=En(m.textContent);if(!J(g,u)){d=!1;return}J(o,u)||c.push(u)}else(m.nodeType!==Node.TEXT_NODE||(h=m.nodeValue)!=null&&h.trim())&&(d=!1)});const f=e.filter(m=>{const h=m.normalize("NFKC");return!J(o,h)&&!J(c,h)}),y=i.content.childElementCount===0,v=t.get("media_attachments").size>0,R=!!t.get("spoiler_text");return d&&(v&&!R||!y)&&(r=i.innerHTML,f.push(...c)),{statusContentProps:{statusContent:r},hashtagsInBar:Eo(f)}}function Fo(t){const{statusContentProps:r,hashtagsInBar:e}=Ho(t);return{statusContentProps:r,hashtagBar:l.jsx(Bo,{hashtags:e,accountId:t.getIn(["account","id"])})}}const Bo=({hashtags:t,accountId:r})=>{const[e,a]=E.useState(!1),n=E.useCallback(()=>{a(!0)},[]);if(t.length===0)return null;const s=e?t:t.slice(0,fr);return l.jsxs("div",{className:"hashtag-bar",children:[s.map(i=>l.jsxs($,{to:`/tags/${i}`,"data-menu-hashtag":r,children:["#",l.jsx("span",{children:i})]},i)),!e&&t.length>fr&&l.jsx("button",{className:"link-button",onClick:n,children:l.jsx(j,{id:"hashtags.and_other",defaultMessage:"…and {count, plural, other {# more}}",values:{count:t.length-fr}})})]})},No=t=>E.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:24,viewBox:"0 -960 960 960",width:24,...t},E.createElement("path",{d:"M200-120v-640q0-33 23.5-56.5T280-840h400q33 0 56.5 23.5T760-760v640L480-240 200-120Z"})),Lo=t=>E.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:24,viewBox:"0 -960 960 960",width:24,...t},E.createElement("path",{d:"M200-120v-640q0-33 23.5-56.5T280-840h400q33 0 56.5 23.5T760-760v640L480-240 200-120Zm80-122 200-86 200 86v-518H280v518Zm0-518h400-400Z"})),x=Ln({delete:{id:"status.delete",defaultMessage:"Delete"},redraft:{id:"status.redraft",defaultMessage:"Delete & re-draft"},edit:{id:"status.edit",defaultMessage:"Edit"},direct:{id:"status.direct",defaultMessage:"Privately mention @{name}"},mention:{id:"status.mention",defaultMessage:"Mention @{name}"},mute:{id:"account.mute",defaultMessage:"Mute @{name}"},block:{id:"account.block",defaultMessage:"Block @{name}"},reply:{id:"status.reply",defaultMessage:"Reply"},share:{id:"status.share",defaultMessage:"Share"},more:{id:"status.more",defaultMessage:"More"},replyAll:{id:"status.replyAll",defaultMessage:"Reply to thread"},reblog:{id:"status.reblog",defaultMessage:"Boost"},reblog_private:{id:"status.reblog_private",defaultMessage:"Boost with original visibility"},cancel_reblog_private:{id:"status.cancel_reblog_private",defaultMessage:"Unboost"},cannot_reblog:{id:"status.cannot_reblog",defaultMessage:"This post cannot be boosted"},favourite:{id:"status.favourite",defaultMessage:"Favorite"},removeFavourite:{id:"status.remove_favourite",defaultMessage:"Remove from favorites"},bookmark:{id:"status.bookmark",defaultMessage:"Bookmark"},removeBookmark:{id:"status.remove_bookmark",defaultMessage:"Remove bookmark"},open:{id:"status.open",defaultMessage:"Expand this status"},report:{id:"status.report",defaultMessage:"Report @{name}"},muteConversation:{id:"status.mute_conversation",defaultMessage:"Mute conversation"},unmuteConversation:{id:"status.unmute_conversation",defaultMessage:"Unmute conversation"},pin:{id:"status.pin",defaultMessage:"Pin on profile"},unpin:{id:"status.unpin",defaultMessage:"Unpin from profile"},embed:{id:"status.embed",defaultMessage:"Get embed code"},admin_account:{id:"status.admin_account",defaultMessage:"Open moderation interface for @{name}"},admin_status:{id:"status.admin_status",defaultMessage:"Open this post in the moderation interface"},admin_domain:{id:"status.admin_domain",defaultMessage:"Open moderation interface for {domain}"},copy:{id:"status.copy",defaultMessage:"Copy link to post"},blockDomain:{id:"account.block_domain",defaultMessage:"Block domain {domain}"},unblockDomain:{id:"account.unblock_domain",defaultMessage:"Unblock domain {domain}"},unmute:{id:"account.unmute",defaultMessage:"Unmute @{name}"},unblock:{id:"account.unblock",defaultMessage:"Unblock @{name}"},filter:{id:"status.filter",defaultMessage:"Filter this post"},openOriginalPage:{id:"account.open_original_page",defaultMessage:"Open original page"}}),Ko=(t,{status:r})=>({relationship:t.getIn(["relationships",r.getIn(["account","id"])])});class us extends Kn{constructor(){super(...arguments);_(this,"updateOnProps",["status","relationship","withDismiss"]);_(this,"handleReplyClick",()=>{const{signedIn:e}=this.props.identity;e?this.props.onReply(this.props.status):this.props.onInteractionModal("reply",this.props.status)});_(this,"handleShareClick",()=>{navigator.share({url:this.props.status.get("url")}).catch(e=>{e.name!=="AbortError"&&console.error(e)})});_(this,"handleFavouriteClick",()=>{const{signedIn:e}=this.props.identity;e?this.props.onFavourite(this.props.status):this.props.onInteractionModal("favourite",this.props.status)});_(this,"handleReblogClick",e=>{const{signedIn:a}=this.props.identity;a?this.props.onReblog(this.props.status,e):this.props.onInteractionModal("reblog",this.props.status)});_(this,"handleBookmarkClick",()=>{this.props.onBookmark(this.props.status)});_(this,"handleDeleteClick",()=>{this.props.onDelete(this.props.status)});_(this,"handleRedraftClick",()=>{this.props.onDelete(this.props.status,!0)});_(this,"handleEditClick",()=>{this.props.onEdit(this.props.status)});_(this,"handlePinClick",()=>{this.props.onPin(this.props.status)});_(this,"handleMentionClick",()=>{this.props.onMention(this.props.status.get("account"))});_(this,"handleDirectClick",()=>{this.props.onDirect(this.props.status.get("account"))});_(this,"handleMuteClick",()=>{const{status:e,relationship:a,onMute:n,onUnmute:s}=this.props,i=e.get("account");a&&a.get("muting")?s(i):n(i)});_(this,"handleBlockClick",()=>{const{status:e,relationship:a,onBlock:n,onUnblock:s}=this.props,i=e.get("account");a&&a.get("blocking")?s(i):n(e)});_(this,"handleBlockDomain",()=>{const{status:e,onBlockDomain:a}=this.props,n=e.get("account");a(n)});_(this,"handleUnblockDomain",()=>{const{status:e,onUnblockDomain:a}=this.props,n=e.get("account");a(n.get("acct").split("@")[1])});_(this,"handleOpen",()=>{this.props.history.push(`/@${this.props.status.getIn(["account","acct"])}/${this.props.status.get("id")}`)});_(this,"handleEmbed",()=>{this.props.onEmbed(this.props.status)});_(this,"handleReport",()=>{this.props.onReport(this.props.status)});_(this,"handleConversationMuteClick",()=>{this.props.onMuteConversation(this.props.status)});_(this,"handleFilterClick",()=>{this.props.onAddFilter(this.props.status)});_(this,"handleCopy",()=>{const e=this.props.status.get("url");navigator.clipboard.writeText(e)})}render(){const{status:e,relationship:a,intl:n,withDismiss:s,withCounters:i,scrollKey:o}=this.props,{signedIn:c,permissions:d}=this.props.identity,g=["public","unlisted"].includes(e.get("visibility")),f=["public","unlisted","private"].includes(e.get("visibility")),y=e.get("muted"),v=e.get("account"),R=e.getIn(["account","id"])===Ir,m=e.getIn(["account","username"])!==e.getIn(["account","acct"]);let h=[];if(h.push({text:n.formatMessage(x.open),action:this.handleOpen}),g&&m&&h.push({text:n.formatMessage(x.openOriginalPage),href:e.get("url")}),h.push({text:n.formatMessage(x.copy),action:this.handleCopy}),g&&"share"in navigator&&h.push({text:n.formatMessage(x.share),action:this.handleShareClick}),g&&!m&&h.push({text:n.formatMessage(x.embed),action:this.handleEmbed}),c)if(h.push(null),R&&f&&(h.push({text:n.formatMessage(e.get("pinned")?x.unpin:x.pin),action:this.handlePinClick}),h.push(null)),(R||s)&&(h.push({text:n.formatMessage(y?x.unmuteConversation:x.muteConversation),action:this.handleConversationMuteClick}),h.push(null)),R)h.push({text:n.formatMessage(x.edit),action:this.handleEditClick}),h.push({text:n.formatMessage(x.delete),action:this.handleDeleteClick,dangerous:!0}),h.push({text:n.formatMessage(x.redraft),action:this.handleRedraftClick,dangerous:!0});else{if(h.push({text:n.formatMessage(x.mention,{name:v.get("username")}),action:this.handleMentionClick}),h.push({text:n.formatMessage(x.direct,{name:v.get("username")}),action:this.handleDirectClick}),h.push(null),a&&a.get("muting")?h.push({text:n.formatMessage(x.unmute,{name:v.get("username")}),action:this.handleMuteClick}):h.push({text:n.formatMessage(x.mute,{name:v.get("username")}),action:this.handleMuteClick,dangerous:!0}),a&&a.get("blocking")?h.push({text:n.formatMessage(x.unblock,{name:v.get("username")}),action:this.handleBlockClick}):h.push({text:n.formatMessage(x.block,{name:v.get("username")}),action:this.handleBlockClick,dangerous:!0}),this.props.onFilter||(h.push(null),h.push({text:n.formatMessage(x.filter),action:this.handleFilterClick,dangerous:!0}),h.push(null)),h.push({text:n.formatMessage(x.report,{name:v.get("username")}),action:this.handleReport,dangerous:!0}),v.get("acct")!==v.get("username")){const w=v.get("acct").split("@")[1];h.push(null),a&&a.get("domain_blocking")?h.push({text:n.formatMessage(x.unblockDomain,{domain:w}),action:this.handleUnblockDomain}):h.push({text:n.formatMessage(x.blockDomain,{domain:w}),action:this.handleBlockDomain,dangerous:!0})}if(((d&Z)===Z||m&&(d&X)===X)&&(h.push(null),(d&Z)===Z&&(h.push({text:n.formatMessage(x.admin_account,{name:v.get("username")}),href:`/admin/accounts/${e.getIn(["account","id"])}`}),h.push({text:n.formatMessage(x.admin_status),href:`/admin/accounts/${e.getIn(["account","id"])}/statuses/${e.get("id")}`})),m&&(d&X)===X)){const w=v.get("acct").split("@")[1];h.push({text:n.formatMessage(x.admin_domain,{domain:w}),href:`/admin/instances/${w}`})}}let u,b,T;e.get("in_reply_to_id",null)===null?(u="reply",b=gr,T=n.formatMessage(x.reply)):(u="reply-all",b=bs,T=n.formatMessage(x.replyAll));const M=e.getIn(["account","id"])===Ir&&e.get("visibility")==="private";let A,q;e.get("reblogged")?(A=n.formatMessage(x.cancel_reblog_private),q=g?qs:Cs):g?(A=n.formatMessage(x.reblog),q=Gn):M?(A=n.formatMessage(x.reblog_private),q=Ms):(A=n.formatMessage(x.cannot_reblog),q=xs);const C=n.formatMessage(e.get("bookmarked")?x.removeBookmark:x.bookmark),S=n.formatMessage(e.get("favourited")?x.removeFavourite:x.favourite),P=e.get("in_reply_to_account_id")===e.getIn(["account","id"]);return l.jsxs("div",{className:"status__action-bar",children:[l.jsx("div",{className:"status__action-bar__button-wrapper",children:l.jsx(W,{className:"status__action-bar__button",title:T,icon:P?"reply":u,iconComponent:P?gr:b,onClick:this.handleReplyClick,counter:e.get("replies_count")})}),l.jsx("div",{className:"status__action-bar__button-wrapper",children:l.jsx(W,{className:G("status__action-bar__button",{reblogPrivate:M}),disabled:!g&&!M,active:e.get("reblogged"),title:A,icon:"retweet",iconComponent:q,onClick:this.handleReblogClick,counter:i?e.get("reblogs_count"):void 0})}),l.jsx("div",{className:"status__action-bar__button-wrapper",children:l.jsx(W,{className:"status__action-bar__button star-icon",animate:!0,active:e.get("favourited"),title:S,icon:"star",iconComponent:e.get("favourited")?ms:ys,onClick:this.handleFavouriteClick,counter:i?e.get("favourites_count"):void 0})}),l.jsx("div",{className:"status__action-bar__button-wrapper",children:l.jsx(W,{className:"status__action-bar__button bookmark-icon",disabled:!c,active:e.get("bookmarked"),title:C,icon:"bookmark",iconComponent:e.get("bookmarked")?No:Lo,onClick:this.handleBookmarkClick})}),l.jsx("div",{className:"status__action-bar__button-wrapper",children:l.jsx(Ps,{scrollKey:o,status:e,items:h,icon:"ellipsis-h",iconComponent:ws,direction:"right",title:n.formatMessage(x.more)})})]})}}_(us,"propTypes",{identity:vs,status:V.map.isRequired,relationship:V.record,onReply:p.func,onFavourite:p.func,onReblog:p.func,onDelete:p.func,onDirect:p.func,onMention:p.func,onMute:p.func,onUnmute:p.func,onBlock:p.func,onUnblock:p.func,onBlockDomain:p.func,onUnblockDomain:p.func,onReport:p.func,onEmbed:p.func,onMuteConversation:p.func,onPin:p.func,onBookmark:p.func,onFilter:p.func,onAddFilter:p.func,onInteractionModal:p.func,withDismiss:p.bool,withCounters:p.bool,scrollKey:p.string,intl:p.object.isRequired,..._s});const Go=ds(fs(gs(Ko)(Nn(us)))),Uo=({accountIds:t})=>{const r=t[0]??"0",e=Un(a=>a.accounts.get(r));return e?l.jsx($,{to:`/@${e.acct}`,title:`@${e.acct}`,"data-hover-card-account":e.id,children:l.jsx("bdi",{dangerouslySetInnerHTML:{__html:e.display_name_html}})}):null},zo=({accountId:t,inReplyToAccountId:r})=>{const e=Un(n=>n.accounts.get(r));let a;return t===r?a=l.jsx(j,{id:"status.continued_thread",defaultMessage:"Continued thread"}):e?a=l.jsx(j,{id:"status.replied_to",defaultMessage:"Replied to {name}",values:{name:l.jsx(Uo,{accountIds:[r]})}}):a=l.jsx(j,{id:"status.replied_in_thread",defaultMessage:"Replied in thread"}),l.jsxs("div",{className:"status__prepend",children:[l.jsx("div",{className:"status__prepend__icon",children:l.jsx(Q,{id:"reply",icon:gr})}),a]})},$o=new DOMParser,Vo=(t,r,e=!1)=>{const a=r.getIn(["account","display_name"]),n=r.getIn(["translation","spoiler_text"])||r.get("spoiler_text"),s=r.getIn(["translation","contentHtml"])||r.get("contentHtml"),i=$o.parseFromString(s,"text/html").documentElement.textContent,o=[a.length===0?r.getIn(["account","acct"]).split("@")[0]:a,n&&r.get("hidden")?n:i,t.formatDate(r.get("created_at"),{hour:"2-digit",minute:"2-digit",month:"short",day:"numeric"}),r.getIn(["account","acct"])];return e&&o.push(e),o.join(", ")},Hn=t=>{if(t)return t.get("reblog",null)!==null&&typeof t.get("reblog")=="object"&&(t=t.get("reblog")),!t.get("matched_media_filters")&&(Ar!=="hide_all"&&!t.get("sensitive")||Ar==="show_all")},Wo=Ln({public_short:{id:"privacy.public.short",defaultMessage:"Public"},unlisted_short:{id:"privacy.unlisted.short",defaultMessage:"Quiet public"},private_short:{id:"privacy.private.short",defaultMessage:"Followers"},direct_short:{id:"privacy.direct.short",defaultMessage:"Specific people"},edited:{id:"status.edited",defaultMessage:"Edited {date}"}});var Fn;class _r extends Kn{constructor(){super(...arguments);_(this,"updateOnProps",["status","account","muted","hidden","unread","pictureInPicture"]);_(this,"state",{showMedia:Hn(this.props.status)&&!((Fn=this.context)!=null&&Fn.hideMediaByDefault),showDespiteFilter:void 0});_(this,"handleToggleMediaVisibility",()=>{this.setState({showMedia:!this.state.showMedia})});_(this,"handleClick",e=>{e.preventDefault(),(e==null?void 0:e.button)===0&&!(e!=null&&e.ctrlKey||e!=null&&e.metaKey)?this._openStatus():((e==null?void 0:e.button)===1||(e==null?void 0:e.button)===0&&(e!=null&&e.ctrlKey||e!=null&&e.metaKey))&&this._openStatus(!0)});_(this,"handleHeaderClick",e=>{e.target!==e.currentTarget&&e.detail>=1||this.handleClick(e)});_(this,"handleExpandedToggle",()=>{this.props.onToggleHidden(this._properStatus())});_(this,"handleCollapsedToggle",e=>{this.props.onToggleCollapsed(this._properStatus(),e)});_(this,"handleTranslate",()=>{this.props.onTranslate(this._properStatus())});_(this,"renderLoadingMediaGallery",()=>l.jsx("div",{className:"media-gallery",style:{aspectRatio:this.getAttachmentAspectRatio()}}));_(this,"renderLoadingVideoPlayer",()=>l.jsx("div",{className:"video-player",style:{aspectRatio:this.getAttachmentAspectRatio()}}));_(this,"renderLoadingAudioPlayer",()=>l.jsx("div",{className:"audio-player",style:{aspectRatio:this.getAttachmentAspectRatio()}}));_(this,"handleOpenVideo",e=>{const a=this._properStatus(),n=a.getIn(["translation","language"])||a.get("language");this.props.onOpenVideo(a.get("id"),a.getIn(["media_attachments",0]),n,e)});_(this,"handleOpenMedia",(e,a)=>{const n=this._properStatus(),s=n.getIn(["translation","language"])||n.get("language");this.props.onOpenMedia(n.get("id"),e,a,s)});_(this,"handleHotkeyOpenMedia",e=>{const{onOpenMedia:a,onOpenVideo:n}=this.props,s=this._properStatus();if(e.preventDefault(),s.get("media_attachments").size>0){const i=s.getIn(["translation","language"])||s.get("language");s.getIn(["media_attachments",0,"type"])==="video"?n(s.get("id"),s.getIn(["media_attachments",0]),i,{startTime:0}):a(s.get("id"),s.get("media_attachments"),0,i)}});_(this,"handleDeployPictureInPicture",(e,a)=>{const{deployPictureInPicture:n}=this.props,s=this._properStatus();n(s,e,a)});_(this,"handleHotkeyReply",e=>{e.preventDefault(),this.props.onReply(this._properStatus())});_(this,"handleHotkeyFavourite",()=>{this.props.onFavourite(this._properStatus())});_(this,"handleHotkeyBoost",e=>{this.props.onReblog(this._properStatus(),e)});_(this,"handleHotkeyMention",e=>{e.preventDefault(),this.props.onMention(this._properStatus().get("account"))});_(this,"handleHotkeyOpen",()=>{this._openStatus()});_(this,"_openStatus",(e=!1)=>{if(this.props.onClick){this.props.onClick();return}const{history:a}=this.props,n=this._properStatus();if(!a)return;const s=`/@${n.getIn(["account","acct"])}/${n.get("id")}`;e?window.open(s,"_blank","noopener"):a.push(s)});_(this,"handleHotkeyOpenProfile",()=>{this._openProfile()});_(this,"_openProfile",(e=!0)=>{const{history:a}=this.props,n=e?this._properStatus():this.props.status;a&&a.push(`/@${n.getIn(["account","acct"])}`)});_(this,"handleHotkeyMoveUp",e=>{this.props.onMoveUp(this.props.status.get("id"),e.target.getAttribute("data-featured"))});_(this,"handleHotkeyMoveDown",e=>{this.props.onMoveDown(this.props.status.get("id"),e.target.getAttribute("data-featured"))});_(this,"handleHotkeyToggleHidden",()=>{const{onToggleHidden:e}=this.props,a=this._properStatus();if(this.props.status.get("matched_filters")){const n=!a.get("hidden")||a.get("spoiler_text").length===0,s=this.state.showDespiteFilter;s&&!n?e(a):s&&n?(e(a),this.handleFilterToggle()):this.handleFilterToggle()}else e(a)});_(this,"handleHotkeyToggleSensitive",()=>{this.handleToggleMediaVisibility()});_(this,"handleFilterToggle",()=>{this.setState(e=>({...e,showDespiteFilter:!e.showDespiteFilter}))});_(this,"handleRef",e=>{this.node=e})}componentDidUpdate(e){var a,n,s;((a=this.props.status)==null?void 0:a.get("id"))!==((n=e.status)==null?void 0:n.get("id"))&&this.setState({showMedia:Hn(this.props.status)&&!((s=this.context)!=null&&s.hideMediaByDefault),showDespiteFilter:void 0})}getAttachmentAspectRatio(){const e=this._properStatus().get("media_attachments");return e.getIn([0,"type"])==="video"?`${e.getIn([0,"meta","original","width"])} / ${e.getIn([0,"meta","original","height"])}`:e.getIn([0,"type"])==="audio"?"16 / 9":e.size===1&&e.getIn([0,"meta","small","aspect"])?e.getIn([0,"meta","small","aspect"]):"3 / 2"}_properStatus(){const{status:e}=this.props;return e.get("reblog",null)!==null&&typeof e.get("reblog")=="object"?e.get("reblog"):e}render(){const{intl:e,hidden:a,featured:n,unfocusable:s,unread:i,showThread:o,isQuotedPost:c=!1,scrollKey:d,pictureInPicture:g,previousId:f,nextInReplyToId:y,rootId:v,skipPrepend:R,avatarSize:m=46,children:h}=this.props;let{status:u,account:b,...T}=this.props;if(u===null)return null;const M=this.props.muted?{}:{reply:this.handleHotkeyReply,favourite:this.handleHotkeyFavourite,boost:this.handleHotkeyBoost,mention:this.handleHotkeyMention,open:this.handleHotkeyOpen,openProfile:this.handleHotkeyOpenProfile,moveUp:this.handleHotkeyMoveUp,moveDown:this.handleHotkeyMoveDown,toggleHidden:this.handleHotkeyToggleHidden,toggleSensitive:this.handleHotkeyToggleSensitive,openMedia:this.handleHotkeyOpenMedia,onTranslate:this.handleTranslate};let A,q,C,S;const P=f&&f===u.get("in_reply_to_id"),w=v&&v===u.get("in_reply_to_id"),I=y&&y===u.get("id"),D=u.get("matched_filters");if(u.get("reblog",null)!==null&&typeof u.get("reblog")=="object"){const B={__html:u.getIn(["account","display_name_html"])};C=l.jsxs("div",{className:"status__prepend",children:[l.jsx("div",{className:"status__prepend__icon",children:l.jsx(Q,{id:"retweet",icon:Gn})}),l.jsx(j,{id:"status.reblogged_by",defaultMessage:"{name} boosted",values:{name:l.jsx($,{"data-id":u.getIn(["account","id"]),"data-hover-card-account":u.getIn(["account","id"]),to:`/@${u.getIn(["account","acct"])}`,className:"status__display-name muted",children:l.jsx("bdi",{children:l.jsx("strong",{dangerouslySetInnerHTML:B})})})}})]}),S=e.formatMessage({id:"status.reblogged_by",defaultMessage:"{name} boosted"},{name:u.getIn(["account","acct"])}),b=u.get("account"),u=u.get("reblog")}else u.get("visibility")==="direct"?C=l.jsxs("div",{className:"status__prepend",children:[l.jsx("div",{className:"status__prepend__icon",children:l.jsx(Q,{id:"at",icon:Hs})}),l.jsx(j,{id:"status.direct_indicator",defaultMessage:"Private mention"})]}):o&&u.get("in_reply_to_id")&&(C=l.jsx(zo,{accountId:u.getIn(["account","id"]),inReplyToAccountId:u.get("in_reply_to_account_id")}));const O=(!D||this.state.showDespiteFilter)&&(!u.get("hidden")||u.get("spoiler_text").length===0);if(a)return l.jsx(xr.HotKeys,{handlers:M,tabIndex:s?null:-1,children:l.jsxs("div",{ref:this.handleRef,className:G("status__wrapper",{focusable:!this.props.muted}),tabIndex:s?null:0,children:[l.jsx("span",{children:u.getIn(["account","display_name"])||u.getIn(["account","username"])}),u.get("spoiler_text").length>0&&l.jsx("span",{children:u.get("spoiler_text")}),O&&l.jsx("span",{children:u.get("content")})]})});if(g.get("inUse"))A=l.jsx(Zs,{aspectRatio:this.getAttachmentAspectRatio()});else if(u.get("media_attachments").size>0){const B=u.getIn(["translation","language"])||u.get("language");if(["image","gifv","unknown"].includes(u.getIn(["media_attachments",0,"type"]))||u.get("media_attachments").size>1)A=l.jsx(ue,{fetchComponent:ks,loading:this.renderLoadingMediaGallery,children:k=>l.jsx(k,{media:u.get("media_attachments"),lang:B,sensitive:u.get("sensitive"),height:110,onOpenMedia:this.handleOpenMedia,cacheWidth:this.props.cacheMediaWidth,defaultWidth:this.props.cachedMediaWidth,visible:this.state.showMedia,onToggleVisibility:this.handleToggleMediaVisibility,matchedFilters:u.get("matched_media_filters")})});else if(u.getIn(["media_attachments",0,"type"])==="audio"){const k=u.getIn(["media_attachments",0]),ie=k.getIn(["translation","description"])||k.get("description");A=l.jsx(ue,{fetchComponent:Os,loading:this.renderLoadingAudioPlayer,children:oe=>l.jsx(oe,{src:k.get("url"),alt:ie,lang:B,poster:k.get("preview_url")||u.getIn(["account","avatar_static"]),backgroundColor:k.getIn(["meta","colors","background"]),foregroundColor:k.getIn(["meta","colors","foreground"]),accentColor:k.getIn(["meta","colors","accent"]),duration:k.getIn(["meta","original","duration"],0),deployPictureInPicture:g.get("available")?this.handleDeployPictureInPicture:void 0,sensitive:u.get("sensitive"),blurhash:k.get("blurhash"),visible:this.state.showMedia,onToggleVisibility:this.handleToggleMediaVisibility,matchedFilters:u.get("matched_media_filters")})})}else if(u.getIn(["media_attachments",0,"type"])==="video"){const k=u.getIn(["media_attachments",0]),ie=k.getIn(["translation","description"])||k.get("description");A=l.jsx(ue,{fetchComponent:Ds,loading:this.renderLoadingVideoPlayer,children:oe=>l.jsx(oe,{preview:k.get("preview_url"),frameRate:k.getIn(["meta","original","frame_rate"]),aspectRatio:`${k.getIn(["meta","original","width"])} / ${k.getIn(["meta","original","height"])}`,blurhash:k.get("blurhash"),src:k.get("url"),alt:ie,lang:B,sensitive:u.get("sensitive"),onOpenVideo:this.handleOpenVideo,deployPictureInPicture:g.get("available")?this.handleDeployPictureInPicture:void 0,visible:this.state.showMedia,onToggleVisibility:this.handleToggleMediaVisibility,matchedFilters:u.get("matched_media_filters")})})}}else u.get("card")&&!u.get("quote")&&(A=l.jsx(Fs,{onOpenMedia:this.handleOpenMedia,card:u.get("card"),compact:!0,sensitive:u.get("sensitive")}));b==null?q=l.jsx(Rs,{account:u.get("account"),size:m}):q=l.jsx(Bs,{account:u.get("account"),friend:b});const{statusContentProps:K,hashtagBar:L}=Fo(u);return l.jsx(xr.HotKeys,{handlers:M,tabIndex:s?null:-1,children:l.jsxs("div",{className:G("status__wrapper",`status__wrapper-${u.get("visibility")}`,{"status__wrapper-reply":!!u.get("in_reply_to_id"),unread:i,focusable:!this.props.muted}),tabIndex:this.props.muted||s?null:0,"data-featured":n?"true":null,"aria-label":Vo(e,u,S),ref:this.handleRef,"data-nosnippet":u.getIn(["account","noindex"],!0)||void 0,children:[!R&&C,l.jsxs("div",{className:G("status",`status-${u.get("visibility")}`,{"status-reply":!!u.get("in_reply_to_id"),"status--in-thread":!!v,"status--first-in-thread":f&&(!P||w),muted:this.props.muted,"status--is-quote":c,"status--has-quote":!!u.get("quote")}),"data-id":u.get("id"),children:[(I||P||w)&&l.jsx("div",{className:G("status__line",{"status__line--full":I,"status__line--first":!u.get("in_reply_to_id")&&!w})}),l.jsxs("div",{onClick:this.handleHeaderClick,onAuxClick:this.handleHeaderClick,className:"status__info",children:[l.jsxs($,{to:`/@${u.getIn(["account","acct"])}/${u.get("id")}`,className:"status__relative-time",children:[l.jsx("span",{className:"status__visibility-icon",children:l.jsx($s,{visibility:u.get("visibility")})}),l.jsx(Ks,{timestamp:u.get("created_at")}),u.get("edited_at")&&l.jsx("abbr",{title:e.formatMessage(Wo.edited,{date:e.formatDate(u.get("edited_at"),{year:"numeric",month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit"})}),children:" *"})]}),l.jsxs($,{to:`/@${u.getIn(["account","acct"])}`,title:u.getIn(["account","acct"]),"data-hover-card-account":u.getIn(["account","id"]),className:"status__display-name",children:[l.jsx("div",{className:"status__avatar",children:q}),l.jsx(Es,{account:u.get("account")})]})]}),D&&l.jsx(Vs,{title:D.join(", "),expanded:this.state.showDespiteFilter,onClick:this.handleFilterToggle}),u.get("spoiler_text").length>0&&(!D||this.state.showDespiteFilter)&&l.jsx(js,{text:u.getIn(["translation","spoilerHtml"])||u.get("spoilerHtml"),expanded:O,onClick:this.handleExpandedToggle}),O&&l.jsxs(l.Fragment,{children:[l.jsx(zs,{status:u,onClick:this.handleClick,onTranslate:this.handleTranslate,collapsible:!0,onCollapsedToggle:this.handleCollapsedToggle,...K}),A,L,h]}),!c&&l.jsx(Go,{scrollKey:d,status:u,account:b,...T})]})]})})}}_(_r,"contextType",zn),_(_r,"propTypes",{status:V.map,account:V.record,children:p.node,previousId:p.string,nextInReplyToId:p.string,rootId:p.string,onClick:p.func,onReply:p.func,onFavourite:p.func,onReblog:p.func,onDelete:p.func,onDirect:p.func,onMention:p.func,onPin:p.func,onOpenMedia:p.func,onOpenVideo:p.func,onBlock:p.func,onAddFilter:p.func,onEmbed:p.func,onHeightChange:p.func,onToggleHidden:p.func,onToggleCollapsed:p.func,onTranslate:p.func,onInteractionModal:p.func,muted:p.bool,hidden:p.bool,unread:p.bool,onMoveUp:p.func,onMoveDown:p.func,showThread:p.bool,isQuotedPost:p.bool,getScrollPosition:p.func,updateScrollBottom:p.func,cacheMediaWidth:p.func,cachedMediaWidth:p.number,scrollKey:p.string,skipPrepend:p.bool,avatarSize:p.number,deployPictureInPicture:p.func,unfocusable:p.bool,pictureInPicture:V.contains({inUse:p.bool,available:p.bool}),...As});const pu=Is(Nn(_r));export{Uo as D,Vs as F,Zs as P,pu as S,No as a,Lo as b,hu as c,Hn as d,Fo as g,rs as r,Vo as t};
//# sourceMappingURL=status-CiF0hsk4.js.map
