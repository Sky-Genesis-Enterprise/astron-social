import{_ as A,g as I}from"./short_number-WomMu2iV.js";import{R as y,r as f}from"./index-BdTwX--g.js";import{i as B}from"./use-isomorphic-layout-effect.browser.esm-D-sFEUJ5.js";var M=function(e){var r=y.useRef(e);return B(function(){r.current=e}),r},w=function(e,r){if(typeof e=="function"){e(r);return}e.current=r},N=function(e,r){var t=y.useRef();return y.useCallback(function(i){e.current=i,t.current&&w(t.current,null),t.current=r,r&&w(r,i)},[r])},C={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0",display:"block"},_=function(e){Object.keys(C).forEach(function(r){e.style.setProperty(r,C[r],"important")})},E=_,o=null,F=function(e,r){var t=e.scrollHeight;return r.sizingStyle.boxSizing==="border-box"?t+r.borderSize:t-r.paddingSize};function $(n,e,r,t){r===void 0&&(r=1),t===void 0&&(t=1/0),o||(o=document.createElement("textarea"),o.setAttribute("tabindex","-1"),o.setAttribute("aria-hidden","true"),E(o)),o.parentNode===null&&document.body.appendChild(o);var i=n.paddingSize,s=n.borderSize,a=n.sizingStyle,p=a.boxSizing;Object.keys(a).forEach(function(c){var m=c;o.style[m]=a[m]}),E(o),o.value=e;var d=F(o,n);o.value=e,d=F(o,n),o.value="x";var g=o.scrollHeight-i,h=g*r;p==="border-box"&&(h=h+i+s),d=Math.max(h,d);var l=g*t;return p==="border-box"&&(l=l+i+s),d=Math.min(l,d),[d,g]}var T=function(){},j=function(e,r){return e.reduce(function(t,i){return t[i]=r[i],t},{})},P=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak","wordSpacing","scrollbarGutter"],G=!!document.documentElement.currentStyle,O=function(e){var r=window.getComputedStyle(e);if(r===null)return null;var t=j(P,r),i=t.boxSizing;if(i==="")return null;G&&i==="border-box"&&(t.width=parseFloat(t.width)+parseFloat(t.borderRightWidth)+parseFloat(t.borderLeftWidth)+parseFloat(t.paddingRight)+parseFloat(t.paddingLeft)+"px");var s=parseFloat(t.paddingBottom)+parseFloat(t.paddingTop),a=parseFloat(t.borderBottomWidth)+parseFloat(t.borderTopWidth);return{sizingStyle:t,paddingSize:s,borderSize:a}},Y=O;function R(n,e,r){var t=M(r);f.useLayoutEffect(function(){var i=function(a){return t.current(a)};if(n)return n.addEventListener(e,i),function(){return n.removeEventListener(e,i)}},[])}var q=function(e,r){R(document.body,"reset",function(t){e.current.form===t.target&&r(t)})},U=function(e){R(window,"resize",e)},X=function(e){R(document.fonts,"loadingdone",e)},Z=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],D=function(e,r){var t=e.cacheMeasurements,i=e.maxRows,s=e.minRows,a=e.onChange,p=a===void 0?T:a,d=e.onHeightChange,g=d===void 0?T:d,h=A(e,Z),l=h.value!==void 0,c=f.useRef(null),m=N(c,r),L=f.useRef(0),S=f.useRef(),v=function(){var u=c.current,z=t&&S.current?S.current:Y(u);if(z){S.current=z;var H=$(z,u.value||u.placeholder||"x",s,i),b=H[0],k=H[1];L.current!==b&&(L.current=b,u.style.setProperty("height",b+"px","important"),g(b,{rowHeight:k}))}},W=function(u){l||v(),p(u)};return f.useLayoutEffect(v),q(c,function(){if(!l){var x=c.current.value;requestAnimationFrame(function(){var u=c.current;u&&x!==u.value&&v()})}}),U(v),X(v),f.createElement("textarea",I({},h,{onChange:W,ref:m}))},V=f.forwardRef(D);export{V as i};
//# sourceMappingURL=react-textarea-autosize.browser.esm-GiEI5riT.js.map
