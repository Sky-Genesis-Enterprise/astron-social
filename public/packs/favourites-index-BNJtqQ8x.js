var x=Object.defineProperty;var b=(o,s,e)=>s in o?x(o,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[s]=e;var i=(o,s,e)=>b(o,typeof s!="symbol"?s+"":s,e);import{j as t}from"./client-wT6vtYO_.js";import{P as r}from"./short_number-WomMu2iV.js";import{i as I,d as g}from"./index-BdTwX--g.js";import{H as j}from"./Helmet-ZVWnGmbg.js";import{j as M,y,z as _,dt as n,H as L,du as v,I as C}from"./useSelectableClick-DeaJbL2_.js";import{S as R}from"./refresh-B2VHuqCr.js";import{A as S}from"./account-0xT8MC3X.js";import{C as T}from"./column_header-FN7GyEAs.js";import{L as P}from"./loading_indicator-7xMB1U6D.js";import{S as F}from"./scrollable_list-lNykmhKA.js";import{C as d}from"./column-Cq3LGCyF.js";import{M as H}from"./message-UFwkQlnu.js";import"./numbers-CGZQWBYL.js";import"./api-B2m7efUy.js";import"./index-lj9VQs0f.js";import"./initial_state-BP3UcUr4.js";import"./ready-DpOgoWSg.js";import"./index-CAH5FfLP.js";import"./load_locale-tOpKhmcM.js";import"./index-DizoKcfL.js";import"./content_warning-DZ8mar1O.js";import"./skeleton-D9NbTYr9.js";import"./index-BZWHsOPk.js";import"./counters-BJ0cOeaq.js";import"./follow_button-BdqDKUmA.js";import"./verified_badge-CtK79Pb7.js";import"./add-D8GR9P00.js";import"./chevron_left-CnYIoVsW.js";import"./close-BsPe8EbX.js";import"./scroll_container-Bq73vRM7.js";import"./react-router-scroll-4.es-CU7ja20b.js";import"./interopRequireDefault-CdiRfGvq.js";import"./schedule_idle_task-Co3Ydhdu.js";import"./load_more-qGthrhsi.js";import"./scroll-BygYx8ga.js";const u=g({refresh:{id:"refresh",defaultMessage:"Refresh"}}),q=(o,s)=>({accountIds:o.getIn(["user_lists","favourited_by",s.params.statusId,"items"]),hasMore:!!o.getIn(["user_lists","favourited_by",s.params.statusId,"next"]),isLoading:o.getIn(["user_lists","favourited_by",s.params.statusId,"isLoading"],!0)});class l extends y{constructor(){super(...arguments);i(this,"handleRefresh",()=>{this.props.dispatch(n(this.props.params.statusId))});i(this,"handleLoadMore",L(()=>{this.props.dispatch(v(this.props.params.statusId))},300,{leading:!0}))}UNSAFE_componentWillMount(){this.props.accountIds||this.props.dispatch(n(this.props.params.statusId))}render(){const{intl:e,accountIds:m,hasMore:c,isLoading:h,multiColumn:a}=this.props;if(!m)return t.jsx(d,{children:t.jsx(P,{})});const f=t.jsx(H,{id:"empty_column.favourites",defaultMessage:"No one has favorited this post yet. When someone does, they will show up here."});return t.jsxs(d,{bindToDocument:!a,children:[t.jsx(T,{showBackButton:!0,multiColumn:a,extraButton:t.jsx("button",{type:"button",className:"column-header__button",title:e.formatMessage(u.refresh),"aria-label":e.formatMessage(u.refresh),onClick:this.handleRefresh,children:t.jsx(C,{id:"refresh",icon:R})})}),t.jsx(F,{scrollKey:"favourites",onLoadMore:this.handleLoadMore,hasMore:c,isLoading:h,emptyMessage:f,bindToDocument:!a,children:m.map(p=>t.jsx(S,{id:p},p))}),t.jsx(j,{children:t.jsx("meta",{name:"robots",content:"noindex"})})]})}}i(l,"propTypes",{params:r.object.isRequired,dispatch:r.func.isRequired,accountIds:_.list,hasMore:r.bool,isLoading:r.bool,multiColumn:r.bool,intl:r.object.isRequired});const xs=M(q)(I(l));export{xs as default};
//# sourceMappingURL=favourites-index-BNJtqQ8x.js.map
