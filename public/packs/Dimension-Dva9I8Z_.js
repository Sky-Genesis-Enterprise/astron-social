var p=Object.defineProperty;var h=(i,a,t)=>a in i?p(i,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[a]=t;var l=(i,a,t)=>h(i,typeof a!="symbol"?a+"":a,t);import{j as e}from"./client-wT6vtYO_.js";import{r as u,F as x}from"./index-BdTwX--g.js";import{a as j}from"./api-B2m7efUy.js";import{S as c}from"./skeleton-D9NbTYr9.js";import{r as f}from"./numbers-CGZQWBYL.js";import"./index-lj9VQs0f.js";import"./initial_state-BP3UcUr4.js";import"./ready-DpOgoWSg.js";class D extends u.PureComponent{constructor(){super(...arguments);l(this,"state",{loading:!0,data:null})}componentDidMount(){const{start_at:t,end_at:m,dimension:o,limit:d,params:r}=this.props;j(!1).post("/api/v1/admin/dimensions",{keys:[o],start_at:t,end_at:m,limit:d,[o]:r}).then(n=>{this.setState({loading:!1,data:n.data})}).catch(n=>{console.error(n)})}render(){const{label:t,limit:m}=this.props,{loading:o,data:d}=this.state;let r;if(o)r=e.jsx("table",{children:e.jsx("tbody",{children:Array.from(Array(m)).map((n,s)=>e.jsxs("tr",{className:"dimension__item",children:[e.jsx("td",{className:"dimension__item__key",children:e.jsx(c,{width:100})}),e.jsx("td",{className:"dimension__item__value",children:e.jsx(c,{width:60})})]},s))})});else{const n=d[0].data.reduce((s,_)=>s+_.value*1,0);r=e.jsx("table",{children:e.jsx("tbody",{children:d[0].data.map(s=>e.jsxs("tr",{className:"dimension__item",children:[e.jsxs("td",{className:"dimension__item__key",children:[e.jsx("span",{className:`dimension__item__indicator dimension__item__indicator--${f(s.value*1/n*100)}`}),e.jsx("span",{title:s.key,children:s.human_key})]}),e.jsx("td",{className:"dimension__item__value",children:typeof s.human_value<"u"?s.human_value:e.jsx(x,{value:s.value})})]},s.key))})})}return e.jsxs("div",{className:"dimension",children:[e.jsx("h4",{children:t}),r]})}}export{D as default};
//# sourceMappingURL=Dimension-Dva9I8Z_.js.map
