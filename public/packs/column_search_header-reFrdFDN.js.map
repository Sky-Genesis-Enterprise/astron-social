{"version":3,"file":"column_search_header-reFrdFDN.js","sources":["../../app/javascript/mastodon/components/column_search_header.tsx"],"sourcesContent":["import { useCallback, useState, useEffect, useRef } from 'react';\n\nimport { FormattedMessage } from 'react-intl';\n\nexport const ColumnSearchHeader: React.FC<{\n  onBack: () => void;\n  onSubmit: (value: string) => void;\n  onActivate: () => void;\n  placeholder: string;\n  active: boolean;\n}> = ({ onBack, onActivate, onSubmit, placeholder, active }) => {\n  const inputRef = useRef<HTMLInputElement>(null);\n  const [value, setValue] = useState('');\n\n  useEffect(() => {\n    if (!active) {\n      setValue('');\n    }\n  }, [active]);\n\n  const handleChange = useCallback(\n    ({ target: { value } }: React.ChangeEvent<HTMLInputElement>) => {\n      setValue(value);\n      onSubmit(value);\n    },\n    [setValue, onSubmit],\n  );\n\n  const handleKeyUp = useCallback(\n    (e: React.KeyboardEvent<HTMLInputElement>) => {\n      if (e.key === 'Escape') {\n        e.preventDefault();\n        onBack();\n        inputRef.current?.blur();\n      }\n    },\n    [onBack],\n  );\n\n  const handleFocus = useCallback(() => {\n    onActivate();\n  }, [onActivate]);\n\n  const handleSubmit = useCallback(() => {\n    onSubmit(value);\n  }, [onSubmit, value]);\n\n  return (\n    <form className='column-search-header' onSubmit={handleSubmit}>\n      <input\n        ref={inputRef}\n        type='search'\n        value={value}\n        onChange={handleChange}\n        onKeyUp={handleKeyUp}\n        placeholder={placeholder}\n        onFocus={handleFocus}\n      />\n\n      {active && (\n        <button type='button' className='link-button' onClick={onBack}>\n          <FormattedMessage id='column_search.cancel' defaultMessage='Cancel' />\n        </button>\n      )}\n    </form>\n  );\n};\n"],"names":["ColumnSearchHeader","onBack","onActivate","onSubmit","placeholder","active","inputRef","useRef","value","setValue","useState","useEffect","handleChange","useCallback","target","handleKeyUp","e","key","preventDefault","current","blur","handleFocus","handleSubmit","jsxs","jsx","FormattedMessage"],"mappings":"2HAIO,MAAMA,EAMRA,CAAC,CAAEC,OAAAA,EAAQC,WAAAA,EAAYC,SAAAA,EAAUC,YAAAA,EAAaC,OAAAA,CAAO,IAAM,CAC9D,MAAMC,EAAWC,EAAAA,OAAyB,IAAI,EACxC,CAACC,EAAOC,CAAQ,EAAIC,EAAAA,SAAS,EAAE,EAErCC,EAAAA,UAAU,IAAM,CACTN,GACHI,EAAS,EAAE,CACb,EACC,CAACJ,CAAM,CAAC,EAEX,MAAMO,EAAeC,EAAAA,YACnB,CAAC,CAAEC,OAAQ,CAAEN,MAAAA,CAAAA,CAAM,IAA6C,CAC9DC,EAASD,CAAK,EACdL,EAASK,CAAK,CAAA,EAEhB,CAACC,EAAUN,CAAQ,CACrB,EAEMY,EAAcF,cACjBG,GAA6C,OACxCA,EAAEC,MAAQ,WACZD,EAAEE,eAAAA,EACFjB,EAAAA,GACAK,EAAAA,EAASa,UAATb,MAAAA,EAAkBc,OACpB,EAEF,CAACnB,CAAM,CACT,EAEMoB,EAAcR,EAAAA,YAAY,IAAM,CACpCX,EAAAA,CAAW,EACV,CAACA,CAAU,CAAC,EAEToB,EAAeT,EAAAA,YAAY,IAAM,CACrCV,EAASK,CAAK,CAAA,EACb,CAACL,EAAUK,CAAK,CAAC,EAEpB,OACEe,EAAAA,KAAC,OAAA,CAAK,UAAU,uBAAuB,SAAUD,EAC/C,SAAA,CAAAE,EAAAA,IAAC,QAAA,CACC,IAAKlB,EACL,KAAK,SACL,MAAAE,EACA,SAAUI,EACV,QAASG,EACT,YAAAX,EACA,QAASiB,EAAY,EAGtBhB,GACCmB,EAAAA,IAAC,SAAA,CAAO,KAAK,SAAS,UAAU,cAAc,QAASvB,EACrD,eAACwB,EAAA,CAAiB,0BAA0B,eAAe,SAAQ,CAAA,CACrE,CAAA,EAEJ,CAEJ"}