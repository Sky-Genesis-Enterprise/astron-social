{"version":3,"file":"ready-DpOgoWSg.js","sources":["../../app/javascript/mastodon/ready.js"],"sourcesContent":["// @ts-check\n\n/**\n * @param {(() => void) | (() => Promise<void>)} callback\n * @returns {Promise<void>}\n */\nexport default function ready(callback) {\n  return new Promise((resolve, reject) => {\n    function loaded() {\n      let result;\n      try {\n        result = callback();\n      } catch (err) {\n        reject(err);\n\n        return;\n      }\n\n      if (typeof result?.then === 'function') {\n        result.then(resolve).catch(reject);\n      } else {\n        resolve();\n      }\n    }\n\n    if (['interactive', 'complete'].includes(document.readyState)) {\n      loaded();\n    } else {\n      document.addEventListener('DOMContentLoaded', loaded);\n    }\n  });\n}\n"],"names":["ready","callback","Promise","resolve","reject","loaded","result","err","then","catch","includes","document","readyState","addEventListener"],"mappings":"AAMe,SAASA,EAAMC,EAAU,CACtC,OAAO,IAAIC,QAAQ,CAACC,EAASC,IAAW,CACtC,SAASC,GAAS,CAChB,IAAIC,EACJ,GAAI,CACFA,EAASL,EAAQ,QACVM,EAAK,CACZH,EAAOG,CAAG,EAEV,MACF,CAEI,OAAOD,GAAAA,YAAAA,EAAQE,OAAS,WAC1BF,EAAOE,KAAKL,CAAO,EAAEM,MAAML,CAAM,EAEjCD,EAAO,CAEX,CAEI,CAAC,cAAe,UAAU,EAAEO,SAASC,SAASC,UAAU,EAC1DP,EAAM,EAENM,SAASE,iBAAiB,mBAAoBR,CAAM,CAExD,CAAC,CACH"}