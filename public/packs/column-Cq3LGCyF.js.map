{"version":3,"file":"column-Cq3LGCyF.js","sources":["../../app/javascript/mastodon/features/ui/components/column.jsx"],"sourcesContent":["import PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\n\nimport { debounce } from 'lodash';\n\nimport ColumnHeader from '../../../components/column_header';\nimport { isMobile } from '../../../is_mobile';\nimport { scrollTop } from '../../../scroll';\n\nexport default class Column extends PureComponent {\n\n  static propTypes = {\n    heading: PropTypes.string,\n    alwaysShowBackButton: PropTypes.bool,\n    icon: PropTypes.string,\n    iconComponent: PropTypes.func,\n    children: PropTypes.node,\n    active: PropTypes.bool,\n    hideHeadingOnMobile: PropTypes.bool,\n  };\n\n  handleHeaderClick = () => {\n    const scrollable = this.node.querySelector('.scrollable');\n\n    if (!scrollable) {\n      return;\n    }\n\n    this._interruptScrollAnimation = scrollTop(scrollable);\n  };\n\n  scrollTop () {\n    const scrollable = this.node.querySelector('.scrollable');\n\n    if (!scrollable) {\n      return;\n    }\n\n    this._interruptScrollAnimation = scrollTop(scrollable);\n  }\n\n\n  handleScroll = debounce(() => {\n    if (typeof this._interruptScrollAnimation !== 'undefined') {\n      this._interruptScrollAnimation();\n    }\n  }, 200);\n\n  setRef = (c) => {\n    this.node = c;\n  };\n\n  render () {\n    const { heading, icon, iconComponent, children, active, hideHeadingOnMobile, alwaysShowBackButton } = this.props;\n\n    const showHeading = heading && (!hideHeadingOnMobile || (hideHeadingOnMobile && !isMobile(window.innerWidth)));\n\n    const columnHeaderId = showHeading && heading.replace(/ /g, '-');\n\n    const header = showHeading && (\n      <ColumnHeader icon={icon} iconComponent={iconComponent} active={active} title={heading} onClick={this.handleHeaderClick} columnHeaderId={columnHeaderId} showBackButton={alwaysShowBackButton} />\n    );\n    return (\n      <div\n        ref={this.setRef}\n        role='region'\n        aria-labelledby={columnHeaderId}\n        className='column'\n        onScroll={this.handleScroll}\n      >\n        {header}\n        {children}\n      </div>\n    );\n  }\n\n}\n"],"names":["Column","PureComponent","handleHeaderClick","scrollable","node","querySelector","_interruptScrollAnimation","scrollTop","handleScroll","debounce","setRef","c","render","heading","icon","iconComponent","children","active","hideHeadingOnMobile","alwaysShowBackButton","props","showHeading","isMobile","window","innerWidth","columnHeaderId","replace","header","jsx","ColumnHeader","jsxs"],"mappings":"sYASA,MAAqBA,UAAeC,EAAAA,aAAc,CAAlD,kCAYEC,EAAAA,yBAAoBA,IAAM,CACxB,MAAMC,EAAa,KAAKC,KAAKC,cAAc,aAAa,EAEnDF,IAIL,KAAKG,0BAA4BC,EAAUJ,CAAU,EAAA,GAcvDK,EAAAA,oBAAeC,EAAS,IAAM,CACxB,OAAO,KAAKH,0BAA8B,KAC5C,KAAKA,0BAAAA,CACP,EACC,GAAG,GAENI,EAAAA,cAAUC,GAAM,CACd,KAAKP,KAAOO,CAAAA,GAlBdJ,WAAa,CACX,MAAMJ,EAAa,KAAKC,KAAKC,cAAc,aAAa,EAEnDF,IAIL,KAAKG,0BAA4BC,EAAUJ,CAAU,EAAA,CAcvDS,QAAU,CACR,KAAM,CAAEC,QAAAA,EAASC,KAAAA,EAAMC,cAAAA,EAAeC,SAAAA,EAAUC,OAAAA,EAAQC,oBAAAA,EAAqBC,qBAAAA,CAAAA,EAAyB,KAAKC,MAErGC,EAAcR,IAAY,CAACK,GAAwBA,GAAuB,CAACI,EAASC,OAAOC,UAAU,GAErGC,EAAiBJ,GAAeR,EAAQa,QAAQ,KAAM,GAAG,EAEzDC,EAASN,GACbO,EAAAA,IAACC,EAAA,CAAa,KAAAf,EAAY,cAAAC,EAA8B,OAAAE,EAAgB,MAAOJ,EAAS,QAAS,KAAKX,kBAAmB,eAAAuB,EAAgC,eAAgBN,EAAqB,EAEhM,OACEW,EAAAA,KAAC,MAAA,CACC,IAAK,KAAKpB,OACV,KAAK,SACL,kBAAiBe,EACjB,UAAU,SACV,SAAU,KAAKjB,aAEdmB,SAAAA,CAAAA,EACAX,CAAAA,EACH,CAAA,CAIN"}