import{g as te,R as U}from"./index-BdTwX--g.js";import{at as oe}from"./useSelectableClick-DeaJbL2_.js";import{P as g,w as re}from"./short_number-WomMu2iV.js";import{r as E}from"./interopRequireDefault-CdiRfGvq.js";var T={exports:{}},P={exports:{}},R={exports:{}},K;function M(){return K||(K=1,function(s,e){e.__esModule=!0,e.default=void 0;var i=!!(typeof window<"u"&&window.document&&window.document.createElement);e.default=i,s.exports=e.default}(R,R.exports)),R.exports}var A;function ne(){return A||(A=1,function(s,e){var i=E();e.__esModule=!0,e.default=void 0;var r=i(M()),o=function(){};r.default&&(o=function(){if(document.addEventListener)return function(l,n,d,f){return l.removeEventListener(n,d,f||!1)};if(document.attachEvent)return function(l,n,d){return l.detachEvent("on"+n,d)}}());var u=o;e.default=u,s.exports=e.default}(P,P.exports)),P.exports}var W={exports:{}},I;function ie(){return I||(I=1,function(s,e){var i=E();e.__esModule=!0,e.default=void 0;var r=i(M()),o=function(){};r.default&&(o=function(){if(document.addEventListener)return function(l,n,d,f){return l.addEventListener(n,d,f||!1)};if(document.attachEvent)return function(l,n,d){return l.attachEvent("on"+n,function(f){f=f||window.event,f.target=f.target||f.srcElement,f.currentTarget=l,d.call(l,f)})}}());var u=o;e.default=u,s.exports=e.default}(W,W.exports)),W.exports}var q={exports:{}},x={exports:{}},j;function J(){return j||(j=1,function(s,e){e.__esModule=!0,e.default=i;function i(r){return r===r.window?r:r.nodeType===9?r.defaultView||r.parentWindow:!1}s.exports=e.default}(x,x.exports)),x.exports}var F;function le(){return F||(F=1,function(s,e){var i=E();e.__esModule=!0,e.default=o;var r=i(J());function o(u,l){var n=(0,r.default)(u);if(l===void 0)return n?"pageXOffset"in n?n.pageXOffset:n.document.documentElement.scrollLeft:u.scrollLeft;n?n.scrollTo(l,"pageYOffset"in n?n.pageYOffset:n.document.documentElement.scrollTop):u.scrollLeft=l}s.exports=e.default}(q,q.exports)),q.exports}var O={exports:{}},X;function ae(){return X||(X=1,function(s,e){var i=E();e.__esModule=!0,e.default=o;var r=i(J());function o(u,l){var n=(0,r.default)(u);if(l===void 0)return n?"pageYOffset"in n?n.pageYOffset:n.document.documentElement.scrollTop:u.scrollTop;n?n.scrollTo("pageXOffset"in n?n.pageXOffset:n.document.documentElement.scrollLeft,l):u.scrollTop=l}s.exports=e.default}(O,O.exports)),O.exports}var b={exports:{}},Y;function se(){return Y||(Y=1,function(s,e){var i=E();e.__esModule=!0,e.default=void 0;var r=i(M()),o=["","webkit","moz","o","ms"],u="clearTimeout",l=y,n,d=function(c,t){return c+(c?t[0].toUpperCase()+t.substr(1):t)+"AnimationFrame"};r.default&&o.some(function(v){var c=d(v,"request");if(c in window)return u=d(v,"cancel"),l=function(a){return window[c](a)}});var f=new Date().getTime();function y(v){var c=new Date().getTime(),t=Math.max(0,16-(c-f)),a=setTimeout(v,t);return f=c,a}n=function(c){return l(c)},n.cancel=function(v){window[u]&&typeof window[u]=="function"&&window[u](v)};var w=n;e.default=w,s.exports=e.default}(b,b.exports)),b.exports}var D,N;function ue(){if(N)return D;N=1;var s=function(e,i,r,o,u,l,n,d){if(!e){var f;if(i===void 0)f=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var y=[r,o,u,l,n,d],w=0;f=new Error(i.replace(/%s/g,function(){return y[w++]})),f.name="Invariant Violation"}throw f.framesToPop=1,f}};return D=s,D}var H={},V;function ce(){if(V)return H;V=1,H.__esModule=!0,H.isMobileSafari=s;function s(){return/iPad|iPhone|iPod/.test(window.navigator.platform)&&/^((?!CriOS).)*Safari/.test(window.navigator.userAgent)}return H}var $;function fe(){return $||($=1,function(s,e){e.__esModule=!0,e.default=void 0;var i=d(ne()),r=d(ie()),o=d(le()),u=d(ae()),l=d(se());d(ue());var n=ce();function d(w){return w&&w.__esModule?w:{default:w}}var f=2,y=function(){function w(c){var t=this,a=c.addTransitionHook,p=c.stateStorage,_=c.getCurrentLocation,m=c.shouldUpdateScroll;if(this._restoreScrollRestoration=function(){if(t._oldScrollRestoration)try{window.history.scrollRestoration=t._oldScrollRestoration}catch{}},this._onWindowScroll=function(){if(!t._ignoreScrollEvents&&(t._saveWindowPositionHandle||(t._saveWindowPositionHandle=(0,l.default)(t._saveWindowPosition)),t._windowScrollTarget)){var h=t._windowScrollTarget,S=h[0],k=h[1],Z=(0,o.default)(window),ee=(0,u.default)(window);Z===S&&ee===k&&(t._windowScrollTarget=null,t._cancelCheckWindowScroll())}},this._saveWindowPosition=function(){t._saveWindowPositionHandle=null,t._savePosition(null,window)},this._checkWindowScrollPosition=function(){return t._checkWindowScrollHandle=null,t._windowScrollTarget?(t.scrollToTarget(window,t._windowScrollTarget),++t._numWindowScrollAttempts,t._numWindowScrollAttempts>=f?(t._windowScrollTarget=null,Promise.resolve()):new Promise(function(h){t._checkWindowScrollHandle=(0,l.default)(function(){return h(t._checkWindowScrollPosition())})})):Promise.resolve()},this._stateStorage=p,this._getCurrentLocation=_,this._shouldUpdateScroll=m,"scrollRestoration"in window.history&&!(0,n.isMobileSafari)()){this._oldScrollRestoration=window.history.scrollRestoration;try{window.history.scrollRestoration="manual",(0,r.default)(window,"beforeunload",this._restoreScrollRestoration)}catch{this._oldScrollRestoration=null}}else this._oldScrollRestoration=null;this._saveWindowPositionHandle=null,this._checkWindowScrollHandle=null,this._windowScrollTarget=null,this._numWindowScrollAttempts=0,this._ignoreScrollEvents=!1,this._scrollElements={},(0,r.default)(window,"scroll",this._onWindowScroll),this._removeTransitionHook=a(function(){l.default.cancel(t._saveWindowPositionHandle),t._saveWindowPositionHandle=null,Object.keys(t._scrollElements).forEach(function(h){var S=t._scrollElements[h];l.default.cancel(S.savePositionHandle),S.savePositionHandle=null,t._ignoreScrollEvents||t._saveElementPosition(h)})})}var v=w.prototype;return v.registerElement=function(t,a,p,_){var m=this;this._scrollElements[t]&&invariant(!1);var h=function(){m._saveElementPosition(t)},S={element:a,shouldUpdateScroll:p,savePositionHandle:null,onScroll:function(){!S.savePositionHandle&&!m._ignoreScrollEvents&&(S.savePositionHandle=(0,l.default)(h))}};!S.savePositionHandle&&!this._ignoreScrollEvents&&(S.savePositionHandle=(0,l.default)(h)),this._scrollElements[t]=S,(0,r.default)(a,"scroll",S.onScroll),this._updateElementScroll(t,null,_)},v.unregisterElement=function(t){this._scrollElements[t]||invariant(!1);var a=this._scrollElements[t],p=a.element,_=a.onScroll,m=a.savePositionHandle;(0,i.default)(p,"scroll",_),l.default.cancel(m),delete this._scrollElements[t]},v.updateScroll=function(t,a){var p=this;this._updateWindowScroll(t,a).then(function(){p._saveWindowPositionHandle||(p._saveWindowPositionHandle=(0,l.default)(p._saveWindowPosition))}),Object.keys(this._scrollElements).forEach(function(_){p._updateElementScroll(_,t,a)})},v.stop=function(){this._restoreScrollRestoration(),(0,i.default)(window,"scroll",this._onWindowScroll),this._cancelCheckWindowScroll(),this._removeTransitionHook()},v.startIgnoringScrollEvents=function(){this._ignoreScrollEvents=!0},v.stopIgnoringScrollEvents=function(){this._ignoreScrollEvents=!1},v._cancelCheckWindowScroll=function(){l.default.cancel(this._checkWindowScrollHandle),this._checkWindowScrollHandle=null},v._saveElementPosition=function(t){var a=this._scrollElements[t];a.savePositionHandle=null,this._savePosition(t,a.element)},v._savePosition=function(t,a){this._stateStorage.save(this._getCurrentLocation(),t,[(0,o.default)(a),(0,u.default)(a)])},v._updateWindowScroll=function(t,a){return this._cancelCheckWindowScroll(),this._windowScrollTarget=this._getScrollTarget(null,this._shouldUpdateScroll,t,a),this._numWindowScrollAttempts=0,this._checkWindowScrollPosition()},v._updateElementScroll=function(t,a,p){var _=this._scrollElements[t],m=_.element,h=_.shouldUpdateScroll,S=this._getScrollTarget(t,h,a,p);S&&this.scrollToTarget(m,S)},v._getDefaultScrollTarget=function(t){var a=t.hash;return a&&a!=="#"?a.charAt(0)==="#"?a.slice(1):a:[0,0]},v._getScrollTarget=function(t,a,p,_){var m=a?a.call(this,p,_):!0;if(!m||Array.isArray(m)||typeof m=="string")return m;var h=this._getCurrentLocation();return this._getSavedScrollTarget(t,h)||this._getDefaultScrollTarget(h)},v._getSavedScrollTarget=function(t,a){return a.action==="PUSH"?null:this._stateStorage.read(a,t)},v.scrollToTarget=function(t,a){if(typeof a=="string"){var p=document.getElementById(a)||document.getElementsByName(a)[0];if(p){p.scrollIntoView();return}a=[0,0]}var _=a,m=_[0],h=_[1];(0,o.default)(t,m),(0,u.default)(t,h)},w}();e.default=y,s.exports=e.default}(T,T.exports)),T.exports}var de=fe();const ve=te(de);var B=function(s,e){if(!(s instanceof e))throw new TypeError("Cannot call a class as a function")},C=function(){function s(e,i){for(var r=0;r<i.length;r++){var o=i[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,i,r){return i&&s(e.prototype,i),r&&s(e,r),e}}(),z=function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);s.prototype=Object.create(e&&e.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(s,e):s.__proto__=e)},G=function(s,e){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:s},he={scrollKey:g.string.isRequired,shouldUpdateScroll:g.func,children:g.element.isRequired},pe={scrollBehavior:g.object},Q=function(s){z(e,s);function e(i,r){B(this,e);var o=G(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i,r));return o.shouldUpdateScroll=function(u,l){var n=o.props.shouldUpdateScroll;return n?n.call(o.context.scrollBehavior.scrollBehavior,u,l):!0},o.scrollKey=i.scrollKey,o}return C(e,[{key:"componentDidMount",value:function(){this.context.scrollBehavior.registerElement(this.props.scrollKey,oe.findDOMNode(this),this.shouldUpdateScroll)}},{key:"componentWillReceiveProps",value:function(r){}},{key:"componentDidUpdate",value:function(){}},{key:"componentWillUnmount",value:function(){this.context.scrollBehavior.unregisterElement(this.scrollKey)}},{key:"render",value:function(){return U.Children.only(this.props.children)}}]),e}(U.Component);Q.propTypes=he;Q.contextTypes=pe;var _e="@@scroll|",me=function(){function s(){B(this,s)}return C(s,[{key:"read",value:function(i,r){var o=this.getStateKey(i,r);try{var u=sessionStorage.getItem(o);return JSON.parse(u)}catch{return{}}}},{key:"save",value:function(i,r,o){var u=this.getStateKey(i,r),l=JSON.stringify(o);try{sessionStorage.setItem(u,l)}catch{}}},{key:"getStateKey",value:function(i,r){var o=i.key,u=""+_e+o;return r==null?u:u+"|"+r}}]),s}(),Se={shouldUpdateScroll:g.func,children:g.element.isRequired,location:g.object.isRequired,history:g.object.isRequired,scrollBehavior:g.func},we={scrollBehavior:g.object.isRequired},L=function(s){z(e,s);function e(i,r){B(this,e);var o=G(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i,r));o.shouldUpdateScroll=function(n,d){var f=o.props.shouldUpdateScroll;return f?f.call(o.scrollBehavior,n,d):!0},o.registerElement=function(n,d,f){o.scrollBehavior.registerElement(n,d,f,o.getRouterProps())},o.unregisterElement=function(n){o.scrollBehavior.unregisterElement(n)};var u=i.history,l=o.props.scrollBehavior||ve;return o.scrollBehavior=new l({addTransitionHook:u.listen,stateStorage:new me,getCurrentLocation:function(){return o.props.location},shouldUpdateScroll:o.shouldUpdateScroll}),o.scrollBehavior.updateScroll(null,o.getRouterProps()),o}return C(e,[{key:"getChildContext",value:function(){return{scrollBehavior:this}}},{key:"componentDidUpdate",value:function(r){var o=this.props,u=o.location,l=o.history,n=r.location;if(u!==n){var d={history:r.history,location:r.location};this.scrollBehavior.updateScroll(d,{history:l,location:u})}}},{key:"componentWillUnmount",value:function(){this.scrollBehavior.stop()}},{key:"getRouterProps",value:function(){var r=this.props,o=r.history,u=r.location;return{history:o,location:u}}},{key:"render",value:function(){return U.Children.only(this.props.children)}}]),e}(U.Component);L.propTypes=Se;L.childContextTypes=we;var Pe=re(L);export{Pe as S,Q as a};
//# sourceMappingURL=react-router-scroll-4.es-CU7ja20b.js.map
