{"version":3,"file":"closed_registrations_modal-index-pgwSgueK.js","sources":["../../app/javascript/mastodon/features/closed_registrations_modal/index.jsx"],"sourcesContent":["import { FormattedMessage } from 'react-intl';\n\nimport ImmutablePureComponent from 'react-immutable-pure-component';\nimport { connect } from 'react-redux';\n\nimport { fetchServer } from 'mastodon/actions/server';\nimport { domain } from 'mastodon/initial_state';\n\nconst mapStateToProps = state => ({\n  message: state.getIn(['server', 'server', 'registrations', 'message']),\n});\n\nclass ClosedRegistrationsModal extends ImmutablePureComponent {\n\n  componentDidMount () {\n    const { dispatch } = this.props;\n    dispatch(fetchServer());\n  }\n\n  render () {\n    let closedRegistrationsMessage;\n\n    if (this.props.message) {\n      closedRegistrationsMessage = (\n        <p\n          className='prose'\n          dangerouslySetInnerHTML={{ __html: this.props.message }}\n        />\n      );\n    } else {\n      closedRegistrationsMessage = (\n        <p className='prose'>\n          <FormattedMessage\n            id='closed_registrations_modal.description'\n            defaultMessage='Creating an account on {domain} is currently not possible, but please keep in mind that you do not need an account specifically on {domain} to use Mastodon.'\n            values={{ domain: <strong>{domain}</strong> }}\n          />\n        </p>\n      );\n    }\n\n    return (\n      <div className='modal-root__modal interaction-modal'>\n        <div className='interaction-modal__lead'>\n          <h3><FormattedMessage id='closed_registrations_modal.title' defaultMessage='Signing up on Mastodon' /></h3>\n          <p>\n            <FormattedMessage\n              id='closed_registrations_modal.preamble'\n              defaultMessage='Mastodon is decentralized, so no matter where you create your account, you will be able to follow and interact with anyone on this server. You can even self-host it!'\n            />\n          </p>\n        </div>\n\n        <div className='interaction-modal__choices'>\n          <div className='interaction-modal__choices__choice'>\n            <h3><FormattedMessage id='interaction_modal.on_this_server' defaultMessage='On this server' /></h3>\n            {closedRegistrationsMessage}\n          </div>\n\n          <div className='interaction-modal__choices__choice'>\n            <h3><FormattedMessage id='interaction_modal.on_another_server' defaultMessage='On a different server' /></h3>\n            <p className='prose'>\n              <FormattedMessage\n                id='closed_registrations.other_server_instructions'\n                defaultMessage='Since Mastodon is decentralized, you can create an account on another server and still interact with this one.'\n              />\n            </p>\n            <a href='https://joinmastodon.org/servers' className='button button--block'><FormattedMessage id='closed_registrations_modal.find_another_server' defaultMessage='Find another server' /></a>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n}\n\nexport default connect(mapStateToProps)(ClosedRegistrationsModal);\n"],"names":["mapStateToProps","state","message","getIn","ClosedRegistrationsModal","ImmutablePureComponent","componentDidMount","dispatch","props","fetchServer","render","closedRegistrationsMessage","jsx","__html","FormattedMessage","domain","jsxs","index","connect"],"mappings":"+cAQA,MAAMA,EAAkBC,IAAU,CAChCC,QAASD,EAAME,MAAM,CAAC,SAAU,SAAU,gBAAiB,SAAS,CAAC,CACvE,GAEA,MAAMC,UAAiCC,CAAuB,CAE5DC,mBAAqB,CACnB,KAAM,CAAEC,SAAAA,CAAAA,EAAa,KAAKC,MAC1BD,EAASE,GAAa,CAAA,CAGxBC,QAAU,CACR,IAAIC,EAEJ,OAAI,KAAKH,MAAMN,QACbS,EACEC,EAAAA,IAAC,IAAA,CACC,UAAU,QACV,wBAAyB,CAAEC,OAAQ,KAAKL,MAAMN,OAAAA,EAAU,EAI5DS,EACEC,EAAAA,IAAC,IAAA,CAAE,UAAU,QACX,SAAAA,EAAAA,IAACE,GACC,GAAE,yCACF,eAAe,+JACf,OAAQ,CAAEC,OAAQH,EAAAA,IAAC,SAAA,CAAQG,SAAAA,CAAAA,CAAO,CAAA,EAAY,CAAA,CAElD,EAKFC,EAAAA,KAAC,MAAA,CAAI,UAAU,sCACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,0BACb,SAAA,CAAAJ,EAAAA,IAAC,MAAG,SAAAA,EAAAA,IAACE,EAAA,CAAiB,GAAE,mCAAoC,eAAe,yBAAwB,CAAA,CAAG,EACtGF,EAAAA,IAAC,KACC,SAAAA,MAACE,EAAA,CACC,yCACA,eAAe,wKAAuK,CAAA,CAE1L,CAAA,EACF,EAEAE,EAAAA,KAAC,MAAA,CAAI,UAAU,6BACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,qCACb,SAAA,CAAAJ,EAAAA,IAAC,MAAG,SAAAA,EAAAA,IAACE,EAAA,CAAiB,GAAE,mCAAoC,eAAe,iBAAgB,CAAA,CAAG,EAC7FH,CAAAA,EACH,EAEAK,EAAAA,KAAC,MAAA,CAAI,UAAU,qCACb,SAAA,CAAAJ,EAAAA,IAAC,MAAG,SAAAA,EAAAA,IAACE,EAAA,CAAiB,GAAE,sCAAuC,eAAe,wBAAuB,CAAA,CAAG,EACxGF,EAAAA,IAAC,IAAA,CAAE,UAAU,QACX,SAAAA,EAAAA,IAACE,GACC,oDACA,eAAe,gHAAA,CAAgH,CAAA,CAEnI,EACAF,EAAAA,IAAC,IAAA,CAAE,KAAK,mCAAmC,UAAU,uBAAuB,SAAAA,EAAAA,IAACE,EAAA,CAAiB,GAAE,iDAAkD,eAAe,qBAAA,CAAqB,CAAA,CAAG,CAAA,CAAA,CAC3L,CAAA,CAAA,CACF,CAAA,EACF,CAAA,CAIN,CAEA,MAAAG,EAAeC,EAAQlB,CAAe,EAAEI,CAAwB"}