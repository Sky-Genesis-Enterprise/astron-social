{"version":3,"file":"status-index-CoorrJYP.js","sources":["../../app/javascript/material-icons/400-24px/visibility.svg?react","../../app/javascript/mastodon/selectors/contexts.ts","../../app/javascript/mastodon/features/status/components/action_bar.jsx","../../app/javascript/mastodon/features/status/index.jsx"],"sourcesContent":["import * as React from \"react\";\nconst SvgVisibility = (props) => /* @__PURE__ */ React.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", height: 24, viewBox: \"0 -960 960 960\", width: 24, ...props }, /* @__PURE__ */ React.createElement(\"path\", { d: \"M480-320q75 0 127.5-52.5T660-500q0-75-52.5-127.5T480-680q-75 0-127.5 52.5T300-500q0 75 52.5 127.5T480-320Zm0-72q-45 0-76.5-31.5T372-500q0-45 31.5-76.5T480-608q45 0 76.5 31.5T588-500q0 45-31.5 76.5T480-392Zm0 192q-146 0-266-81.5T40-500q54-137 174-218.5T480-800q146 0 266 81.5T920-500q-54 137-174 218.5T480-200Zm0-300Zm0 220q113 0 207.5-59.5T832-500q-50-101-144.5-160.5T480-720q-113 0-207.5 59.5T128-500q50 101 144.5 160.5T480-280Z\" }));\nexport default SvgVisibility;\n","import { createAppSelector } from 'mastodon/store';\n\nexport const getAncestorsIds = createAppSelector(\n  [(_, id: string) => id, (state) => state.contexts.inReplyTos],\n  (statusId, inReplyTos) => {\n    const ancestorsIds: string[] = [];\n\n    let currentId: string | undefined = statusId;\n\n    while (currentId && !ancestorsIds.includes(currentId)) {\n      ancestorsIds.unshift(currentId);\n      currentId = inReplyTos[currentId];\n    }\n\n    return ancestorsIds;\n  },\n);\n\nexport const getDescendantsIds = createAppSelector(\n  [\n    (_, id: string) => id,\n    (state) => state.contexts.replies,\n    (state) => state.statuses,\n  ],\n  (statusId, contextReplies, statuses) => {\n    const descendantsIds: string[] = [];\n\n    const visitIds = [statusId];\n\n    while (visitIds.length > 0) {\n      const id = visitIds.pop();\n\n      if (!id) {\n        break;\n      }\n\n      const replies = contextReplies[id];\n\n      if (statusId !== id) {\n        descendantsIds.push(id);\n      }\n\n      if (replies) {\n        replies.toReversed().forEach((replyId) => {\n          if (\n            !visitIds.includes(replyId) &&\n            !descendantsIds.includes(replyId) &&\n            statusId !== replyId\n          ) {\n            visitIds.push(replyId);\n          }\n        });\n      }\n    }\n\n    let insertAt = descendantsIds.findIndex((id) => {\n      const status = statuses.get(id);\n\n      if (!status) {\n        return false;\n      }\n\n      const inReplyToAccountId = status.get('in_reply_to_account_id') as\n        | string\n        | null;\n      const accountId = status.get('account') as string;\n\n      return inReplyToAccountId !== accountId;\n    });\n\n    if (insertAt !== -1) {\n      descendantsIds.forEach((id, idx) => {\n        const status = statuses.get(id);\n\n        if (!status) {\n          return;\n        }\n\n        const inReplyToAccountId = status.get('in_reply_to_account_id') as\n          | string\n          | null;\n        const accountId = status.get('account') as string;\n\n        if (idx > insertAt && inReplyToAccountId === accountId) {\n          descendantsIds.splice(idx, 1);\n          descendantsIds.splice(insertAt, 0, id);\n          insertAt += 1;\n        }\n      });\n    }\n\n    return descendantsIds;\n  },\n);\n","import PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\n\nimport { defineMessages, injectIntl } from 'react-intl';\n\nimport classNames from 'classnames';\n\nimport ImmutablePropTypes from 'react-immutable-proptypes';\nimport { connect } from 'react-redux';\n\nimport BookmarkIcon from '@/material-icons/400-24px/bookmark-fill.svg?react';\nimport BookmarkBorderIcon from '@/material-icons/400-24px/bookmark.svg?react';\nimport MoreHorizIcon from '@/material-icons/400-24px/more_horiz.svg?react';\nimport RepeatIcon from '@/material-icons/400-24px/repeat.svg?react';\nimport ReplyIcon from '@/material-icons/400-24px/reply.svg?react';\nimport ReplyAllIcon from '@/material-icons/400-24px/reply_all.svg?react';\nimport StarIcon from '@/material-icons/400-24px/star-fill.svg?react';\nimport StarBorderIcon from '@/material-icons/400-24px/star.svg?react';\nimport RepeatActiveIcon from '@/svg-icons/repeat_active.svg?react';\nimport RepeatDisabledIcon from '@/svg-icons/repeat_disabled.svg?react';\nimport RepeatPrivateIcon from '@/svg-icons/repeat_private.svg?react';\nimport RepeatPrivateActiveIcon from '@/svg-icons/repeat_private_active.svg?react';\nimport { identityContextPropShape, withIdentity } from 'mastodon/identity_context';\nimport { PERMISSION_MANAGE_USERS, PERMISSION_MANAGE_FEDERATION } from 'mastodon/permissions';\n\nimport { IconButton } from '../../../components/icon_button';\nimport { Dropdown } from 'mastodon/components/dropdown_menu';\nimport { me } from '../../../initial_state';\n\nconst messages = defineMessages({\n  delete: { id: 'status.delete', defaultMessage: 'Delete' },\n  redraft: { id: 'status.redraft', defaultMessage: 'Delete & re-draft' },\n  edit: { id: 'status.edit', defaultMessage: 'Edit' },\n  direct: { id: 'status.direct', defaultMessage: 'Privately mention @{name}' },\n  mention: { id: 'status.mention', defaultMessage: 'Mention @{name}' },\n  reply: { id: 'status.reply', defaultMessage: 'Reply' },\n  reblog: { id: 'status.reblog', defaultMessage: 'Boost' },\n  reblog_private: { id: 'status.reblog_private', defaultMessage: 'Boost with original visibility' },\n  cancel_reblog_private: { id: 'status.cancel_reblog_private', defaultMessage: 'Unboost' },\n  cannot_reblog: { id: 'status.cannot_reblog', defaultMessage: 'This post cannot be boosted' },\n  favourite: { id: 'status.favourite', defaultMessage: 'Favorite' },\n  removeFavourite: { id: 'status.remove_favourite', defaultMessage: 'Remove from favorites' },\n  bookmark: { id: 'status.bookmark', defaultMessage: 'Bookmark' },\n  removeBookmark: { id: 'status.remove_bookmark', defaultMessage: 'Remove bookmark' },\n  more: { id: 'status.more', defaultMessage: 'More' },\n  mute: { id: 'status.mute', defaultMessage: 'Mute @{name}' },\n  muteConversation: { id: 'status.mute_conversation', defaultMessage: 'Mute conversation' },\n  unmuteConversation: { id: 'status.unmute_conversation', defaultMessage: 'Unmute conversation' },\n  block: { id: 'status.block', defaultMessage: 'Block @{name}' },\n  report: { id: 'status.report', defaultMessage: 'Report @{name}' },\n  share: { id: 'status.share', defaultMessage: 'Share' },\n  pin: { id: 'status.pin', defaultMessage: 'Pin on profile' },\n  unpin: { id: 'status.unpin', defaultMessage: 'Unpin from profile' },\n  embed: { id: 'status.embed', defaultMessage: 'Get embed code' },\n  admin_account: { id: 'status.admin_account', defaultMessage: 'Open moderation interface for @{name}' },\n  admin_status: { id: 'status.admin_status', defaultMessage: 'Open this post in the moderation interface' },\n  admin_domain: { id: 'status.admin_domain', defaultMessage: 'Open moderation interface for {domain}' },\n  copy: { id: 'status.copy', defaultMessage: 'Copy link to post' },\n  blockDomain: { id: 'account.block_domain', defaultMessage: 'Block domain {domain}' },\n  unblockDomain: { id: 'account.unblock_domain', defaultMessage: 'Unblock domain {domain}' },\n  unmute: { id: 'account.unmute', defaultMessage: 'Unmute @{name}' },\n  unblock: { id: 'account.unblock', defaultMessage: 'Unblock @{name}' },\n  openOriginalPage: { id: 'account.open_original_page', defaultMessage: 'Open original page' },\n});\n\nconst mapStateToProps = (state, { status }) => ({\n  relationship: state.getIn(['relationships', status.getIn(['account', 'id'])]),\n});\n\nclass ActionBar extends PureComponent {\n  static propTypes = {\n    identity: identityContextPropShape,\n    status: ImmutablePropTypes.map.isRequired,\n    relationship: ImmutablePropTypes.record,\n    onReply: PropTypes.func.isRequired,\n    onReblog: PropTypes.func.isRequired,\n    onFavourite: PropTypes.func.isRequired,\n    onBookmark: PropTypes.func.isRequired,\n    onDelete: PropTypes.func.isRequired,\n    onEdit: PropTypes.func.isRequired,\n    onDirect: PropTypes.func.isRequired,\n    onMention: PropTypes.func.isRequired,\n    onMute: PropTypes.func,\n    onUnmute: PropTypes.func,\n    onBlock: PropTypes.func,\n    onUnblock: PropTypes.func,\n    onBlockDomain: PropTypes.func,\n    onUnblockDomain: PropTypes.func,\n    onMuteConversation: PropTypes.func,\n    onReport: PropTypes.func,\n    onPin: PropTypes.func,\n    onEmbed: PropTypes.func,\n    intl: PropTypes.object.isRequired,\n  };\n\n  handleReplyClick = () => {\n    this.props.onReply(this.props.status);\n  };\n\n  handleReblogClick = (e) => {\n    this.props.onReblog(this.props.status, e);\n  };\n\n  handleFavouriteClick = () => {\n    this.props.onFavourite(this.props.status);\n  };\n\n  handleBookmarkClick = (e) => {\n    this.props.onBookmark(this.props.status, e);\n  };\n\n  handleDeleteClick = () => {\n    this.props.onDelete(this.props.status);\n  };\n\n  handleRedraftClick = () => {\n    this.props.onDelete(this.props.status, true);\n  };\n\n  handleEditClick = () => {\n    this.props.onEdit(this.props.status);\n  };\n\n  handleDirectClick = () => {\n    this.props.onDirect(this.props.status.get('account'));\n  };\n\n  handleMentionClick = () => {\n    this.props.onMention(this.props.status.get('account'));\n  };\n\n  handleMuteClick = () => {\n    const { status, relationship, onMute, onUnmute } = this.props;\n    const account = status.get('account');\n\n    if (relationship && relationship.get('muting')) {\n      onUnmute(account);\n    } else {\n      onMute(account);\n    }\n  };\n\n  handleBlockClick = () => {\n    const { status, relationship, onBlock, onUnblock } = this.props;\n    const account = status.get('account');\n\n    if (relationship && relationship.get('blocking')) {\n      onUnblock(account);\n    } else {\n      onBlock(status);\n    }\n  };\n\n  handleBlockDomain = () => {\n    const { status, onBlockDomain } = this.props;\n    const account = status.get('account');\n\n    onBlockDomain(account);\n  };\n\n  handleUnblockDomain = () => {\n    const { status, onUnblockDomain } = this.props;\n    const account = status.get('account');\n\n    onUnblockDomain(account.get('acct').split('@')[1]);\n  };\n\n  handleConversationMuteClick = () => {\n    this.props.onMuteConversation(this.props.status);\n  };\n\n  handleReport = () => {\n    this.props.onReport(this.props.status);\n  };\n\n  handlePinClick = () => {\n    this.props.onPin(this.props.status);\n  };\n\n  handleShare = () => {\n    navigator.share({\n      url: this.props.status.get('url'),\n    });\n  };\n\n  handleEmbed = () => {\n    this.props.onEmbed(this.props.status);\n  };\n\n  handleCopy = () => {\n    const url = this.props.status.get('url');\n    navigator.clipboard.writeText(url);\n  };\n\n  render () {\n    const { status, relationship, intl } = this.props;\n    const { signedIn, permissions } = this.props.identity;\n\n    const publicStatus       = ['public', 'unlisted'].includes(status.get('visibility'));\n    const pinnableStatus     = ['public', 'unlisted', 'private'].includes(status.get('visibility'));\n    const mutingConversation = status.get('muted');\n    const account            = status.get('account');\n    const writtenByMe        = status.getIn(['account', 'id']) === me;\n    const isRemote           = status.getIn(['account', 'username']) !== status.getIn(['account', 'acct']);\n\n    let menu = [];\n\n    if (publicStatus && isRemote) {\n      menu.push({ text: intl.formatMessage(messages.openOriginalPage), href: status.get('url') });\n    }\n\n    menu.push({ text: intl.formatMessage(messages.copy), action: this.handleCopy });\n\n    if (publicStatus && 'share' in navigator) {\n      menu.push({ text: intl.formatMessage(messages.share), action: this.handleShare });\n    }\n\n    if (publicStatus && (signedIn || !isRemote)) {\n      menu.push({ text: intl.formatMessage(messages.embed), action: this.handleEmbed });\n    }\n\n    if (signedIn) {\n      menu.push(null);\n\n      if (writtenByMe) {\n        if (pinnableStatus) {\n          menu.push({ text: intl.formatMessage(status.get('pinned') ? messages.unpin : messages.pin), action: this.handlePinClick });\n          menu.push(null);\n        }\n\n        menu.push({ text: intl.formatMessage(mutingConversation ? messages.unmuteConversation : messages.muteConversation), action: this.handleConversationMuteClick });\n        menu.push(null);\n        menu.push({ text: intl.formatMessage(messages.edit), action: this.handleEditClick });\n        menu.push({ text: intl.formatMessage(messages.delete), action: this.handleDeleteClick, dangerous: true });\n        menu.push({ text: intl.formatMessage(messages.redraft), action: this.handleRedraftClick, dangerous: true });\n      } else {\n        menu.push({ text: intl.formatMessage(messages.mention, { name: status.getIn(['account', 'username']) }), action: this.handleMentionClick });\n        menu.push(null);\n\n        if (relationship && relationship.get('muting')) {\n          menu.push({ text: intl.formatMessage(messages.unmute, { name: account.get('username') }), action: this.handleMuteClick });\n        } else {\n          menu.push({ text: intl.formatMessage(messages.mute, { name: account.get('username') }), action: this.handleMuteClick, dangerous: true });\n        }\n\n        if (relationship && relationship.get('blocking')) {\n          menu.push({ text: intl.formatMessage(messages.unblock, { name: account.get('username') }), action: this.handleBlockClick });\n        } else {\n          menu.push({ text: intl.formatMessage(messages.block, { name: account.get('username') }), action: this.handleBlockClick, dangerous: true });\n        }\n\n        menu.push({ text: intl.formatMessage(messages.report, { name: status.getIn(['account', 'username']) }), action: this.handleReport, dangerous: true });\n\n        if (account.get('acct') !== account.get('username')) {\n          const domain = account.get('acct').split('@')[1];\n\n          menu.push(null);\n\n          if (relationship && relationship.get('domain_blocking')) {\n            menu.push({ text: intl.formatMessage(messages.unblockDomain, { domain }), action: this.handleUnblockDomain });\n          } else {\n            menu.push({ text: intl.formatMessage(messages.blockDomain, { domain }), action: this.handleBlockDomain, dangerous: true });\n          }\n        }\n\n        if ((permissions & PERMISSION_MANAGE_USERS) === PERMISSION_MANAGE_USERS || (isRemote && (permissions & PERMISSION_MANAGE_FEDERATION) === PERMISSION_MANAGE_FEDERATION)) {\n          menu.push(null);\n          if ((permissions & PERMISSION_MANAGE_USERS) === PERMISSION_MANAGE_USERS) {\n            menu.push({ text: intl.formatMessage(messages.admin_account, { name: status.getIn(['account', 'username']) }), href: `/admin/accounts/${status.getIn(['account', 'id'])}` });\n            menu.push({ text: intl.formatMessage(messages.admin_status), href: `/admin/accounts/${status.getIn(['account', 'id'])}/statuses/${status.get('id')}` });\n          }\n          if (isRemote && (permissions & PERMISSION_MANAGE_FEDERATION) === PERMISSION_MANAGE_FEDERATION) {\n            const domain = account.get('acct').split('@')[1];\n            menu.push({ text: intl.formatMessage(messages.admin_domain, { domain: domain }), href: `/admin/instances/${domain}` });\n          }\n        }\n      }\n    }\n\n    let replyIcon;\n    let replyIconComponent;\n\n    if (status.get('in_reply_to_id', null) === null) {\n      replyIcon = 'reply';\n      replyIconComponent = ReplyIcon;\n    } else {\n      replyIcon = 'reply-all';\n      replyIconComponent = ReplyAllIcon;\n    }\n\n    const reblogPrivate = status.getIn(['account', 'id']) === me && status.get('visibility') === 'private';\n\n    let reblogTitle, reblogIconComponent;\n\n    if (status.get('reblogged')) {\n      reblogTitle = intl.formatMessage(messages.cancel_reblog_private);\n      reblogIconComponent = publicStatus ? RepeatActiveIcon : RepeatPrivateActiveIcon;\n    } else if (publicStatus) {\n      reblogTitle = intl.formatMessage(messages.reblog);\n      reblogIconComponent = RepeatIcon;\n    } else if (reblogPrivate) {\n      reblogTitle = intl.formatMessage(messages.reblog_private);\n      reblogIconComponent = RepeatPrivateIcon;\n    } else {\n      reblogTitle = intl.formatMessage(messages.cannot_reblog);\n      reblogIconComponent = RepeatDisabledIcon;\n    }\n\n    const bookmarkTitle = intl.formatMessage(status.get('bookmarked') ? messages.removeBookmark : messages.bookmark);\n    const favouriteTitle = intl.formatMessage(status.get('favourited') ? messages.removeFavourite : messages.favourite);\n\n    return (\n      <div className='detailed-status__action-bar'>\n        <div className='detailed-status__button'><IconButton title={intl.formatMessage(messages.reply)} icon={status.get('in_reply_to_account_id') === status.getIn(['account', 'id']) ? 'reply' : replyIcon} iconComponent={status.get('in_reply_to_account_id') === status.getIn(['account', 'id']) ? ReplyIcon : replyIconComponent}  onClick={this.handleReplyClick} /></div>\n        <div className='detailed-status__button'><IconButton className={classNames({ reblogPrivate })} disabled={!publicStatus && !reblogPrivate} active={status.get('reblogged')} title={reblogTitle} icon='retweet' iconComponent={reblogIconComponent} onClick={this.handleReblogClick} /></div>\n        <div className='detailed-status__button'><IconButton className='star-icon' animate active={status.get('favourited')} title={favouriteTitle} icon='star' iconComponent={status.get('favourited') ? StarIcon : StarBorderIcon} onClick={this.handleFavouriteClick} /></div>\n        <div className='detailed-status__button'><IconButton className='bookmark-icon' disabled={!signedIn} active={status.get('bookmarked')} title={bookmarkTitle} icon='bookmark' iconComponent={status.get('bookmarked') ? BookmarkIcon : BookmarkBorderIcon} onClick={this.handleBookmarkClick} /></div>\n\n        <div className='detailed-status__action-bar-dropdown'>\n          <Dropdown icon='ellipsis-h' iconComponent={MoreHorizIcon} status={status} items={menu} direction='left' title={intl.formatMessage(messages.more)} />\n        </div>\n      </div>\n    );\n  }\n\n}\n\nexport default connect(mapStateToProps)(withIdentity(injectIntl(ActionBar)));\n","import PropTypes from 'prop-types';\n\nimport { defineMessages, injectIntl, FormattedMessage } from 'react-intl';\n\nimport classNames from 'classnames';\nimport { Helmet } from 'react-helmet';\nimport { withRouter } from 'react-router-dom';\n\nimport ImmutablePropTypes from 'react-immutable-proptypes';\nimport ImmutablePureComponent from 'react-immutable-pure-component';\nimport { connect } from 'react-redux';\n\nimport { HotKeys } from 'react-hotkeys';\n\nimport VisibilityIcon from '@/material-icons/400-24px/visibility.svg?react';\nimport VisibilityOffIcon from '@/material-icons/400-24px/visibility_off.svg?react';\nimport { Icon }  from 'mastodon/components/icon';\nimport { LoadingIndicator } from 'mastodon/components/loading_indicator';\nimport { TimelineHint } from 'mastodon/components/timeline_hint';\nimport ScrollContainer from 'mastodon/containers/scroll_container';\nimport BundleColumnError from 'mastodon/features/ui/components/bundle_column_error';\nimport { identityContextPropShape, withIdentity } from 'mastodon/identity_context';\nimport { WithRouterPropTypes } from 'mastodon/utils/react_router';\n\nimport {\n  unblockAccount,\n  unmuteAccount,\n} from '../../actions/accounts';\nimport { initBlockModal } from '../../actions/blocks';\nimport {\n  replyCompose,\n  mentionCompose,\n  directCompose,\n} from '../../actions/compose';\nimport {\n  initDomainBlockModal,\n  unblockDomain,\n} from '../../actions/domain_blocks';\nimport {\n  toggleFavourite,\n  bookmark,\n  unbookmark,\n  toggleReblog,\n  pin,\n  unpin,\n} from '../../actions/interactions';\nimport { openModal } from '../../actions/modal';\nimport { initMuteModal } from '../../actions/mutes';\nimport { initReport } from '../../actions/reports';\nimport {\n  fetchStatus,\n  muteStatus,\n  unmuteStatus,\n  deleteStatus,\n  editStatus,\n  hideStatus,\n  revealStatus,\n  translateStatus,\n  undoStatusTranslation,\n} from '../../actions/statuses';\nimport ColumnHeader from '../../components/column_header';\nimport { textForScreenReader, defaultMediaVisibility } from '../../components/status';\nimport { StatusQuoteManager } from '../../components/status_quoted';\nimport { deleteModal } from '../../initial_state';\nimport { makeGetStatus, makeGetPictureInPicture } from '../../selectors';\nimport { getAncestorsIds, getDescendantsIds } from 'mastodon/selectors/contexts';\nimport Column from '../ui/components/column';\nimport { attachFullscreenListener, detachFullscreenListener, isFullscreen } from '../ui/util/fullscreen';\n\nimport ActionBar from './components/action_bar';\nimport { DetailedStatus } from './components/detailed_status';\n\n\nconst messages = defineMessages({\n  revealAll: { id: 'status.show_more_all', defaultMessage: 'Show more for all' },\n  hideAll: { id: 'status.show_less_all', defaultMessage: 'Show less for all' },\n  statusTitleWithAttachments: { id: 'status.title.with_attachments', defaultMessage: '{user} posted {attachmentCount, plural, one {an attachment} other {# attachments}}' },\n  detailedStatus: { id: 'status.detailed_status', defaultMessage: 'Detailed conversation view' },\n});\n\nconst makeMapStateToProps = () => {\n  const getStatus = makeGetStatus();\n  const getPictureInPicture = makeGetPictureInPicture();\n\n  const mapStateToProps = (state, props) => {\n    const status = getStatus(state, { id: props.params.statusId, contextType: 'detailed' });\n\n    let ancestorsIds   = [];\n    let descendantsIds = [];\n\n    if (status) {\n      ancestorsIds   = getAncestorsIds(state, status.get('in_reply_to_id'));\n      descendantsIds = getDescendantsIds(state, status.get('id'));\n    }\n\n    return {\n      isLoading: state.getIn(['statuses', props.params.statusId, 'isLoading']),\n      status,\n      ancestorsIds,\n      descendantsIds,\n      askReplyConfirmation: state.getIn(['compose', 'text']).trim().length !== 0,\n      domain: state.getIn(['meta', 'domain']),\n      pictureInPicture: getPictureInPicture(state, { id: props.params.statusId }),\n    };\n  };\n\n  return mapStateToProps;\n};\n\nconst truncate = (str, num) => {\n  const arr = Array.from(str);\n  if (arr.length > num) {\n    return arr.slice(0, num).join('') + 'â€¦';\n  } else {\n    return str;\n  }\n};\n\nconst titleFromStatus = (intl, status) => {\n  const displayName = status.getIn(['account', 'display_name']);\n  const username = status.getIn(['account', 'username']);\n  const user = displayName.trim().length === 0 ? username : displayName;\n  const text = status.get('search_index');\n  const attachmentCount = status.get('media_attachments').size;\n\n  return text ? `${user}: \"${truncate(text, 30)}\"` : intl.formatMessage(messages.statusTitleWithAttachments, { user, attachmentCount });\n};\n\nclass Status extends ImmutablePureComponent {\n  static propTypes = {\n    identity: identityContextPropShape,\n    params: PropTypes.object.isRequired,\n    dispatch: PropTypes.func.isRequired,\n    status: ImmutablePropTypes.map,\n    isLoading: PropTypes.bool,\n    ancestorsIds: PropTypes.arrayOf(PropTypes.string).isRequired,\n    descendantsIds: PropTypes.arrayOf(PropTypes.string).isRequired,\n    intl: PropTypes.object.isRequired,\n    askReplyConfirmation: PropTypes.bool,\n    multiColumn: PropTypes.bool,\n    domain: PropTypes.string.isRequired,\n    pictureInPicture: ImmutablePropTypes.contains({\n      inUse: PropTypes.bool,\n      available: PropTypes.bool,\n    }),\n    ...WithRouterPropTypes\n  };\n\n  state = {\n    fullscreen: false,\n    showMedia: defaultMediaVisibility(this.props.status),\n    loadedStatusId: undefined,\n  };\n\n  UNSAFE_componentWillMount () {\n    this.props.dispatch(fetchStatus(this.props.params.statusId));\n  }\n\n  componentDidMount () {\n    attachFullscreenListener(this.onFullScreenChange);\n\n    this._scrollStatusIntoView();\n  }\n\n  UNSAFE_componentWillReceiveProps (nextProps) {\n    if (nextProps.params.statusId !== this.props.params.statusId && nextProps.params.statusId) {\n      this.props.dispatch(fetchStatus(nextProps.params.statusId));\n    }\n\n    if (nextProps.status && nextProps.status.get('id') !== this.state.loadedStatusId) {\n      this.setState({ showMedia: defaultMediaVisibility(nextProps.status), loadedStatusId: nextProps.status.get('id') });\n    }\n  }\n\n  handleToggleMediaVisibility = () => {\n    this.setState({ showMedia: !this.state.showMedia });\n  };\n\n  handleFavouriteClick = (status) => {\n    const { dispatch } = this.props;\n    const { signedIn } = this.props.identity;\n\n    if (signedIn) {\n      dispatch(toggleFavourite(status.get('id')));\n    } else {\n      dispatch(openModal({\n        modalType: 'INTERACTION',\n        modalProps: {\n          type: 'favourite',\n          accountId: status.getIn(['account', 'id']),\n          url: status.get('uri'),\n        },\n      }));\n    }\n  };\n\n  handlePin = (status) => {\n    if (status.get('pinned')) {\n      this.props.dispatch(unpin(status));\n    } else {\n      this.props.dispatch(pin(status));\n    }\n  };\n\n  handleReplyClick = (status) => {\n    const { askReplyConfirmation, dispatch } = this.props;\n    const { signedIn } = this.props.identity;\n\n    if (signedIn) {\n      if (askReplyConfirmation) {\n        dispatch(openModal({ modalType: 'CONFIRM_REPLY', modalProps: { status } }));\n      } else {\n        dispatch(replyCompose(status));\n      }\n    } else {\n      dispatch(openModal({\n        modalType: 'INTERACTION',\n        modalProps: {\n          type: 'reply',\n          accountId: status.getIn(['account', 'id']),\n          url: status.get('uri'),\n        },\n      }));\n    }\n  };\n\n  handleReblogClick = (status, e) => {\n    const { dispatch } = this.props;\n    const { signedIn } = this.props.identity;\n\n    if (signedIn) {\n      dispatch(toggleReblog(status.get('id'), e && e.shiftKey));\n    } else {\n      dispatch(openModal({\n        modalType: 'INTERACTION',\n        modalProps: {\n          type: 'reblog',\n          accountId: status.getIn(['account', 'id']),\n          url: status.get('uri'),\n        },\n      }));\n    }\n  };\n\n  handleBookmarkClick = (status) => {\n    if (status.get('bookmarked')) {\n      this.props.dispatch(unbookmark(status));\n    } else {\n      this.props.dispatch(bookmark(status));\n    }\n  };\n\n  handleDeleteClick = (status, withRedraft = false) => {\n    const { dispatch } = this.props;\n\n    if (!deleteModal) {\n      dispatch(deleteStatus(status.get('id'), withRedraft));\n    } else {\n      dispatch(openModal({ modalType: 'CONFIRM_DELETE_STATUS', modalProps: { statusId: status.get('id'), withRedraft } }));\n    }\n  };\n\n  handleEditClick = (status) => {\n    const { dispatch, askReplyConfirmation } = this.props;\n\n    if (askReplyConfirmation) {\n      dispatch(openModal({ modalType: 'CONFIRM_EDIT_STATUS', modalProps: { statusId: status.get('id') } }));\n    } else {\n      dispatch(editStatus(status.get('id')));\n    }\n  };\n\n  handleDirectClick = (account) => {\n    this.props.dispatch(directCompose(account));\n  };\n\n  handleMentionClick = (account) => {\n    this.props.dispatch(mentionCompose(account));\n  };\n\n  handleOpenMedia = (media, index, lang) => {\n    this.props.dispatch(openModal({\n      modalType: 'MEDIA',\n      modalProps: { statusId: this.props.status.get('id'), media, index, lang },\n    }));\n  };\n\n  handleOpenVideo = (media, lang, options) => {\n    this.props.dispatch(openModal({\n      modalType: 'VIDEO',\n      modalProps: { statusId: this.props.status.get('id'), media, lang, options },\n    }));\n  };\n\n  handleHotkeyOpenMedia = e => {\n    const { status } = this.props;\n\n    e.preventDefault();\n\n    if (status.get('media_attachments').size > 0) {\n      if (status.getIn(['media_attachments', 0, 'type']) === 'video') {\n        this.handleOpenVideo(status.getIn(['media_attachments', 0]), { startTime: 0 });\n      } else {\n        this.handleOpenMedia(status.get('media_attachments'), 0);\n      }\n    }\n  };\n\n  handleMuteClick = (account) => {\n    this.props.dispatch(initMuteModal(account));\n  };\n\n  handleConversationMuteClick = (status) => {\n    if (status.get('muted')) {\n      this.props.dispatch(unmuteStatus(status.get('id')));\n    } else {\n      this.props.dispatch(muteStatus(status.get('id')));\n    }\n  };\n\n  handleToggleHidden = (status) => {\n    if (status.get('hidden')) {\n      this.props.dispatch(revealStatus(status.get('id')));\n    } else {\n      this.props.dispatch(hideStatus(status.get('id')));\n    }\n  };\n\n  handleToggleAll = () => {\n    const { status, ancestorsIds, descendantsIds } = this.props;\n    const statusIds = [status.get('id')].concat(ancestorsIds, descendantsIds);\n\n    if (status.get('hidden')) {\n      this.props.dispatch(revealStatus(statusIds));\n    } else {\n      this.props.dispatch(hideStatus(statusIds));\n    }\n  };\n\n  handleTranslate = status => {\n    const { dispatch } = this.props;\n\n    if (status.get('translation')) {\n      dispatch(undoStatusTranslation(status.get('id'), status.get('poll')));\n    } else {\n      dispatch(translateStatus(status.get('id')));\n    }\n  };\n\n  handleBlockClick = (status) => {\n    const { dispatch } = this.props;\n    const account = status.get('account');\n    dispatch(initBlockModal(account));\n  };\n\n  handleReport = (status) => {\n    this.props.dispatch(initReport(status.get('account'), status));\n  };\n\n  handleEmbed = (status) => {\n    this.props.dispatch(openModal({\n      modalType: 'EMBED',\n      modalProps: { id: status.get('id') },\n    }));\n  };\n\n  handleUnmuteClick = account => {\n    this.props.dispatch(unmuteAccount(account.get('id')));\n  };\n\n  handleUnblockClick = account => {\n    this.props.dispatch(unblockAccount(account.get('id')));\n  };\n\n  handleBlockDomainClick = account => {\n    this.props.dispatch(initDomainBlockModal(account));\n  };\n\n  handleUnblockDomainClick = domain => {\n    this.props.dispatch(unblockDomain(domain));\n  };\n\n\n  handleHotkeyMoveUp = () => {\n    this.handleMoveUp(this.props.status.get('id'));\n  };\n\n  handleHotkeyMoveDown = () => {\n    this.handleMoveDown(this.props.status.get('id'));\n  };\n\n  handleHotkeyReply = e => {\n    e.preventDefault();\n    this.handleReplyClick(this.props.status);\n  };\n\n  handleHotkeyFavourite = () => {\n    this.handleFavouriteClick(this.props.status);\n  };\n\n  handleHotkeyBoost = () => {\n    this.handleReblogClick(this.props.status);\n  };\n\n  handleHotkeyMention = e => {\n    e.preventDefault();\n    this.handleMentionClick(this.props.status.get('account'));\n  };\n\n  handleHotkeyOpenProfile = () => {\n    this.props.history.push(`/@${this.props.status.getIn(['account', 'acct'])}`);\n  };\n\n  handleHotkeyToggleHidden = () => {\n    this.handleToggleHidden(this.props.status);\n  };\n\n  handleHotkeyToggleSensitive = () => {\n    this.handleToggleMediaVisibility();\n  };\n\n  handleHotkeyTranslate = () => {\n    this.handleTranslate(this.props.status);\n  };\n\n  handleMoveUp = id => {\n    const { status, ancestorsIds, descendantsIds } = this.props;\n\n    if (id === status.get('id')) {\n      this._selectChild(ancestorsIds.length - 1, true);\n    } else {\n      let index = ancestorsIds.indexOf(id);\n\n      if (index === -1) {\n        index = descendantsIds.indexOf(id);\n        this._selectChild(ancestorsIds.length + index, true);\n      } else {\n        this._selectChild(index - 1, true);\n      }\n    }\n  };\n\n  handleMoveDown = id => {\n    const { status, ancestorsIds, descendantsIds } = this.props;\n\n    if (id === status.get('id')) {\n      this._selectChild(ancestorsIds.length + 1, false);\n    } else {\n      let index = ancestorsIds.indexOf(id);\n\n      if (index === -1) {\n        index = descendantsIds.indexOf(id);\n        this._selectChild(ancestorsIds.length + index + 2, false);\n      } else {\n        this._selectChild(index + 1, false);\n      }\n    }\n  };\n\n  _selectChild (index, align_top) {\n    const container = this.node;\n    const element = container.querySelectorAll('.focusable')[index];\n\n    if (element) {\n      if (align_top && container.scrollTop > element.offsetTop) {\n        element.scrollIntoView(true);\n      } else if (!align_top && container.scrollTop + container.clientHeight < element.offsetTop + element.offsetHeight) {\n        element.scrollIntoView(false);\n      }\n      element.focus();\n    }\n  }\n\n  renderChildren (list, ancestors) {\n    const { params: { statusId } } = this.props;\n\n    return list.map((id, i) => (\n      <StatusQuoteManager\n        key={id}\n        id={id}\n        onMoveUp={this.handleMoveUp}\n        onMoveDown={this.handleMoveDown}\n        contextType='thread'\n        previousId={i > 0 ? list[i - 1] : undefined}\n        nextId={list[i + 1] || (ancestors && statusId)}\n        rootId={statusId}\n      />\n    ));\n  }\n\n  setContainerRef = c => {\n    this.node = c;\n  };\n\n  setStatusRef = c => {\n    this.statusNode = c;\n  };\n\n  _scrollStatusIntoView () {\n    const { status, multiColumn } = this.props;\n\n    if (status) {\n      requestIdleCallback(() => {\n        this.statusNode?.scrollIntoView(true);\n\n        // In the single-column interface, `scrollIntoView` will put the post behind the header,\n        // so compensate for that.\n        if (!multiColumn) {\n          const offset = document.querySelector('.column-header__wrapper')?.getBoundingClientRect()?.bottom;\n          if (offset) {\n            const scrollingElement = document.scrollingElement || document.body;\n            scrollingElement.scrollBy(0, -offset);\n          }\n        }\n      });\n    }\n  }\n\n  componentDidUpdate (prevProps) {\n    const { status, ancestorsIds } = this.props;\n\n    if (status && (ancestorsIds.length > prevProps.ancestorsIds.length || prevProps.status?.get('id') !== status.get('id'))) {\n      this._scrollStatusIntoView();\n    }\n  }\n\n  componentWillUnmount () {\n    detachFullscreenListener(this.onFullScreenChange);\n  }\n\n  onFullScreenChange = () => {\n    this.setState({ fullscreen: isFullscreen() });\n  };\n\n  shouldUpdateScroll = (prevRouterProps, { location }) => {\n    // Do not change scroll when opening a modal\n    if (location.state?.mastodonModalKey !== prevRouterProps?.location?.state?.mastodonModalKey) {\n      return false;\n    }\n\n    // Scroll to focused post if it is loaded\n    if (this.statusNode) {\n      return [0, this.statusNode.offsetTop];\n    }\n\n    // Do not scroll otherwise, `componentDidUpdate` will take care of that\n    return false;\n  };\n\n  render () {\n    let ancestors, descendants, remoteHint;\n    const { isLoading, status, ancestorsIds, descendantsIds, intl, domain, multiColumn, pictureInPicture } = this.props;\n    const { fullscreen } = this.state;\n\n    if (isLoading) {\n      return (\n        <Column>\n          <LoadingIndicator />\n        </Column>\n      );\n    }\n\n    if (status === null) {\n      return (\n        <BundleColumnError multiColumn={multiColumn} errorType='routing' />\n      );\n    }\n\n    if (ancestorsIds && ancestorsIds.length > 0) {\n      ancestors = <>{this.renderChildren(ancestorsIds, true)}</>;\n    }\n\n    if (descendantsIds && descendantsIds.length > 0) {\n      descendants = <>{this.renderChildren(descendantsIds)}</>;\n    }\n\n    const isLocal = status.getIn(['account', 'acct'], '').indexOf('@') === -1;\n    const isIndexable = !status.getIn(['account', 'noindex']);\n\n    if (!isLocal) {\n      remoteHint = (\n        <TimelineHint\n          className={classNames(!!descendants && 'timeline-hint--with-descendants')}\n          url={status.get('url')}\n          message={<FormattedMessage id='hints.threads.replies_may_be_missing' defaultMessage='Replies from other servers may be missing.' />}\n          label={<FormattedMessage id='hints.threads.see_more' defaultMessage='See more replies on {domain}' values={{ domain: <strong>{status.getIn(['account', 'acct']).split('@')[1]}</strong> }} />}\n        />\n      );\n    }\n\n    const handlers = {\n      moveUp: this.handleHotkeyMoveUp,\n      moveDown: this.handleHotkeyMoveDown,\n      reply: this.handleHotkeyReply,\n      favourite: this.handleHotkeyFavourite,\n      boost: this.handleHotkeyBoost,\n      mention: this.handleHotkeyMention,\n      openProfile: this.handleHotkeyOpenProfile,\n      toggleHidden: this.handleHotkeyToggleHidden,\n      toggleSensitive: this.handleHotkeyToggleSensitive,\n      openMedia: this.handleHotkeyOpenMedia,\n      onTranslate: this.handleHotkeyTranslate,\n    };\n\n    return (\n      <Column bindToDocument={!multiColumn} label={intl.formatMessage(messages.detailedStatus)}>\n        <ColumnHeader\n          showBackButton\n          multiColumn={multiColumn}\n          extraButton={(\n            <button type='button' className='column-header__button' title={intl.formatMessage(status.get('hidden') ? messages.revealAll : messages.hideAll)} aria-label={intl.formatMessage(status.get('hidden') ? messages.revealAll : messages.hideAll)} onClick={this.handleToggleAll}><Icon id={status.get('hidden') ? 'eye-slash' : 'eye'} icon={status.get('hidden') ? VisibilityOffIcon : VisibilityIcon} /></button>\n          )}\n        />\n\n        <ScrollContainer scrollKey='thread' shouldUpdateScroll={this.shouldUpdateScroll}>\n          <div className={classNames('scrollable', { fullscreen })} ref={this.setContainerRef}>\n            {ancestors}\n\n            <HotKeys handlers={handlers}>\n              <div className={classNames('focusable', 'detailed-status__wrapper', `detailed-status__wrapper-${status.get('visibility')}`)} tabIndex={0} aria-label={textForScreenReader(intl, status, false)} ref={this.setStatusRef}>\n                <DetailedStatus\n                  key={`details-${status.get('id')}`}\n                  status={status}\n                  onOpenVideo={this.handleOpenVideo}\n                  onOpenMedia={this.handleOpenMedia}\n                  onToggleHidden={this.handleToggleHidden}\n                  onTranslate={this.handleTranslate}\n                  domain={domain}\n                  showMedia={this.state.showMedia}\n                  onToggleMediaVisibility={this.handleToggleMediaVisibility}\n                  pictureInPicture={pictureInPicture}\n                />\n\n                <ActionBar\n                  key={`action-bar-${status.get('id')}`}\n                  status={status}\n                  onReply={this.handleReplyClick}\n                  onFavourite={this.handleFavouriteClick}\n                  onReblog={this.handleReblogClick}\n                  onBookmark={this.handleBookmarkClick}\n                  onDelete={this.handleDeleteClick}\n                  onEdit={this.handleEditClick}\n                  onDirect={this.handleDirectClick}\n                  onMention={this.handleMentionClick}\n                  onMute={this.handleMuteClick}\n                  onUnmute={this.handleUnmuteClick}\n                  onMuteConversation={this.handleConversationMuteClick}\n                  onBlock={this.handleBlockClick}\n                  onUnblock={this.handleUnblockClick}\n                  onBlockDomain={this.handleBlockDomainClick}\n                  onUnblockDomain={this.handleUnblockDomainClick}\n                  onReport={this.handleReport}\n                  onPin={this.handlePin}\n                  onEmbed={this.handleEmbed}\n                />\n              </div>\n            </HotKeys>\n\n            {descendants}\n            {remoteHint}\n          </div>\n        </ScrollContainer>\n\n        <Helmet>\n          <title>{titleFromStatus(intl, status)}</title>\n          <meta name='robots' content={(isLocal && isIndexable) ? 'all' : 'noindex'} />\n          <link rel='canonical' href={status.get('url')} />\n        </Helmet>\n      </Column>\n    );\n  }\n\n}\n\nexport default withRouter(injectIntl(connect(makeMapStateToProps)(withIdentity(Status))));\n"],"names":["SvgVisibility","props","React.createElement","getAncestorsIds","createAppSelector","_","id","state","contexts","inReplyTos","statusId","ancestorsIds","currentId","includes","unshift","getDescendantsIds","replies","statuses","contextReplies","descendantsIds","visitIds","length","pop","push","toReversed","forEach","replyId","insertAt","findIndex","status","get","inReplyToAccountId","accountId","idx","splice","messages","defineMessages","delete","defaultMessage","redraft","edit","direct","mention","reply","reblog","reblog_private","cancel_reblog_private","cannot_reblog","favourite","removeFavourite","bookmark","removeBookmark","more","mute","muteConversation","unmuteConversation","block","report","share","pin","unpin","embed","admin_account","admin_status","admin_domain","copy","blockDomain","unblockDomain","unmute","unblock","openOriginalPage","mapStateToProps","relationship","getIn","ActionBar","PureComponent","handleReplyClick","onReply","handleReblogClick","e","onReblog","handleFavouriteClick","onFavourite","handleBookmarkClick","onBookmark","handleDeleteClick","onDelete","handleRedraftClick","handleEditClick","onEdit","handleDirectClick","onDirect","handleMentionClick","onMention","handleMuteClick","onMute","onUnmute","account","handleBlockClick","onBlock","onUnblock","handleBlockDomain","onBlockDomain","handleUnblockDomain","onUnblockDomain","split","handleConversationMuteClick","onMuteConversation","handleReport","onReport","handlePinClick","onPin","handleShare","navigator","url","handleEmbed","onEmbed","handleCopy","clipboard","writeText","render","intl","signedIn","permissions","identity","publicStatus","pinnableStatus","mutingConversation","writtenByMe","me","isRemote","menu","text","formatMessage","href","action","dangerous","name","domain","PERMISSION_MANAGE_USERS","PERMISSION_MANAGE_FEDERATION","replyIcon","replyIconComponent","ReplyIcon","ReplyAllIcon","reblogPrivate","reblogTitle","reblogIconComponent","RepeatActiveIcon","RepeatPrivateActiveIcon","RepeatIcon","RepeatPrivateIcon","RepeatDisabledIcon","bookmarkTitle","favouriteTitle","jsxs","jsx","IconButton","classNames","StarIcon","StarBorderIcon","BookmarkIcon","BookmarkBorderIcon","Dropdown","MoreHorizIcon","ActionBar$1","connect","withIdentity","injectIntl","revealAll","hideAll","statusTitleWithAttachments","detailedStatus","makeMapStateToProps","getStatus","makeGetStatus","getPictureInPicture","makeGetPictureInPicture","params","contextType","isLoading","askReplyConfirmation","trim","pictureInPicture","truncate","str","num","arr","Array","from","slice","join","titleFromStatus","displayName","username","user","attachmentCount","size","Status","ImmutablePureComponent","fullscreen","showMedia","defaultMediaVisibility","loadedStatusId","undefined","handleToggleMediaVisibility","setState","dispatch","toggleFavourite","openModal","modalType","modalProps","type","handlePin","replyCompose","toggleReblog","shiftKey","unbookmark","withRedraft","deleteModal","deleteStatus","editStatus","directCompose","mentionCompose","handleOpenMedia","media","index","lang","handleOpenVideo","options","handleHotkeyOpenMedia","preventDefault","startTime","initMuteModal","unmuteStatus","muteStatus","handleToggleHidden","revealStatus","hideStatus","handleToggleAll","statusIds","concat","handleTranslate","undoStatusTranslation","translateStatus","initBlockModal","initReport","handleUnmuteClick","unmuteAccount","handleUnblockClick","unblockAccount","handleBlockDomainClick","initDomainBlockModal","handleUnblockDomainClick","handleHotkeyMoveUp","handleMoveUp","handleHotkeyMoveDown","handleMoveDown","handleHotkeyReply","handleHotkeyFavourite","handleHotkeyBoost","handleHotkeyMention","handleHotkeyOpenProfile","history","handleHotkeyToggleHidden","handleHotkeyToggleSensitive","handleHotkeyTranslate","_selectChild","indexOf","setContainerRef","c","node","setStatusRef","statusNode","onFullScreenChange","isFullscreen","shouldUpdateScroll","prevRouterProps","location","mastodonModalKey","offsetTop","UNSAFE_componentWillMount","fetchStatus","componentDidMount","attachFullscreenListener","_scrollStatusIntoView","UNSAFE_componentWillReceiveProps","nextProps","align_top","container","element","querySelectorAll","scrollTop","scrollIntoView","clientHeight","offsetHeight","focus","renderChildren","list","ancestors","map","i","StatusQuoteManager","multiColumn","requestIdleCallback","_a","offset","document","querySelector","getBoundingClientRect","bottom","scrollingElement","body","scrollBy","componentDidUpdate","prevProps","componentWillUnmount","detachFullscreenListener","descendants","remoteHint","Column","LoadingIndicator","BundleColumnError","Fragment","isLocal","isIndexable","TimelineHint","FormattedMessage","handlers","moveUp","moveDown","boost","openProfile","toggleHidden","toggleSensitive","openMedia","onTranslate","ColumnHeader","Icon","VisibilityOffIcon","VisibilityIcon","ScrollContainer","HotKeys","textForScreenReader","DetailedStatus","Helmet","__publicField","propTypes","identityContextPropShape","PropTypes","object","isRequired","func","ImmutablePropTypes","bool","arrayOf","string","contains","inUse","available","WithRouterPropTypes","withRouter"],"mappings":"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"}