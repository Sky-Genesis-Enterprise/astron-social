var cE=Object.defineProperty;var lE=(e,t,n)=>t in e?cE(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var La=(e,t,n)=>lE(e,typeof t!="symbol"?t+"":t,n);import{r as m,g as Jr,I as fE,d as Do,a as Jp,R as Hu,h as eh,u as Lc}from"./index-BdTwX--g.js";import{b as dE,j as T,r as xc}from"./client-wT6vtYO_.js";import{e as pE,d as hE,f as mE,r as _E,_ as th,g as wt,P as he,L as gE,S as xa,h as vE}from"./short_number-WomMu2iV.js";import{b as Vt,c as an,a as F,g as Le,d as yE,e as Mc,f as nh}from"./api-B2m7efUy.js";import{r as SE,e as nn,c as EE,a as Pc,d as wE,b as _f}from"./index-CAH5FfLP.js";import{n as rh,p as TE,q as bE,e as ot,u as sh,w as Gn,d as OE,x as CE,l as AE,y as go,z as ih,k as IE}from"./initial_state-BP3UcUr4.js";import{a as RE,i as NE}from"./load_locale-tOpKhmcM.js";import{A as Ma,a as oh}from"./index-lj9VQs0f.js";import{r as LE}from"./ready-DpOgoWSg.js";import{c as Ze}from"./index-DizoKcfL.js";import{M as pn}from"./message-UFwkQlnu.js";var Fc=Si(),re=e=>yi(e,Fc),Uc=Si();re.write=e=>yi(e,Uc);var qo=Si();re.onStart=e=>yi(e,qo);var kc=Si();re.onFrame=e=>yi(e,kc);var Dc=Si();re.onFinish=e=>yi(e,Dc);var kr=[];re.setTimeout=(e,t)=>{const n=re.now()+t,r=()=>{const i=kr.findIndex(o=>o.cancel==r);~i&&kr.splice(i,1),Vn-=~i?1:0},s={time:n,handler:e,cancel:r};return kr.splice(ah(n),0,s),Vn+=1,uh(),s};var ah=e=>~(~kr.findIndex(t=>t.time>e)||~kr.length);re.cancel=e=>{qo.delete(e),kc.delete(e),Dc.delete(e),Fc.delete(e),Uc.delete(e)};re.sync=e=>{Bu=!0,re.batchedUpdates(e),Bu=!1};re.throttle=e=>{let t;function n(){try{e(...t)}finally{t=null}}function r(...s){t=s,re.onStart(n)}return r.handler=e,r.cancel=()=>{qo.delete(n),t=null},r};var qc=typeof window<"u"?window.requestAnimationFrame:()=>{};re.use=e=>qc=e;re.now=typeof performance<"u"?()=>performance.now():Date.now;re.batchedUpdates=e=>e();re.catch=console.error;re.frameLoop="always";re.advance=()=>{re.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):lh()};var Wn=-1,Vn=0,Bu=!1;function yi(e,t){Bu?(t.delete(e),e(0)):(t.add(e),uh())}function uh(){Wn<0&&(Wn=0,re.frameLoop!=="demand"&&qc(ch))}function xE(){Wn=-1}function ch(){~Wn&&(qc(ch),re.batchedUpdates(lh))}function lh(){const e=Wn;Wn=re.now();const t=ah(Wn);if(t&&(fh(kr.splice(0,t),n=>n.handler()),Vn-=t),!Vn){xE();return}qo.flush(),Fc.flush(e?Math.min(64,Wn-e):16.667),kc.flush(),Uc.flush(),Dc.flush()}function Si(){let e=new Set,t=e;return{add(n){Vn+=t==e&&!e.has(n)?1:0,e.add(n)},delete(n){return Vn-=t==e&&e.has(n)?1:0,e.delete(n)},flush(n){t.size&&(e=new Set,Vn-=t.size,fh(t,r=>r(n)&&e.add(r)),Vn+=e.size,t=e)}}}function fh(e,t){e.forEach(n=>{try{t(n)}catch(r){re.catch(r)}})}var ME=Object.defineProperty,PE=(e,t)=>{for(var n in t)ME(e,n,{get:t[n],enumerable:!0})},rn={};PE(rn,{assign:()=>UE,colors:()=>Kn,createStringInterpolator:()=>jc,skipAnimation:()=>ph,to:()=>dh,willAdvance:()=>Hc});function zu(){}var FE=(e,t,n)=>Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0}),R={arr:Array.isArray,obj:e=>!!e&&e.constructor.name==="Object",fun:e=>typeof e=="function",str:e=>typeof e=="string",num:e=>typeof e=="number",und:e=>e===void 0};function Nn(e,t){if(R.arr(e)){if(!R.arr(t)||e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return e===t}var ee=(e,t)=>e.forEach(t);function vn(e,t,n){if(R.arr(e)){for(let r=0;r<e.length;r++)t.call(n,e[r],`${r}`);return}for(const r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r)}var at=e=>R.und(e)?[]:R.arr(e)?e:[e];function qs(e,t){if(e.size){const n=Array.from(e);e.clear(),ee(n,t)}}var Ls=(e,...t)=>qs(e,n=>n(...t)),$c=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),jc,dh,Kn=null,ph=!1,Hc=zu,UE=e=>{e.to&&(dh=e.to),e.now&&(re.now=e.now),e.colors!==void 0&&(Kn=e.colors),e.skipAnimation!=null&&(ph=e.skipAnimation),e.createStringInterpolator&&(jc=e.createStringInterpolator),e.requestAnimationFrame&&re.use(e.requestAnimationFrame),e.batchedUpdates&&(re.batchedUpdates=e.batchedUpdates),e.willAdvance&&(Hc=e.willAdvance),e.frameLoop&&(re.frameLoop=e.frameLoop)},$s=new Set,Dt=[],Pa=[],vo=0,$o={get idle(){return!$s.size&&!Dt.length},start(e){vo>e.priority?($s.add(e),re.onStart(kE)):(hh(e),re(Wu))},advance:Wu,sort(e){if(vo)re.onFrame(()=>$o.sort(e));else{const t=Dt.indexOf(e);~t&&(Dt.splice(t,1),mh(e))}},clear(){Dt=[],$s.clear()}};function kE(){$s.forEach(hh),$s.clear(),re(Wu)}function hh(e){Dt.includes(e)||mh(e)}function mh(e){Dt.splice(DE(Dt,t=>t.priority>e.priority),0,e)}function Wu(e){const t=Pa;for(let n=0;n<Dt.length;n++){const r=Dt[n];vo=r.priority,r.idle||(Hc(r),r.advance(e),r.idle||t.push(r))}return vo=0,Pa=Dt,Pa.length=0,Dt=t,Dt.length>0}function DE(e,t){const n=e.findIndex(t);return n<0?e.length:n}var qE={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},tn="[-+]?\\d*\\.?\\d+",yo=tn+"%";function jo(...e){return"\\(\\s*("+e.join(")\\s*,\\s*(")+")\\s*\\)"}var $E=new RegExp("rgb"+jo(tn,tn,tn)),jE=new RegExp("rgba"+jo(tn,tn,tn,tn)),HE=new RegExp("hsl"+jo(tn,yo,yo)),BE=new RegExp("hsla"+jo(tn,yo,yo,tn)),zE=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,WE=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,VE=/^#([0-9a-fA-F]{6})$/,GE=/^#([0-9a-fA-F]{8})$/;function KE(e){let t;return typeof e=="number"?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=VE.exec(e))?parseInt(t[1]+"ff",16)>>>0:Kn&&Kn[e]!==void 0?Kn[e]:(t=$E.exec(e))?(Mr(t[1])<<24|Mr(t[2])<<16|Mr(t[3])<<8|255)>>>0:(t=jE.exec(e))?(Mr(t[1])<<24|Mr(t[2])<<16|Mr(t[3])<<8|yf(t[4]))>>>0:(t=zE.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=GE.exec(e))?parseInt(t[1],16)>>>0:(t=WE.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=HE.exec(e))?(gf(vf(t[1]),Vi(t[2]),Vi(t[3]))|255)>>>0:(t=BE.exec(e))?(gf(vf(t[1]),Vi(t[2]),Vi(t[3]))|yf(t[4]))>>>0:null}function Fa(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function gf(e,t,n){const r=n<.5?n*(1+t):n+t-n*t,s=2*n-r,i=Fa(s,r,e+1/3),o=Fa(s,r,e),a=Fa(s,r,e-1/3);return Math.round(i*255)<<24|Math.round(o*255)<<16|Math.round(a*255)<<8}function Mr(e){const t=parseInt(e,10);return t<0?0:t>255?255:t}function vf(e){return(parseFloat(e)%360+360)%360/360}function yf(e){const t=parseFloat(e);return t<0?0:t>1?255:Math.round(t*255)}function Vi(e){const t=parseFloat(e);return t<0?0:t>100?1:t/100}function Sf(e){let t=KE(e);if(t===null)return e;t=t||0;const n=(t&4278190080)>>>24,r=(t&16711680)>>>16,s=(t&65280)>>>8,i=(t&255)/255;return`rgba(${n}, ${r}, ${s}, ${i})`}var Ks=(e,t,n)=>{if(R.fun(e))return e;if(R.arr(e))return Ks({range:e,output:t,extrapolate:n});if(R.str(e.output[0]))return jc(e);const r=e,s=r.output,i=r.range||[0,1],o=r.extrapolateLeft||r.extrapolate||"extend",a=r.extrapolateRight||r.extrapolate||"extend",u=r.easing||(c=>c);return c=>{const l=XE(c,i);return QE(c,i[l],i[l+1],s[l],s[l+1],u,o,a,r.map)}};function QE(e,t,n,r,s,i,o,a,u){let c=u?u(e):e;if(c<t){if(o==="identity")return c;o==="clamp"&&(c=t)}if(c>n){if(a==="identity")return c;a==="clamp"&&(c=n)}return r===s?r:t===n?e<=t?r:s:(t===-1/0?c=-c:n===1/0?c=c-t:c=(c-t)/(n-t),c=i(c),r===-1/0?c=-c:s===1/0?c=c+r:c=c*(s-r)+r,c)}function XE(e,t){for(var n=1;n<t.length-1&&!(t[n]>=e);++n);return n-1}var YE={linear:e=>e},Qs=Symbol.for("FluidValue.get"),qr=Symbol.for("FluidValue.observers"),kt=e=>!!(e&&e[Qs]),_t=e=>e&&e[Qs]?e[Qs]():e,Ef=e=>e[qr]||null;function ZE(e,t){e.eventObserved?e.eventObserved(t):e(t)}function Xs(e,t){const n=e[qr];n&&n.forEach(r=>{ZE(r,t)})}var _h=class{constructor(e){if(!e&&!(e=this.get))throw Error("Unknown getter");JE(this,e)}},JE=(e,t)=>gh(e,Qs,t);function es(e,t){if(e[Qs]){let n=e[qr];n||gh(e,qr,n=new Set),n.has(t)||(n.add(t),e.observerAdded&&e.observerAdded(n.size,t))}return t}function Ys(e,t){const n=e[qr];if(n&&n.has(t)){const r=n.size-1;r?n.delete(t):e[qr]=null,e.observerRemoved&&e.observerRemoved(r,t)}}var gh=(e,t,n)=>Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0}),co=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,e0=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,wf=new RegExp(`(${co.source})(%|[a-z]+)`,"i"),t0=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,Ho=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,vh=e=>{const[t,n]=n0(e);if(!t||$c())return e;const r=window.getComputedStyle(document.documentElement).getPropertyValue(t);if(r)return r.trim();if(n&&n.startsWith("--")){const s=window.getComputedStyle(document.documentElement).getPropertyValue(n);return s||e}else{if(n&&Ho.test(n))return vh(n);if(n)return n}return e},n0=e=>{const t=Ho.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]},Ua,r0=(e,t,n,r,s)=>`rgba(${Math.round(t)}, ${Math.round(n)}, ${Math.round(r)}, ${s})`,yh=e=>{Ua||(Ua=Kn?new RegExp(`(${Object.keys(Kn).join("|")})(?!\\w)`,"g"):/^\b$/);const t=e.output.map(i=>_t(i).replace(Ho,vh).replace(e0,Sf).replace(Ua,Sf)),n=t.map(i=>i.match(co).map(Number)),s=n[0].map((i,o)=>n.map(a=>{if(!(o in a))throw Error('The arity of each "output" value must be equal');return a[o]})).map(i=>Ks({...e,output:i}));return i=>{var u;const o=!wf.test(t[0])&&((u=t.find(c=>wf.test(c)))==null?void 0:u.replace(co,""));let a=0;return t[0].replace(co,()=>`${s[a++](i)}${o||""}`).replace(t0,r0)}},Bc="react-spring: ",Sh=e=>{const t=e;let n=!1;if(typeof t!="function")throw new TypeError(`${Bc}once requires a function parameter`);return(...r)=>{n||(t(...r),n=!0)}},s0=Sh(console.warn);function i0(){s0(`${Bc}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var o0=Sh(console.warn);function a0(){o0(`${Bc}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function Bo(e){return R.str(e)&&(e[0]=="#"||/\d/.test(e)||!$c()&&Ho.test(e)||e in(Kn||{}))}var hr=$c()?m.useEffect:m.useLayoutEffect,u0=()=>{const e=m.useRef(!1);return hr(()=>(e.current=!0,()=>{e.current=!1}),[]),e};function zc(){const e=m.useState()[1],t=u0();return()=>{t.current&&e(Math.random())}}function c0(e,t){const[n]=m.useState(()=>({inputs:t,result:e()})),r=m.useRef(),s=r.current;let i=s;return i?t&&i.inputs&&l0(t,i.inputs)||(i={inputs:t,result:e()}):i=n,m.useEffect(()=>{r.current=i,s==n&&(n.inputs=n.result=void 0)},[i]),i.result}function l0(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}var Wc=e=>m.useEffect(e,f0),f0=[];function Vu(e){const t=m.useRef();return m.useEffect(()=>{t.current=e}),t.current}var Zs=Symbol.for("Animated:node"),d0=e=>!!e&&e[Zs]===e,hn=e=>e&&e[Zs],Vc=(e,t)=>FE(e,Zs,t),zo=e=>e&&e[Zs]&&e[Zs].getPayload(),Eh=class{constructor(){Vc(this,this)}getPayload(){return this.payload||[]}},Ei=class extends Eh{constructor(e){super(),this._value=e,this.done=!0,this.durationProgress=0,R.num(this._value)&&(this.lastPosition=this._value)}static create(e){return new Ei(e)}getPayload(){return[this]}getValue(){return this._value}setValue(e,t){return R.num(e)&&(this.lastPosition=e,t&&(e=Math.round(e/t)*t,this.done&&(this.lastPosition=e))),this._value===e?!1:(this._value=e,!0)}reset(){const{done:e}=this;this.done=!1,R.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}},Js=class extends Ei{constructor(e){super(0),this._string=null,this._toString=Ks({output:[e,e]})}static create(e){return new Js(e)}getValue(){const e=this._string;return e??(this._string=this._toString(this._value))}setValue(e){if(R.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else if(super.setValue(e))this._string=null;else return!1;return!0}reset(e){e&&(this._toString=Ks({output:[this.getValue(),e]})),this._value=0,super.reset()}},So={dependencies:null},Wo=class extends Eh{constructor(e){super(),this.source=e,this.setValue(e)}getValue(e){const t={};return vn(this.source,(n,r)=>{d0(n)?t[r]=n.getValue(e):kt(n)?t[r]=_t(n):e||(t[r]=n)}),t}setValue(e){this.source=e,this.payload=this._makePayload(e)}reset(){this.payload&&ee(this.payload,e=>e.reset())}_makePayload(e){if(e){const t=new Set;return vn(e,this._addToPayload,t),Array.from(t)}}_addToPayload(e){So.dependencies&&kt(e)&&So.dependencies.add(e);const t=zo(e);t&&ee(t,n=>this.add(n))}},wh=class extends Wo{constructor(e){super(e)}static create(e){return new wh(e)}getValue(){return this.source.map(e=>e.getValue())}setValue(e){const t=this.getPayload();return e.length==t.length?t.map((n,r)=>n.setValue(e[r])).some(Boolean):(super.setValue(e.map(p0)),!0)}};function p0(e){return(Bo(e)?Js:Ei).create(e)}function Gu(e){const t=hn(e);return t?t.constructor:R.arr(e)?wh:Bo(e)?Js:Ei}var Tf=(e,t)=>{const n=!R.fun(e)||e.prototype&&e.prototype.isReactComponent;return m.forwardRef((r,s)=>{const i=m.useRef(null),o=n&&m.useCallback(h=>{i.current=_0(s,h)},[s]),[a,u]=m0(r,t),c=zc(),l=()=>{const h=i.current;if(n&&!h)return;(h?t.applyAnimatedValues(h,a.getValue(!0)):!1)===!1&&c()},f=new h0(l,u),d=m.useRef();hr(()=>(d.current=f,ee(u,h=>es(h,f)),()=>{d.current&&(ee(d.current.deps,h=>Ys(h,d.current)),re.cancel(d.current.update))})),m.useEffect(l,[]),Wc(()=>()=>{const h=d.current;ee(h.deps,_=>Ys(_,h))});const p=t.getComponentProps(a.getValue());return m.createElement(e,{...p,ref:o})})},h0=class{constructor(e,t){this.update=e,this.deps=t}eventObserved(e){e.type=="change"&&re.write(this.update)}};function m0(e,t){const n=new Set;return So.dependencies=n,e.style&&(e={...e,style:t.createAnimatedStyle(e.style)}),e=new Wo(e),So.dependencies=null,[e,n]}function _0(e,t){return e&&(R.fun(e)?e(t):e.current=t),t}var bf=Symbol.for("AnimatedComponent"),g0=(e,{applyAnimatedValues:t=()=>!1,createAnimatedStyle:n=s=>new Wo(s),getComponentProps:r=s=>s}={})=>{const s={applyAnimatedValues:t,createAnimatedStyle:n,getComponentProps:r},i=o=>{const a=Of(o)||"Anonymous";return R.str(o)?o=i[o]||(i[o]=Tf(o,s)):o=o[bf]||(o[bf]=Tf(o,s)),o.displayName=`Animated(${a})`,o};return vn(e,(o,a)=>{R.arr(e)&&(a=Of(o)),i[a]=i(o)}),{animated:i}},Of=e=>R.str(e)?e:e&&R.str(e.displayName)?e.displayName:R.fun(e)&&e.name||null;function gt(e,...t){return R.fun(e)?e(...t):e}var js=(e,t)=>e===!0||!!(t&&e&&(R.fun(e)?e(t):at(e).includes(t))),Th=(e,t)=>R.obj(e)?t&&e[t]:e,bh=(e,t)=>e.default===!0?e[t]:e.default?e.default[t]:void 0,v0=e=>e,Vo=(e,t=v0)=>{let n=y0;e.default&&e.default!==!0&&(e=e.default,n=Object.keys(e));const r={};for(const s of n){const i=t(e[s],s);R.und(i)||(r[s]=i)}return r},y0=["config","onProps","onStart","onChange","onPause","onResume","onRest"],S0={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function E0(e){const t={};let n=0;if(vn(e,(r,s)=>{S0[s]||(t[s]=r,n++)}),n)return t}function Gc(e){const t=E0(e);if(t){const n={to:t};return vn(e,(r,s)=>s in t||(n[s]=r)),n}return{...e}}function ei(e){return e=_t(e),R.arr(e)?e.map(ei):Bo(e)?rn.createStringInterpolator({range:[0,1],output:[e,e]})(1):e}function Oh(e){for(const t in e)return!0;return!1}function Ku(e){return R.fun(e)||R.arr(e)&&R.obj(e[0])}function Qu(e,t){var n;(n=e.ref)==null||n.delete(e),t==null||t.delete(e)}function Ch(e,t){var n;t&&e.ref!==t&&((n=e.ref)==null||n.delete(e),t.add(e),e.ref=t)}var mr={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20}},Xu={...mr.default,mass:1,damping:1,easing:YE.linear,clamp:!1},w0=class{constructor(){this.velocity=0,Object.assign(this,Xu)}};function T0(e,t,n){n&&(n={...n},Cf(n,t),t={...n,...t}),Cf(e,t),Object.assign(e,t);for(const o in Xu)e[o]==null&&(e[o]=Xu[o]);let{frequency:r,damping:s}=e;const{mass:i}=e;return R.und(r)||(r<.01&&(r=.01),s<0&&(s=0),e.tension=Math.pow(2*Math.PI/r,2)*i,e.friction=4*Math.PI*s*i/r),e}function Cf(e,t){if(!R.und(t.decay))e.duration=void 0;else{const n=!R.und(t.tension)||!R.und(t.friction);(n||!R.und(t.frequency)||!R.und(t.damping)||!R.und(t.mass))&&(e.duration=void 0,e.decay=void 0),n&&(e.frequency=void 0)}}var Af=[],b0=class{constructor(){this.changed=!1,this.values=Af,this.toValues=null,this.fromValues=Af,this.config=new w0,this.immediate=!1}};function Ah(e,{key:t,props:n,defaultProps:r,state:s,actions:i}){return new Promise((o,a)=>{let u,c,l=js(n.cancel??(r==null?void 0:r.cancel),t);if(l)p();else{R.und(n.pause)||(s.paused=js(n.pause,t));let h=r==null?void 0:r.pause;h!==!0&&(h=s.paused||js(h,t)),u=gt(n.delay||0,t),h?(s.resumeQueue.add(d),i.pause()):(i.resume(),d())}function f(){s.resumeQueue.add(d),s.timeouts.delete(c),c.cancel(),u=c.time-re.now()}function d(){u>0&&!rn.skipAnimation?(s.delayed=!0,c=re.setTimeout(p,u),s.pauseQueue.add(f),s.timeouts.add(c)):p()}function p(){s.delayed&&(s.delayed=!1),s.pauseQueue.delete(f),s.timeouts.delete(c),e<=(s.cancelId||0)&&(l=!0);try{i.start({...n,callId:e,cancel:l},o)}catch(h){a(h)}}})}var Kc=(e,t)=>t.length==1?t[0]:t.some(n=>n.cancelled)?Dr(e.get()):t.every(n=>n.noop)?Ih(e.get()):Zt(e.get(),t.every(n=>n.finished)),Ih=e=>({value:e,noop:!0,finished:!0,cancelled:!1}),Zt=(e,t,n=!1)=>({value:e,finished:t,cancelled:n}),Dr=e=>({value:e,cancelled:!0,finished:!1});function Rh(e,t,n,r){const{callId:s,parentId:i,onRest:o}=t,{asyncTo:a,promise:u}=n;return!i&&e===a&&!t.reset?u:n.promise=(async()=>{n.asyncId=s,n.asyncTo=e;const c=Vo(t,(g,v)=>v==="onRest"?void 0:g);let l,f;const d=new Promise((g,v)=>(l=g,f=v)),p=g=>{const v=s<=(n.cancelId||0)&&Dr(r)||s!==n.asyncId&&Zt(r,!1);if(v)throw g.result=v,f(g),g},h=(g,v)=>{const y=new If,S=new Rf;return(async()=>{if(rn.skipAnimation)throw ti(n),S.result=Zt(r,!1),f(S),S;p(y);const b=R.obj(g)?{...g}:{...v,to:g};b.parentId=s,vn(c,(N,x)=>{R.und(b[x])&&(b[x]=N)});const O=await r.start(b);return p(y),n.paused&&await new Promise(N=>{n.resumeQueue.add(N)}),O})()};let _;if(rn.skipAnimation)return ti(n),Zt(r,!1);try{let g;R.arr(e)?g=(async v=>{for(const y of v)await h(y)})(e):g=Promise.resolve(e(h,r.stop.bind(r))),await Promise.all([g.then(l),d]),_=Zt(r.get(),!0,!1)}catch(g){if(g instanceof If)_=g.result;else if(g instanceof Rf)_=g.result;else throw g}finally{s==n.asyncId&&(n.asyncId=i,n.asyncTo=i?a:void 0,n.promise=i?u:void 0)}return R.fun(o)&&re.batchedUpdates(()=>{o(_,r,r.item)}),_})()}function ti(e,t){qs(e.timeouts,n=>n.cancel()),e.pauseQueue.clear(),e.resumeQueue.clear(),e.asyncId=e.asyncTo=e.promise=void 0,t&&(e.cancelId=t)}var If=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},Rf=class extends Error{constructor(){super("SkipAnimationSignal")}},Yu=e=>e instanceof Qc,O0=1,Qc=class extends _h{constructor(){super(...arguments),this.id=O0++,this._priority=0}get priority(){return this._priority}set priority(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}get(){const e=hn(this);return e&&e.getValue()}to(...e){return rn.to(this,e)}interpolate(...e){return i0(),rn.to(this,e)}toJSON(){return this.get()}observerAdded(e){e==1&&this._attach()}observerRemoved(e){e==0&&this._detach()}_attach(){}_detach(){}_onChange(e,t=!1){Xs(this,{type:"change",parent:this,value:e,idle:t})}_onPriorityChange(e){this.idle||$o.sort(this),Xs(this,{type:"priority",parent:this,priority:e})}},yr=Symbol.for("SpringPhase"),Nh=1,Zu=2,Ju=4,ka=e=>(e[yr]&Nh)>0,jn=e=>(e[yr]&Zu)>0,Ts=e=>(e[yr]&Ju)>0,Nf=(e,t)=>t?e[yr]|=Zu|Nh:e[yr]&=~Zu,Lf=(e,t)=>t?e[yr]|=Ju:e[yr]&=~Ju,C0=class extends Qc{constructor(e,t){if(super(),this.animation=new b0,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!R.und(e)||!R.und(t)){const n=R.obj(e)?{...e}:{...t,from:e};R.und(n.default)&&(n.default=!0),this.start(n)}}get idle(){return!(jn(this)||this._state.asyncTo)||Ts(this)}get goal(){return _t(this.animation.to)}get velocity(){const e=hn(this);return e instanceof Ei?e.lastVelocity||0:e.getPayload().map(t=>t.lastVelocity||0)}get hasAnimated(){return ka(this)}get isAnimating(){return jn(this)}get isPaused(){return Ts(this)}get isDelayed(){return this._state.delayed}advance(e){let t=!0,n=!1;const r=this.animation;let{toValues:s}=r;const{config:i}=r,o=zo(r.to);!o&&kt(r.to)&&(s=at(_t(r.to))),r.values.forEach((c,l)=>{if(c.done)return;const f=c.constructor==Js?1:o?o[l].lastPosition:s[l];let d=r.immediate,p=f;if(!d){if(p=c.lastPosition,i.tension<=0){c.done=!0;return}let h=c.elapsedTime+=e;const _=r.fromValues[l],g=c.v0!=null?c.v0:c.v0=R.arr(i.velocity)?i.velocity[l]:i.velocity;let v;const y=i.precision||(_==f?.005:Math.min(1,Math.abs(f-_)*.001));if(R.und(i.duration))if(i.decay){const S=i.decay===!0?.998:i.decay,b=Math.exp(-(1-S)*h);p=_+g/(1-S)*(1-b),d=Math.abs(c.lastPosition-p)<=y,v=g*b}else{v=c.lastVelocity==null?g:c.lastVelocity;const S=i.restVelocity||y/10,b=i.clamp?0:i.bounce,O=!R.und(b),N=_==f?c.v0>0:_<f;let x,z=!1;const j=1,H=Math.ceil(e/j);for(let K=0;K<H&&(x=Math.abs(v)>S,!(!x&&(d=Math.abs(f-p)<=y,d)));++K){O&&(z=p==f||p>f==N,z&&(v=-v*b,p=f));const V=-i.tension*1e-6*(p-f),Y=-i.friction*.001*v,B=(V+Y)/i.mass;v=v+B*j,p=p+v*j}}else{let S=1;i.duration>0&&(this._memoizedDuration!==i.duration&&(this._memoizedDuration=i.duration,c.durationProgress>0&&(c.elapsedTime=i.duration*c.durationProgress,h=c.elapsedTime+=e)),S=(i.progress||0)+h/this._memoizedDuration,S=S>1?1:S<0?0:S,c.durationProgress=S),p=_+i.easing(S)*(f-_),v=(p-c.lastPosition)/e,d=S==1}c.lastVelocity=v,Number.isNaN(p)&&(console.warn("Got NaN while animating:",this),d=!0)}o&&!o[l].done&&(d=!1),d?c.done=!0:t=!1,c.setValue(p,i.round)&&(n=!0)});const a=hn(this),u=a.getValue();if(t){const c=_t(r.to);(u!==c||n)&&!i.decay?(a.setValue(c),this._onChange(c)):n&&i.decay&&this._onChange(u),this._stop()}else n&&this._onChange(u)}set(e){return re.batchedUpdates(()=>{this._stop(),this._focus(e),this._set(e)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(jn(this)){const{to:e,config:t}=this.animation;re.batchedUpdates(()=>{this._onStart(),t.decay||this._set(e,!1),this._stop()})}return this}update(e){return(this.queue||(this.queue=[])).push(e),this}start(e,t){let n;return R.und(e)?(n=this.queue||[],this.queue=[]):n=[R.obj(e)?e:{...t,to:e}],Promise.all(n.map(r=>this._update(r))).then(r=>Kc(this,r))}stop(e){const{to:t}=this.animation;return this._focus(this.get()),ti(this._state,e&&this._lastCallId),re.batchedUpdates(()=>this._stop(t,e)),this}reset(){this._update({reset:!0})}eventObserved(e){e.type=="change"?this._start():e.type=="priority"&&(this.priority=e.priority+1)}_prepareNode(e){const t=this.key||"";let{to:n,from:r}=e;n=R.obj(n)?n[t]:n,(n==null||Ku(n))&&(n=void 0),r=R.obj(r)?r[t]:r,r==null&&(r=void 0);const s={to:n,from:r};return ka(this)||(e.reverse&&([n,r]=[r,n]),r=_t(r),R.und(r)?hn(this)||this._set(n):this._set(r)),s}_update({...e},t){const{key:n,defaultProps:r}=this;e.default&&Object.assign(r,Vo(e,(o,a)=>/^on/.test(a)?Th(o,n):o)),Mf(this,e,"onProps"),Os(this,"onProps",e,this);const s=this._prepareNode(e);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const i=this._state;return Ah(++this._lastCallId,{key:n,props:e,defaultProps:r,state:i,actions:{pause:()=>{Ts(this)||(Lf(this,!0),Ls(i.pauseQueue),Os(this,"onPause",Zt(this,bs(this,this.animation.to)),this))},resume:()=>{Ts(this)&&(Lf(this,!1),jn(this)&&this._resume(),Ls(i.resumeQueue),Os(this,"onResume",Zt(this,bs(this,this.animation.to)),this))},start:this._merge.bind(this,s)}}).then(o=>{if(e.loop&&o.finished&&!(t&&o.noop)){const a=Lh(e);if(a)return this._update(a,!0)}return o})}_merge(e,t,n){if(t.cancel)return this.stop(!0),n(Dr(this));const r=!R.und(e.to),s=!R.und(e.from);if(r||s)if(t.callId>this._lastToId)this._lastToId=t.callId;else return n(Dr(this));const{key:i,defaultProps:o,animation:a}=this,{to:u,from:c}=a;let{to:l=u,from:f=c}=e;s&&!r&&(!t.default||R.und(l))&&(l=f),t.reverse&&([l,f]=[f,l]);const d=!Nn(f,c);d&&(a.from=f),f=_t(f);const p=!Nn(l,u);p&&this._focus(l);const h=Ku(t.to),{config:_}=a,{decay:g,velocity:v}=_;(r||s)&&(_.velocity=0),t.config&&!h&&T0(_,gt(t.config,i),t.config!==o.config?gt(o.config,i):void 0);let y=hn(this);if(!y||R.und(l))return n(Zt(this,!0));const S=R.und(t.reset)?s&&!t.default:!R.und(f)&&js(t.reset,i),b=S?f:this.get(),O=ei(l),N=R.num(O)||R.arr(O)||Bo(O),x=!h&&(!N||js(o.immediate||t.immediate,i));if(p){const K=Gu(l);if(K!==y.constructor)if(x)y=this._set(O);else throw Error(`Cannot animate between ${y.constructor.name} and ${K.name}, as the "to" prop suggests`)}const z=y.constructor;let j=kt(l),H=!1;if(!j){const K=S||!ka(this)&&d;(p||K)&&(H=Nn(ei(b),O),j=!H),(!Nn(a.immediate,x)&&!x||!Nn(_.decay,g)||!Nn(_.velocity,v))&&(j=!0)}if(H&&jn(this)&&(a.changed&&!S?j=!0:j||this._stop(u)),!h&&((j||kt(u))&&(a.values=y.getPayload(),a.toValues=kt(l)?null:z==Js?[1]:at(O)),a.immediate!=x&&(a.immediate=x,!x&&!S&&this._set(u)),j)){const{onRest:K}=a;ee(I0,Y=>Mf(this,t,Y));const V=Zt(this,bs(this,u));Ls(this._pendingCalls,V),this._pendingCalls.add(n),a.changed&&re.batchedUpdates(()=>{var Y;a.changed=!S,K==null||K(V,this),S?gt(o.onRest,V):(Y=a.onStart)==null||Y.call(a,V,this)})}S&&this._set(b),h?n(Rh(t.to,t,this._state,this)):j?this._start():jn(this)&&!p?this._pendingCalls.add(n):n(Ih(b))}_focus(e){const t=this.animation;e!==t.to&&(Ef(this)&&this._detach(),t.to=e,Ef(this)&&this._attach())}_attach(){let e=0;const{to:t}=this.animation;kt(t)&&(es(t,this),Yu(t)&&(e=t.priority+1)),this.priority=e}_detach(){const{to:e}=this.animation;kt(e)&&Ys(e,this)}_set(e,t=!0){const n=_t(e);if(!R.und(n)){const r=hn(this);if(!r||!Nn(n,r.getValue())){const s=Gu(n);!r||r.constructor!=s?Vc(this,s.create(n)):r.setValue(n),r&&re.batchedUpdates(()=>{this._onChange(n,t)})}}return hn(this)}_onStart(){const e=this.animation;e.changed||(e.changed=!0,Os(this,"onStart",Zt(this,bs(this,e.to)),this))}_onChange(e,t){t||(this._onStart(),gt(this.animation.onChange,e,this)),gt(this.defaultProps.onChange,e,this),super._onChange(e,t)}_start(){const e=this.animation;hn(this).reset(_t(e.to)),e.immediate||(e.fromValues=e.values.map(t=>t.lastPosition)),jn(this)||(Nf(this,!0),Ts(this)||this._resume())}_resume(){rn.skipAnimation?this.finish():$o.start(this)}_stop(e,t){if(jn(this)){Nf(this,!1);const n=this.animation;ee(n.values,s=>{s.done=!0}),n.toValues&&(n.onChange=n.onPause=n.onResume=void 0),Xs(this,{type:"idle",parent:this});const r=t?Dr(this.get()):Zt(this.get(),bs(this,e??n.to));Ls(this._pendingCalls,r),n.changed&&(n.changed=!1,Os(this,"onRest",r,this))}}};function bs(e,t){const n=ei(t),r=ei(e.get());return Nn(r,n)}function Lh(e,t=e.loop,n=e.to){const r=gt(t);if(r){const s=r!==!0&&Gc(r),i=(s||e).reverse,o=!s||s.reset;return ni({...e,loop:t,default:!1,pause:void 0,to:!i||Ku(n)?n:void 0,from:o?e.from:void 0,reset:o,...s})}}function ni(e){const{to:t,from:n}=e=Gc(e),r=new Set;return R.obj(t)&&xf(t,r),R.obj(n)&&xf(n,r),e.keys=r.size?Array.from(r):null,e}function A0(e){const t=ni(e);return R.und(t.default)&&(t.default=Vo(t)),t}function xf(e,t){vn(e,(n,r)=>n!=null&&t.add(r))}var I0=["onStart","onRest","onChange","onPause","onResume"];function Mf(e,t,n){e.animation[n]=t[n]!==bh(t,n)?Th(t[n],e.key):void 0}function Os(e,t,...n){var r,s,i,o;(s=(r=e.animation)[t])==null||s.call(r,...n),(o=(i=e.defaultProps)[t])==null||o.call(i,...n)}var R0=["onStart","onChange","onRest"],N0=1,xh=class{constructor(e,t){this.id=N0++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),t&&(this._flush=t),e&&this.start({default:!0,...e})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(e=>e.idle&&!e.isDelayed&&!e.isPaused)}get item(){return this._item}set item(e){this._item=e}get(){const e={};return this.each((t,n)=>e[n]=t.get()),e}set(e){for(const t in e){const n=e[t];R.und(n)||this.springs[t].set(n)}}update(e){return e&&this.queue.push(ni(e)),this}start(e){let{queue:t}=this;return e?t=at(e).map(ni):this.queue=[],this._flush?this._flush(this,t):(kh(this,t),ec(this,t))}stop(e,t){if(e!==!!e&&(t=e),t){const n=this.springs;ee(at(t),r=>n[r].stop(!!e))}else ti(this._state,this._lastAsyncId),this.each(n=>n.stop(!!e));return this}pause(e){if(R.und(e))this.start({pause:!0});else{const t=this.springs;ee(at(e),n=>t[n].pause())}return this}resume(e){if(R.und(e))this.start({pause:!1});else{const t=this.springs;ee(at(e),n=>t[n].resume())}return this}each(e){vn(this.springs,e)}_onFrame(){const{onStart:e,onChange:t,onRest:n}=this._events,r=this._active.size>0,s=this._changed.size>0;(r&&!this._started||s&&!this._started)&&(this._started=!0,qs(e,([a,u])=>{u.value=this.get(),a(u,this,this._item)}));const i=!r&&this._started,o=s||i&&n.size?this.get():null;s&&t.size&&qs(t,([a,u])=>{u.value=o,a(u,this,this._item)}),i&&(this._started=!1,qs(n,([a,u])=>{u.value=o,a(u,this,this._item)}))}eventObserved(e){if(e.type=="change")this._changed.add(e.parent),e.idle||this._active.add(e.parent);else if(e.type=="idle")this._active.delete(e.parent);else return;re.onFrame(this._onFrame)}};function ec(e,t){return Promise.all(t.map(n=>Mh(e,n))).then(n=>Kc(e,n))}async function Mh(e,t,n){const{keys:r,to:s,from:i,loop:o,onRest:a,onResolve:u}=t,c=R.obj(t.default)&&t.default;o&&(t.loop=!1),s===!1&&(t.to=null),i===!1&&(t.from=null);const l=R.arr(s)||R.fun(s)?s:void 0;l?(t.to=void 0,t.onRest=void 0,c&&(c.onRest=void 0)):ee(R0,_=>{const g=t[_];if(R.fun(g)){const v=e._events[_];t[_]=({finished:y,cancelled:S})=>{const b=v.get(g);b?(y||(b.finished=!1),S&&(b.cancelled=!0)):v.set(g,{value:null,finished:y||!1,cancelled:S||!1})},c&&(c[_]=t[_])}});const f=e._state;t.pause===!f.paused?(f.paused=t.pause,Ls(t.pause?f.pauseQueue:f.resumeQueue)):f.paused&&(t.pause=!0);const d=(r||Object.keys(e.springs)).map(_=>e.springs[_].start(t)),p=t.cancel===!0||bh(t,"cancel")===!0;(l||p&&f.asyncId)&&d.push(Ah(++e._lastAsyncId,{props:t,state:f,actions:{pause:zu,resume:zu,start(_,g){p?(ti(f,e._lastAsyncId),g(Dr(e))):(_.onRest=a,g(Rh(l,_,f,e)))}}})),f.paused&&await new Promise(_=>{f.resumeQueue.add(_)});const h=Kc(e,await Promise.all(d));if(o&&h.finished&&!(n&&h.noop)){const _=Lh(t,o,s);if(_)return kh(e,[_]),Mh(e,_,!0)}return u&&re.batchedUpdates(()=>u(h,e,e.item)),h}function tc(e,t){const n={...e.springs};return t&&ee(at(t),r=>{R.und(r.keys)&&(r=ni(r)),R.obj(r.to)||(r={...r,to:void 0}),Uh(n,r,s=>Fh(s))}),Ph(e,n),n}function Ph(e,t){vn(t,(n,r)=>{e.springs[r]||(e.springs[r]=n,es(n,e))})}function Fh(e,t){const n=new C0;return n.key=e,t&&es(n,t),n}function Uh(e,t,n){t.keys&&ee(t.keys,r=>{(e[r]||(e[r]=n(r)))._prepareNode(t)})}function kh(e,t){ee(t,n=>{Uh(e.springs,n,r=>Fh(r,e))})}var wi=({children:e,...t})=>{const n=m.useContext(Eo),r=t.pause||!!n.pause,s=t.immediate||!!n.immediate;t=c0(()=>({pause:r,immediate:s}),[r,s]);const{Provider:i}=Eo;return m.createElement(i,{value:t},e)},Eo=L0(wi,{});wi.Provider=Eo.Provider;wi.Consumer=Eo.Consumer;function L0(e,t){return Object.assign(e,m.createContext(t)),e.Provider._context=e,e.Consumer._context=e,e}var Dh=()=>{const e=[],t=function(r){a0();const s=[];return ee(e,(i,o)=>{if(R.und(r))s.push(i.start());else{const a=n(r,i,o);a&&s.push(i.start(a))}}),s};t.current=e,t.add=function(r){e.includes(r)||e.push(r)},t.delete=function(r){const s=e.indexOf(r);~s&&e.splice(s,1)},t.pause=function(){return ee(e,r=>r.pause(...arguments)),this},t.resume=function(){return ee(e,r=>r.resume(...arguments)),this},t.set=function(r){ee(e,(s,i)=>{const o=R.fun(r)?r(i,s):r;o&&s.set(o)})},t.start=function(r){const s=[];return ee(e,(i,o)=>{if(R.und(r))s.push(i.start());else{const a=this._getProps(r,i,o);a&&s.push(i.start(a))}}),s},t.stop=function(){return ee(e,r=>r.stop(...arguments)),this},t.update=function(r){return ee(e,(s,i)=>s.update(this._getProps(r,s,i))),this};const n=function(r,s,i){return R.fun(r)?r(i,s):r};return t._getProps=n,t};function x0(e,t,n){const r=R.fun(t)&&t;r&&!n&&(n=[]);const s=m.useMemo(()=>r||arguments.length==3?Dh():void 0,[]),i=m.useRef(0),o=zc(),a=m.useMemo(()=>({ctrls:[],queue:[],flush(v,y){const S=tc(v,y);return i.current>0&&!a.queue.length&&!Object.keys(S).some(O=>!v.springs[O])?ec(v,y):new Promise(O=>{Ph(v,S),a.queue.push(()=>{O(ec(v,y))}),o()})}}),[]),u=m.useRef([...a.ctrls]),c=[],l=Vu(e)||0;m.useMemo(()=>{ee(u.current.slice(e,l),v=>{Qu(v,s),v.stop(!0)}),u.current.length=e,f(l,e)},[e]),m.useMemo(()=>{f(0,Math.min(l,e))},n);function f(v,y){for(let S=v;S<y;S++){const b=u.current[S]||(u.current[S]=new xh(null,a.flush)),O=r?r(S,b):t[S];O&&(c[S]=A0(O))}}const d=u.current.map((v,y)=>tc(v,c[y])),p=m.useContext(wi),h=Vu(p),_=p!==h&&Oh(p);hr(()=>{i.current++,a.ctrls=u.current;const{queue:v}=a;v.length&&(a.queue=[],ee(v,y=>y())),ee(u.current,(y,S)=>{s==null||s.add(y),_&&y.start({default:p});const b=c[S];b&&(Ch(y,b.ref),y.ref?y.queue.push(b):y.start(b))})}),Wc(()=>()=>{ee(a.ctrls,v=>v.stop(!0))});const g=d.map(v=>({...v}));return s?[g,s]:g}function Ur(e,t){const n=R.fun(e),[[r],s]=x0(1,n?e:[e],n?t||[]:t);return n||arguments.length==2?[r,s]:r}function M0(e,t,n){const r=R.fun(t)&&t,{reset:s,sort:i,trail:o=0,expires:a=!0,exitBeforeEnter:u=!1,onDestroyed:c,ref:l,config:f}=r?r():t,d=m.useMemo(()=>r||arguments.length==3?Dh():void 0,[]),p=at(e),h=[],_=m.useRef(null),g=s?null:_.current;hr(()=>{_.current=h}),Wc(()=>(ee(h,B=>{d==null||d.add(B.ctrl),B.ctrl.ref=d}),()=>{ee(_.current,B=>{B.expired&&clearTimeout(B.expirationId),Qu(B.ctrl,d),B.ctrl.stop(!0)})}));const v=F0(p,r?r():t,g),y=s&&_.current||[];hr(()=>ee(y,({ctrl:B,item:w,key:A})=>{Qu(B,d),gt(c,w,A)}));const S=[];if(g&&ee(g,(B,w)=>{B.expired?(clearTimeout(B.expirationId),y.push(B)):(w=S[w]=v.indexOf(B.key),~w&&(h[w]=B))}),ee(p,(B,w)=>{h[w]||(h[w]={key:v[w],item:B,phase:"mount",ctrl:new xh},h[w].ctrl.item=B)}),S.length){let B=-1;const{leave:w}=r?r():t;ee(S,(A,I)=>{const U=g[I];~A?(B=h.indexOf(U),h[B]={...U,item:p[A]}):w&&h.splice(++B,0,U)})}R.fun(i)&&h.sort((B,w)=>i(B.item,w.item));let b=-o;const O=zc(),N=Vo(t),x=new Map,z=m.useRef(new Map),j=m.useRef(!1);ee(h,(B,w)=>{const A=B.key,I=B.phase,U=r?r():t;let M,Q;const L=gt(U.delay||0,A);if(I=="mount")M=U.enter,Q="enter";else{const W=v.indexOf(A)<0;if(I!="leave")if(W)M=U.leave,Q="leave";else if(M=U.update)Q="update";else return;else if(!W)M=U.enter,Q="enter";else return}if(M=gt(M,B.item,w),M=R.obj(M)?Gc(M):{to:M},!M.config){const W=f||N.config;M.config=gt(W,B.item,w,Q)}b+=o;const se={...N,delay:L+b,ref:l,immediate:U.immediate,reset:!1,...M};if(Q=="enter"&&R.und(se.from)){const W=r?r():t,ge=R.und(W.initial)||g?W.from:W.initial;se.from=gt(ge,B.item,w)}const{onResolve:we}=se;se.onResolve=W=>{gt(we,W);const ge=_.current,C=ge.find(ye=>ye.key===A);if(C&&!(W.cancelled&&C.phase!="update")&&C.ctrl.idle){const ye=ge.every(ve=>ve.ctrl.idle);if(C.phase=="leave"){const ve=gt(a,C.item);if(ve!==!1){const xe=ve===!0?0:ve;if(C.expired=!0,!ye&&xe>0){xe<=2147483647&&(C.expirationId=setTimeout(O,xe));return}}}ye&&ge.some(ve=>ve.expired)&&(z.current.delete(C),u&&(j.current=!0),O())}};const ue=tc(B.ctrl,se);Q==="leave"&&u?z.current.set(B,{phase:Q,springs:ue,payload:se}):x.set(B,{phase:Q,springs:ue,payload:se})});const H=m.useContext(wi),K=Vu(H),V=H!==K&&Oh(H);hr(()=>{V&&ee(h,B=>{B.ctrl.start({default:H})})},[H]),ee(x,(B,w)=>{if(z.current.size){const A=h.findIndex(I=>I.key===w.key);h.splice(A,1)}}),hr(()=>{ee(z.current.size?z.current:x,({phase:B,payload:w},A)=>{const{ctrl:I}=A;A.phase=B,d==null||d.add(I),V&&B=="enter"&&I.start({default:H}),w&&(Ch(I,w.ref),(I.ref||d)&&!j.current?I.update(w):(I.start(w),j.current&&(j.current=!1)))})},s?void 0:n);const Y=B=>m.createElement(m.Fragment,null,h.map((w,A)=>{const{springs:I}=x.get(w)||w.ctrl,U=B({...I},w.item,w,A);return U&&U.type?m.createElement(U.type,{...U.props,key:R.str(w.key)||R.num(w.key)?w.key:w.ctrl.id,ref:U.ref}):U}));return d?[Y,d]:Y}var P0=1;function F0(e,{key:t,keys:n=t},r){if(n===null){const s=new Set;return e.map(i=>{const o=r&&r.find(a=>a.item===i&&a.phase!=="leave"&&!s.has(a));return o?(s.add(o),o.key):P0++})}return R.und(n)?e:R.fun(n)?e.map(n):at(n)}var qh=class extends Qc{constructor(e,t){super(),this.source=e,this.idle=!0,this._active=new Set,this.calc=Ks(...t);const n=this._get(),r=Gu(n);Vc(this,r.create(n))}advance(e){const t=this._get(),n=this.get();Nn(t,n)||(hn(this).setValue(t),this._onChange(t,this.idle)),!this.idle&&Pf(this._active)&&Da(this)}_get(){const e=R.arr(this.source)?this.source.map(_t):at(_t(this.source));return this.calc(...e)}_start(){this.idle&&!Pf(this._active)&&(this.idle=!1,ee(zo(this),e=>{e.done=!1}),rn.skipAnimation?(re.batchedUpdates(()=>this.advance()),Da(this)):$o.start(this))}_attach(){let e=1;ee(at(this.source),t=>{kt(t)&&es(t,this),Yu(t)&&(t.idle||this._active.add(t),e=Math.max(e,t.priority+1))}),this.priority=e,this._start()}_detach(){ee(at(this.source),e=>{kt(e)&&Ys(e,this)}),this._active.clear(),Da(this)}eventObserved(e){e.type=="change"?e.idle?this.advance():(this._active.add(e.parent),this._start()):e.type=="idle"?this._active.delete(e.parent):e.type=="priority"&&(this.priority=at(this.source).reduce((t,n)=>Math.max(t,(Yu(n)?n.priority:0)+1),0))}};function U0(e){return e.idle!==!1}function Pf(e){return!e.size||Array.from(e).every(U0)}function Da(e){e.idle||(e.idle=!0,ee(zo(e),t=>{t.done=!0}),Xs(e,{type:"idle",parent:e}))}var dU=(e,...t)=>new qh(e,t);rn.assign({createStringInterpolator:yh,to:(e,t)=>new qh(e,t)});var $h=dE();const jh=Jr($h);var Hh=/^--/;function k0(e,t){return t==null||typeof t=="boolean"||t===""?"":typeof t=="number"&&t!==0&&!Hh.test(e)&&!(Hs.hasOwnProperty(e)&&Hs[e])?t+"px":(""+t).trim()}var Ff={};function D0(e,t){if(!e.nodeType||!e.setAttribute)return!1;const n=e.nodeName==="filter"||e.parentNode&&e.parentNode.nodeName==="filter",{className:r,style:s,children:i,scrollTop:o,scrollLeft:a,viewBox:u,...c}=t,l=Object.values(c),f=Object.keys(c).map(d=>n||e.hasAttribute(d)?d:Ff[d]||(Ff[d]=d.replace(/([A-Z])/g,p=>"-"+p.toLowerCase())));i!==void 0&&(e.textContent=i);for(const d in s)if(s.hasOwnProperty(d)){const p=k0(d,s[d]);Hh.test(d)?e.style.setProperty(d,p):e.style[d]=p}f.forEach((d,p)=>{e.setAttribute(d,l[p])}),r!==void 0&&(e.className=r),o!==void 0&&(e.scrollTop=o),a!==void 0&&(e.scrollLeft=a),u!==void 0&&e.setAttribute("viewBox",u)}var Hs={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},q0=(e,t)=>e+t.charAt(0).toUpperCase()+t.substring(1),$0=["Webkit","Ms","Moz","O"];Hs=Object.keys(Hs).reduce((e,t)=>($0.forEach(n=>e[q0(n,t)]=e[t]),e),Hs);var j0=/^(matrix|translate|scale|rotate|skew)/,H0=/^(translate)/,B0=/^(rotate|skew)/,qa=(e,t)=>R.num(e)&&e!==0?e+t:e,lo=(e,t)=>R.arr(e)?e.every(n=>lo(n,t)):R.num(e)?e===t:parseFloat(e)===t,z0=class extends Wo{constructor({x:e,y:t,z:n,...r}){const s=[],i=[];(e||t||n)&&(s.push([e||0,t||0,n||0]),i.push(o=>[`translate3d(${o.map(a=>qa(a,"px")).join(",")})`,lo(o,0)])),vn(r,(o,a)=>{if(a==="transform")s.push([o||""]),i.push(u=>[u,u===""]);else if(j0.test(a)){if(delete r[a],R.und(o))return;const u=H0.test(a)?"px":B0.test(a)?"deg":"";s.push(at(o)),i.push(a==="rotate3d"?([c,l,f,d])=>[`rotate3d(${c},${l},${f},${qa(d,u)})`,lo(d,0)]:c=>[`${a}(${c.map(l=>qa(l,u)).join(",")})`,lo(c,a.startsWith("scale")?1:0)])}}),s.length&&(r.transform=new W0(s,i)),super(r)}},W0=class extends _h{constructor(e,t){super(),this.inputs=e,this.transforms=t,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let e="",t=!0;return ee(this.inputs,(n,r)=>{const s=_t(n[0]),[i,o]=this.transforms[r](R.arr(s)?s:n.map(_t));e+=" "+i,t=t&&o}),t?"none":e}observerAdded(e){e==1&&ee(this.inputs,t=>ee(t,n=>kt(n)&&es(n,this)))}observerRemoved(e){e==0&&ee(this.inputs,t=>ee(t,n=>kt(n)&&Ys(n,this)))}eventObserved(e){e.type=="change"&&(this._value=null),Xs(this,e)}},V0=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"];rn.assign({batchedUpdates:$h.unstable_batchedUpdates,createStringInterpolator:yh,colors:qE});var G0=g0(V0,{applyAnimatedValues:D0,createAnimatedStyle:e=>new z0(e),getComponentProps:({scrollTop:e,scrollLeft:t,...n})=>n}),Ye=G0.animated;const Go=e=>{const t=document.createElement("div");return t.innerHTML=e.replace(/<br\s*\/?>/g,`
`).replace(/<\/p><p>/g,`

`).replace(/<[^>]*>/g,""),t.textContent},K0=async e=>{try{e(await Notification.requestPermission())}catch(t){console.warn(t)}};var Ht=typeof window<"u"?window:{screen:{},navigator:{}},$r=(Ht.matchMedia||function(){return{matches:!1}}).bind(Ht),Bh=!1,Q0={get passive(){return Bh=!0}},zh=function(){};Ht.addEventListener&&Ht.addEventListener("p",zh,Q0);Ht.removeEventListener&&Ht.removeEventListener("p",zh,!1);var X0=Bh,Xc="ontouchstart"in Ht,Y0="TouchEvent"in Ht,Z0=Xc||Y0&&$r("(any-pointer: coarse)").matches;(Ht.navigator.maxTouchPoints||0)>0;var Wh=Ht.navigator.userAgent||"",J0=$r("(pointer: coarse)").matches&&/iPad|Macintosh/.test(Wh)&&Math.min(Ht.screen.width||0,Ht.screen.height||0)>=768;($r("(pointer: coarse)").matches||!$r("(pointer: fine)").matches&&Xc)&&/Windows.*Firefox/.test(Wh);$r("(any-pointer: fine)").matches||$r("(any-hover: hover)").matches;const e1=630,t1=e=>e<=e1,n1=!rh&&!TE,Vh=()=>t1(window.innerWidth)?"mobile":!rh&&!n1?"multi-column":"single-column",r1=X0?{passive:!0}:!1;let Gh=!1;const Kh=()=>{Gh=!0,window.removeEventListener("touchstart",Kh)};window.addEventListener("touchstart",Kh,r1);const pU=()=>Gh,ut=pE(),s1=ut.push.bind(ut),i1=ut.replace.bind(ut);function hU(){return hE()}function Qh(e,t){const n=typeof e=="string"?{pathname:e}:{...e};return n.state===void 0&&t!==void 0?n.state=t:n.state!==void 0&&t!==void 0&&RE()&&console.log("You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored"),Vh()==="multi-column"&&n.pathname&&!n.pathname.startsWith("/deck")&&(n.pathname=`/deck${n.pathname}`),n}ut.push=(e,t)=>{const n=Qh(e,t);n.state=n.state??{},n.state.fromMastodon=!0,s1(n)};ut.replace=(e,t)=>{var r;const n=Qh(e,t);n.pathname&&((r=ut.location.state)!=null&&r.fromMastodon&&(n.state=n.state??{},n.state.fromMastodon=!0),i1(n))};const mU=({children:e})=>T.jsx(mE,{history:ut,children:e});var o1=SE();const Yc=Jr(o1),a1=(e,{delay:t=100})=>{let n=[],r;const s=Yc(()=>{const i=n;n=[],e(r,...i)},t);return(i,...o)=>{r=i,n.push(...o),s()}};function Qe(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var u1=typeof Symbol=="function"&&Symbol.observable||"@@observable",Uf=u1,$a=()=>Math.random().toString(36).substring(7).split("").join("."),c1={INIT:`@@redux/INIT${$a()}`,REPLACE:`@@redux/REPLACE${$a()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${$a()}`},wo=c1;function Zc(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function Xh(e,t,n){if(typeof e!="function")throw new Error(Qe(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Qe(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Qe(1));return n(Xh)(e,t)}let r=e,s=t,i=new Map,o=i,a=0,u=!1;function c(){o===i&&(o=new Map,i.forEach((g,v)=>{o.set(v,g)}))}function l(){if(u)throw new Error(Qe(3));return s}function f(g){if(typeof g!="function")throw new Error(Qe(4));if(u)throw new Error(Qe(5));let v=!0;c();const y=a++;return o.set(y,g),function(){if(v){if(u)throw new Error(Qe(6));v=!1,c(),o.delete(y),i=null}}}function d(g){if(!Zc(g))throw new Error(Qe(7));if(typeof g.type>"u")throw new Error(Qe(8));if(typeof g.type!="string")throw new Error(Qe(17));if(u)throw new Error(Qe(9));try{u=!0,s=r(s,g)}finally{u=!1}return(i=o).forEach(y=>{y()}),g}function p(g){if(typeof g!="function")throw new Error(Qe(10));r=g,d({type:wo.REPLACE})}function h(){const g=f;return{subscribe(v){if(typeof v!="object"||v===null)throw new Error(Qe(11));function y(){const b=v;b.next&&b.next(l())}return y(),{unsubscribe:g(y)}},[Uf](){return this}}}return d({type:wo.INIT}),{dispatch:d,subscribe:f,getState:l,replaceReducer:p,[Uf]:h}}function l1(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:wo.INIT})>"u")throw new Error(Qe(12));if(typeof n(void 0,{type:wo.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Qe(13))})}function f1(e){const t=Object.keys(e),n={};for(let i=0;i<t.length;i++){const o=t[i];typeof e[o]=="function"&&(n[o]=e[o])}const r=Object.keys(n);let s;try{l1(n)}catch(i){s=i}return function(o={},a){if(s)throw s;let u=!1;const c={};for(let l=0;l<r.length;l++){const f=r[l],d=n[f],p=o[f],h=d(p,a);if(typeof h>"u")throw a&&a.type,new Error(Qe(14));c[f]=h,u=u||h!==p}return u=u||r.length!==Object.keys(o).length,u?c:o}}function To(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function d1(...e){return t=>(n,r)=>{const s=t(n,r);let i=()=>{throw new Error(Qe(15))};const o={getState:s.getState,dispatch:(u,...c)=>i(u,...c)},a=e.map(u=>u(o));return i=To(...a)(s.dispatch),{...s,dispatch:i}}}function Ko(e){return Zc(e)&&"type"in e&&typeof e.type=="string"}var Yh=Symbol.for("immer-nothing"),kf=Symbol.for("immer-draftable"),Ot=Symbol.for("immer-state");function Jt(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var jr=Object.getPrototypeOf;function Sr(e){return!!e&&!!e[Ot]}function xn(e){var t;return e?Zh(e)||Array.isArray(e)||!!e[kf]||!!((t=e.constructor)!=null&&t[kf])||Xo(e)||Yo(e):!1}var p1=Object.prototype.constructor.toString();function Zh(e){if(!e||typeof e!="object")return!1;const t=jr(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===p1}function bo(e,t){Qo(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function Qo(e){const t=e[Ot];return t?t.type_:Array.isArray(e)?1:Xo(e)?2:Yo(e)?3:0}function nc(e,t){return Qo(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Jh(e,t,n){const r=Qo(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function h1(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Xo(e){return e instanceof Map}function Yo(e){return e instanceof Set}function fr(e){return e.copy_||e.base_}function rc(e,t){if(Xo(e))return new Map(e);if(Yo(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=Zh(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[Ot];let s=Reflect.ownKeys(r);for(let i=0;i<s.length;i++){const o=s[i],a=r[o];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(r[o]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[o]})}return Object.create(jr(e),r)}else{const r=jr(e);if(r!==null&&n)return{...e};const s=Object.create(r);return Object.assign(s,e)}}function Jc(e,t=!1){return Zo(e)||Sr(e)||!xn(e)||(Qo(e)>1&&(e.set=e.add=e.clear=e.delete=m1),Object.freeze(e),t&&Object.entries(e).forEach(([n,r])=>Jc(r,!0))),e}function m1(){Jt(2)}function Zo(e){return Object.isFrozen(e)}var _1={};function Er(e){const t=_1[e];return t||Jt(0,e),t}var ri;function em(){return ri}function g1(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Df(e,t){t&&(Er("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function sc(e){ic(e),e.drafts_.forEach(v1),e.drafts_=null}function ic(e){e===ri&&(ri=e.parent_)}function qf(e){return ri=g1(ri,e)}function v1(e){const t=e[Ot];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function $f(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Ot].modified_&&(sc(t),Jt(4)),xn(e)&&(e=Oo(t,e),t.parent_||Co(t,e)),t.patches_&&Er("Patches").generateReplacementPatches_(n[Ot].base_,e,t.patches_,t.inversePatches_)):e=Oo(t,n,[]),sc(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Yh?e:void 0}function Oo(e,t,n){if(Zo(t))return t;const r=t[Ot];if(!r)return bo(t,(s,i)=>jf(e,r,t,s,i,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return Co(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const s=r.copy_;let i=s,o=!1;r.type_===3&&(i=new Set(s),s.clear(),o=!0),bo(i,(a,u)=>jf(e,r,s,a,u,n,o)),Co(e,s,!1),n&&e.patches_&&Er("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function jf(e,t,n,r,s,i,o){if(Sr(s)){const a=i&&t&&t.type_!==3&&!nc(t.assigned_,r)?i.concat(r):void 0,u=Oo(e,s,a);if(Jh(n,r,u),Sr(u))e.canAutoFreeze_=!1;else return}else o&&n.add(s);if(xn(s)&&!Zo(s)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Oo(e,s),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&Co(e,s)}}function Co(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Jc(t,n)}function y1(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:em(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=r,i=el;n&&(s=[r],i=si);const{revoke:o,proxy:a}=Proxy.revocable(s,i);return r.draft_=a,r.revoke_=o,a}var el={get(e,t){if(t===Ot)return e;const n=fr(e);if(!nc(n,t))return S1(e,n,t);const r=n[t];return e.finalized_||!xn(r)?r:r===ja(e.base_,t)?(Ha(e),e.copy_[t]=ac(r,e)):r},has(e,t){return t in fr(e)},ownKeys(e){return Reflect.ownKeys(fr(e))},set(e,t,n){const r=tm(fr(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const s=ja(fr(e),t),i=s==null?void 0:s[Ot];if(i&&i.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(h1(n,s)&&(n!==void 0||nc(e.base_,t)))return!0;Ha(e),oc(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return ja(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Ha(e),oc(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=fr(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Jt(11)},getPrototypeOf(e){return jr(e.base_)},setPrototypeOf(){Jt(12)}},si={};bo(el,(e,t)=>{si[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});si.deleteProperty=function(e,t){return si.set.call(this,e,t,void 0)};si.set=function(e,t,n){return el.set.call(this,e[0],t,n,e[0])};function ja(e,t){const n=e[Ot];return(n?fr(n):e)[t]}function S1(e,t,n){var s;const r=tm(t,n);return r?"value"in r?r.value:(s=r.get)==null?void 0:s.call(e.draft_):void 0}function tm(e,t){if(!(t in e))return;let n=jr(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=jr(n)}}function oc(e){e.modified_||(e.modified_=!0,e.parent_&&oc(e.parent_))}function Ha(e){e.copy_||(e.copy_=rc(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var E1=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const i=n;n=t;const o=this;return function(u=i,...c){return o.produce(u,l=>n.call(this,l,...c))}}typeof n!="function"&&Jt(6),r!==void 0&&typeof r!="function"&&Jt(7);let s;if(xn(t)){const i=qf(this),o=ac(t,void 0);let a=!0;try{s=n(o),a=!1}finally{a?sc(i):ic(i)}return Df(i,r),$f(s,i)}else if(!t||typeof t!="object"){if(s=n(t),s===void 0&&(s=t),s===Yh&&(s=void 0),this.autoFreeze_&&Jc(s,!0),r){const i=[],o=[];Er("Patches").generateReplacementPatches_(t,s,i,o),r(i,o)}return s}else Jt(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(o,...a)=>this.produceWithPatches(o,u=>t(u,...a));let r,s;return[this.produce(t,n,(o,a)=>{r=o,s=a}),r,s]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){xn(e)||Jt(8),Sr(e)&&(e=w1(e));const t=qf(this),n=ac(e,void 0);return n[Ot].isManual_=!0,ic(t),n}finishDraft(e,t){const n=e&&e[Ot];(!n||!n.isManual_)&&Jt(9);const{scope_:r}=n;return Df(r,t),$f(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const s=t[n];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}n>-1&&(t=t.slice(n+1));const r=Er("Patches").applyPatches_;return Sr(e)?r(e,t):this.produce(e,s=>r(s,t))}};function ac(e,t){const n=Xo(e)?Er("MapSet").proxyMap_(e,t):Yo(e)?Er("MapSet").proxySet_(e,t):y1(e,t);return(t?t.scope_:em()).drafts_.push(n),n}function w1(e){return Sr(e)||Jt(10,e),nm(e)}function nm(e){if(!xn(e)||Zo(e))return e;const t=e[Ot];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=rc(e,t.scope_.immer_.useStrictShallowCopy_)}else n=rc(e,!0);return bo(n,(r,s)=>{Jh(n,r,nm(s))}),t&&(t.finalized_=!1),n}var Ct=new E1,rm=Ct.produce;Ct.produceWithPatches.bind(Ct);Ct.setAutoFreeze.bind(Ct);Ct.setUseStrictShallowCopy.bind(Ct);Ct.applyPatches.bind(Ct);Ct.createDraft.bind(Ct);Ct.finishDraft.bind(Ct);function T1(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function b1(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function O1(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var Hf=e=>Array.isArray(e)?e:[e];function C1(e){const t=Array.isArray(e[0])?e[0]:e;return O1(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function A1(e,t){const n=[],{length:r}=e;for(let s=0;s<r;s++)n.push(e[s].apply(null,t));return n}var I1=class{constructor(e){this.value=e}deref(){return this.value}},R1=typeof WeakRef<"u"?WeakRef:I1,N1=0,Bf=1;function Gi(){return{s:N1,v:void 0,o:null,p:null}}function sm(e,t={}){let n=Gi();const{resultEqualityCheck:r}=t;let s,i=0;function o(){var f;let a=n;const{length:u}=arguments;for(let d=0,p=u;d<p;d++){const h=arguments[d];if(typeof h=="function"||typeof h=="object"&&h!==null){let _=a.o;_===null&&(a.o=_=new WeakMap);const g=_.get(h);g===void 0?(a=Gi(),_.set(h,a)):a=g}else{let _=a.p;_===null&&(a.p=_=new Map);const g=_.get(h);g===void 0?(a=Gi(),_.set(h,a)):a=g}}const c=a;let l;if(a.s===Bf)l=a.v;else if(l=e.apply(null,arguments),i++,r){const d=((f=s==null?void 0:s.deref)==null?void 0:f.call(s))??s;d!=null&&r(d,l)&&(l=d,i!==0&&i--),s=typeof l=="object"&&l!==null||typeof l=="function"?new R1(l):l}return c.s=Bf,c.v=l,l}return o.clearCache=()=>{n=Gi(),o.resetResultsCount()},o.resultsCount=()=>i,o.resetResultsCount=()=>{i=0},o}function L1(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...s)=>{let i=0,o=0,a,u={},c=s.pop();typeof c=="object"&&(u=c,c=s.pop()),T1(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const l={...n,...u},{memoize:f,memoizeOptions:d=[],argsMemoize:p=sm,argsMemoizeOptions:h=[]}=l,_=Hf(d),g=Hf(h),v=C1(s),y=f(function(){return i++,c.apply(null,arguments)},..._),S=p(function(){o++;const O=A1(v,arguments);return a=y.apply(null,O),a},...g);return Object.assign(S,{resultFunc:c,memoizedResultFunc:y,dependencies:v,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>a,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:f,argsMemoize:p})};return Object.assign(r,{withTypes:()=>r}),r}var Jo=L1(sm),x1=Object.assign((e,t=Jo)=>{b1(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(i=>e[i]);return t(r,(...i)=>i.reduce((o,a,u)=>(o[n[u]]=a,o),{}))},{withTypes:()=>x1});function im(e){return({dispatch:n,getState:r})=>s=>i=>typeof i=="function"?i(n,r,e):s(i)}var M1=im(),P1=im,F1=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?To:To.apply(null,arguments)},U1=e=>e&&typeof e.match=="function";function Z(e,t){function n(...r){if(t){let s=t(...r);if(!s)throw new Error(Ro(0));return{type:e,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>Ko(r)&&r.type===e,n}var om=class xs extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,xs.prototype)}static get[Symbol.species](){return xs}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new xs(...t[0].concat(this)):new xs(...t.concat(this))}};function zf(e){return xn(e)?rm(e,()=>{}):e}function k1(e){return typeof e=="boolean"}var D1=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:s=!0,actionCreatorCheck:i=!0}=t??{};let o=new om;return n&&(k1(n)?o.push(M1):o.push(P1(n.extraArgument))),o},q1="RTK_autoBatch",Wf=e=>t=>{setTimeout(t,e)},$1=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let s=!0,i=!1,o=!1;const a=new Set,u=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Wf(10):e.type==="callback"?e.queueNotification:Wf(e.timeout),c=()=>{o=!1,i&&(i=!1,a.forEach(l=>l()))};return Object.assign({},r,{subscribe(l){const f=()=>s&&l(),d=r.subscribe(f);return a.add(l),()=>{d(),a.delete(l)}},dispatch(l){var f;try{return s=!((f=l==null?void 0:l.meta)!=null&&f[q1]),i=!s,i&&(o||(o=!0,u(c))),r.dispatch(l)}finally{s=!0}}})},j1=e=>function(n){const{autoBatch:r=!0}=n??{};let s=new om(e);return r&&s.push($1(typeof r=="object"?r:void 0)),s};function H1(e){const t=D1(),{reducer:n=void 0,middleware:r,devTools:s=!0,preloadedState:i=void 0,enhancers:o=void 0}=e||{};let a;if(typeof n=="function")a=n;else if(Zc(n))a=f1(n);else throw new Error(Ro(1));let u;typeof r=="function"?u=r(t):u=t();let c=To;s&&(c=F1({trace:!1,...typeof s=="object"&&s}));const l=d1(...u),f=j1(l);let d=typeof o=="function"?o(f):f();const p=c(...d);return Xh(a,i,p)}function B1(e){const t={},n=[];let r;const s={addCase(i,o){const a=typeof i=="string"?i:i.type;if(!a)throw new Error(Ro(28));if(a in t)throw new Error(Ro(29));return t[a]=o,s},addMatcher(i,o){return n.push({matcher:i,reducer:o}),s},addDefaultCase(i){return r=i,s}};return e(s),[t,n,r]}function z1(e){return typeof e=="function"}function Gt(e,t){let[n,r,s]=B1(t),i;if(z1(e))i=()=>zf(e());else{const a=zf(e);i=()=>a}function o(a=i(),u){let c=[n[u.type],...r.filter(({matcher:l})=>l(u)).map(({reducer:l})=>l)];return c.filter(l=>!!l).length===0&&(c=[s]),c.reduce((l,f)=>{if(f)if(Sr(l)){const p=f(l,u);return p===void 0?l:p}else{if(xn(l))return rm(l,d=>f(d,u));{const d=f(l,u);if(d===void 0){if(l===null)return l;throw Error("A case reducer on a non-draftable value must not return undefined")}return d}}return l},a)}return o.getInitialState=i,o}var am=(e,t)=>U1(e)?e.match(t):e(t);function Ve(...e){return t=>e.some(n=>am(n,t))}function Vf(...e){return t=>e.every(n=>am(n,t))}function ea(e,t){if(!e||!e.meta)return!1;const n=typeof e.meta.requestId=="string",r=t.indexOf(e.meta.requestStatus)>-1;return n&&r}function Ti(e){return typeof e[0]=="function"&&"pending"in e[0]&&"fulfilled"in e[0]&&"rejected"in e[0]}function um(...e){return e.length===0?t=>ea(t,["pending"]):Ti(e)?Ve(...e.map(t=>t.pending)):um()(e[0])}function Ao(...e){return e.length===0?t=>ea(t,["rejected"]):Ti(e)?Ve(...e.map(t=>t.rejected)):Ao()(e[0])}function cm(...e){const t=n=>n&&n.meta&&n.meta.rejectedWithValue;return e.length===0?Vf(Ao(...e),t):Ti(e)?Vf(Ao(...e),t):cm()(e[0])}function Io(...e){return e.length===0?t=>ea(t,["fulfilled"]):Ti(e)?Ve(...e.map(t=>t.fulfilled)):Io()(e[0])}function tl(...e){return e.length===0?t=>ea(t,["pending","fulfilled","rejected"]):Ti(e)?Ve(...e.flatMap(t=>[t.pending,t.rejected,t.fulfilled])):tl()(e[0])}var W1="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",V1=(e=21)=>{let t="",n=e;for(;n--;)t+=W1[Math.random()*64|0];return t},G1=["name","message","stack","code"],Ba=class{constructor(e,t){La(this,"_type");this.payload=e,this.meta=t}},Gf=class{constructor(e,t){La(this,"_type");this.payload=e,this.meta=t}},K1=e=>{if(typeof e=="object"&&e!==null){const t={};for(const n of G1)typeof e[n]=="string"&&(t[n]=e[n]);return t}return{message:String(e)}},Kf="External signal was aborted",lm=(()=>{function e(t,n,r){const s=Z(t+"/fulfilled",(u,c,l,f)=>({payload:u,meta:{...f||{},arg:l,requestId:c,requestStatus:"fulfilled"}})),i=Z(t+"/pending",(u,c,l)=>({payload:void 0,meta:{...l||{},arg:c,requestId:u,requestStatus:"pending"}})),o=Z(t+"/rejected",(u,c,l,f,d)=>({payload:f,error:(r&&r.serializeError||K1)(u||"Rejected"),meta:{...d||{},arg:l,requestId:c,rejectedWithValue:!!f,requestStatus:"rejected",aborted:(u==null?void 0:u.name)==="AbortError",condition:(u==null?void 0:u.name)==="ConditionError"}}));function a(u,{signal:c}={}){return(l,f,d)=>{const p=r!=null&&r.idGenerator?r.idGenerator(u):V1(),h=new AbortController;let _,g;function v(S){g=S,h.abort()}c&&(c.aborted?v(Kf):c.addEventListener("abort",()=>v(Kf),{once:!0}));const y=async function(){var O,N;let S;try{let x=(O=r==null?void 0:r.condition)==null?void 0:O.call(r,u,{getState:f,extra:d});if(X1(x)&&(x=await x),x===!1||h.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const z=new Promise((j,H)=>{_=()=>{H({name:"AbortError",message:g||"Aborted"})},h.signal.addEventListener("abort",_)});l(i(p,u,(N=r==null?void 0:r.getPendingMeta)==null?void 0:N.call(r,{requestId:p,arg:u},{getState:f,extra:d}))),S=await Promise.race([z,Promise.resolve(n(u,{dispatch:l,getState:f,extra:d,requestId:p,signal:h.signal,abort:v,rejectWithValue:(j,H)=>new Ba(j,H),fulfillWithValue:(j,H)=>new Gf(j,H)})).then(j=>{if(j instanceof Ba)throw j;return j instanceof Gf?s(j.payload,p,u,j.meta):s(j,p,u)})])}catch(x){S=x instanceof Ba?o(null,p,u,x.payload,x.meta):o(x,p,u)}finally{_&&h.signal.removeEventListener("abort",_)}return r&&!r.dispatchConditionRejection&&o.match(S)&&S.meta.condition||l(S),S}();return Object.assign(y,{abort:v,requestId:p,arg:u,unwrap(){return y.then(Q1)}})}}return Object.assign(a,{pending:i,rejected:o,fulfilled:s,settled:Ve(o,s),typePrefix:t})}return e.withTypes=()=>e,e})();function Q1(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function X1(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}function Ro(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}const Y1=(e,t)=>an(`v1/accounts/${e}/note`,{comment:t}),_U=(e,t)=>an(`v1/accounts/${e}/follow`,{...t}),Z1=e=>an(`v1/accounts/${e}/remove_from_followers`),J1=e=>Vt(`v1/accounts/${e}/featured_tags`),ew=e=>Vt(`v1/accounts/${e}/endorsements`),tw=e=>Vt("v1/accounts/familiar_followers",{id:e});var za={exports:{}},Wa={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qf;function nw(){if(Qf)return Wa;Qf=1;var e=xc();function t(u,c){return u===c&&(u!==0||1/u===1/c)||u!==u&&c!==c}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,s=e.useRef,i=e.useEffect,o=e.useMemo,a=e.useDebugValue;return Wa.useSyncExternalStoreWithSelector=function(u,c,l,f,d){var p=s(null);if(p.current===null){var h={hasValue:!1,value:null};p.current=h}else h=p.current;p=o(function(){function g(O){if(!v){if(v=!0,y=O,O=f(O),d!==void 0&&h.hasValue){var N=h.value;if(d(N,O))return S=N}return S=O}if(N=S,n(y,O))return N;var x=f(O);return d!==void 0&&d(N,x)?(y=O,N):(y=O,S=x)}var v=!1,y,S,b=l===void 0?null:l;return[function(){return g(c())},b===null?void 0:function(){return g(b())}]},[c,l,f,d]);var _=r(u,p[0],p[1]);return i(function(){h.hasValue=!0,h.value=_},[_]),a(_),_},Wa}var Xf;function fm(){return Xf||(Xf=1,za.exports=nw()),za.exports}var rw=fm(),sw=m.version.startsWith("19"),iw=Symbol.for(sw?"react.transitional.element":"react.element"),ow=Symbol.for("react.portal"),aw=Symbol.for("react.fragment"),uw=Symbol.for("react.strict_mode"),cw=Symbol.for("react.profiler"),lw=Symbol.for("react.consumer"),fw=Symbol.for("react.context"),dm=Symbol.for("react.forward_ref"),dw=Symbol.for("react.suspense"),pw=Symbol.for("react.suspense_list"),nl=Symbol.for("react.memo"),hw=Symbol.for("react.lazy"),mw=dm,_w=nl;function gw(e){if(typeof e=="object"&&e!==null){const{$$typeof:t}=e;switch(t){case iw:switch(e=e.type,e){case aw:case cw:case uw:case dw:case pw:return e;default:switch(e=e&&e.$$typeof,e){case fw:case dm:case hw:case nl:return e;case lw:return e;default:return t}}case ow:return t}}}function vw(e){return gw(e)===nl}function yw(e,t,n,r,{areStatesEqual:s,areOwnPropsEqual:i,areStatePropsEqual:o}){let a=!1,u,c,l,f,d;function p(y,S){return u=y,c=S,l=e(u,c),f=t(r,c),d=n(l,f,c),a=!0,d}function h(){return l=e(u,c),t.dependsOnOwnProps&&(f=t(r,c)),d=n(l,f,c),d}function _(){return e.dependsOnOwnProps&&(l=e(u,c)),t.dependsOnOwnProps&&(f=t(r,c)),d=n(l,f,c),d}function g(){const y=e(u,c),S=!o(y,l);return l=y,S&&(d=n(l,f,c)),d}function v(y,S){const b=!i(S,c),O=!s(y,u,S,c);return u=y,c=S,b&&O?h():b?_():O?g():d}return function(S,b){return a?v(S,b):p(S,b)}}function Sw(e,{initMapStateToProps:t,initMapDispatchToProps:n,initMergeProps:r,...s}){const i=t(e,s),o=n(e,s),a=r(e,s);return yw(i,o,a,e,s)}function Ew(e,t){const n={};for(const r in e){const s=e[r];typeof s=="function"&&(n[r]=(...i)=>t(s(...i)))}return n}function uc(e){return function(n){const r=e(n);function s(){return r}return s.dependsOnOwnProps=!1,s}}function Yf(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}function pm(e,t){return function(r,{displayName:s}){const i=function(a,u){return i.dependsOnOwnProps?i.mapToProps(a,u):i.mapToProps(a,void 0)};return i.dependsOnOwnProps=!0,i.mapToProps=function(a,u){i.mapToProps=e,i.dependsOnOwnProps=Yf(e);let c=i(a,u);return typeof c=="function"&&(i.mapToProps=c,i.dependsOnOwnProps=Yf(c),c=i(a,u)),c},i}}function rl(e,t){return(n,r)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${r.wrappedComponentName}.`)}}function ww(e){return e&&typeof e=="object"?uc(t=>Ew(e,t)):e?typeof e=="function"?pm(e):rl(e,"mapDispatchToProps"):uc(t=>({dispatch:t}))}function Tw(e){return e?typeof e=="function"?pm(e):rl(e,"mapStateToProps"):uc(()=>({}))}function bw(e,t,n){return{...n,...e,...t}}function Ow(e){return function(n,{displayName:r,areMergedPropsEqual:s}){let i=!1,o;return function(u,c,l){const f=e(u,c,l);return i?s(f,o)||(o=f):(i=!0,o=f),o}}}function Cw(e){return e?typeof e=="function"?Ow(e):rl(e,"mergeProps"):()=>bw}function Aw(e){e()}function Iw(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Aw(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const s=t={callback:n,next:null,prev:t};return s.prev?s.prev.next=s:e=s,function(){!r||e===null||(r=!1,s.next?s.next.prev=s.prev:t=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}var Zf={notify(){},get:()=>[]};function hm(e,t){let n,r=Zf,s=0,i=!1;function o(_){l();const g=r.subscribe(_);let v=!1;return()=>{v||(v=!0,g(),f())}}function a(){r.notify()}function u(){h.onStateChange&&h.onStateChange()}function c(){return i}function l(){s++,n||(n=t?t.addNestedSub(u):e.subscribe(u),r=Iw())}function f(){s--,n&&s===0&&(n(),n=void 0,r.clear(),r=Zf)}function d(){i||(i=!0,l())}function p(){i&&(i=!1,f())}const h={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:u,isSubscribed:c,trySubscribe:d,tryUnsubscribe:p,getListeners:()=>r};return h}var Rw=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Nw=Rw(),Lw=()=>typeof navigator<"u"&&navigator.product==="ReactNative",xw=Lw(),Mw=()=>Nw||xw?m.useLayoutEffect:m.useEffect,No=Mw();function Jf(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Va(e,t){if(Jf(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(!Object.prototype.hasOwnProperty.call(t,n[s])||!Jf(e[n[s]],t[n[s]]))return!1;return!0}var Pw={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Fw={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Uw={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},mm={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},kw={[mw]:Uw,[_w]:mm};function ed(e){return vw(e)?mm:kw[e.$$typeof]||Pw}var Dw=Object.defineProperty,qw=Object.getOwnPropertyNames,td=Object.getOwnPropertySymbols,$w=Object.getOwnPropertyDescriptor,jw=Object.getPrototypeOf,nd=Object.prototype;function cc(e,t){if(typeof t!="string"){if(nd){const i=jw(t);i&&i!==nd&&cc(e,i)}let n=qw(t);td&&(n=n.concat(td(t)));const r=ed(e),s=ed(t);for(let i=0;i<n.length;++i){const o=n[i];if(!Fw[o]&&!(s&&s[o])&&!(r&&r[o])){const a=$w(t,o);try{Dw(e,o,a)}catch{}}}}return e}var Ga=Symbol.for("react-redux-context"),Ka=typeof globalThis<"u"?globalThis:{};function Hw(){if(!m.createContext)return{};const e=Ka[Ga]??(Ka[Ga]=new Map);let t=e.get(m.createContext);return t||(t=m.createContext(null),e.set(m.createContext,t)),t}var Mn=Hw(),Bw=[null,null];function zw(e,t,n){No(()=>e(...t),n)}function Ww(e,t,n,r,s,i){e.current=r,n.current=!1,s.current&&(s.current=null,i())}function Vw(e,t,n,r,s,i,o,a,u,c,l){if(!e)return()=>{};let f=!1,d=null;const p=()=>{if(f||!a.current)return;const _=t.getState();let g,v;try{g=r(_,s.current)}catch(y){v=y,d=y}v||(d=null),g===i.current?o.current||c():(i.current=g,u.current=g,o.current=!0,l())};return n.onStateChange=p,n.trySubscribe(),p(),()=>{if(f=!0,n.tryUnsubscribe(),n.onStateChange=null,d)throw d}}function Gw(e,t){return e===t}function Kw(e,t,n,{pure:r,areStatesEqual:s=Gw,areOwnPropsEqual:i=Va,areStatePropsEqual:o=Va,areMergedPropsEqual:a=Va,forwardRef:u=!1,context:c=Mn}={}){const l=c,f=Tw(e),d=ww(t),p=Cw(n),h=!!e;return g=>{const v=g.displayName||g.name||"Component",y=`Connect(${v})`,S={shouldHandleStateChanges:h,displayName:y,wrappedComponentName:v,WrappedComponent:g,initMapStateToProps:f,initMapDispatchToProps:d,initMergeProps:p,areStatesEqual:s,areStatePropsEqual:o,areOwnPropsEqual:i,areMergedPropsEqual:a};function b(x){const[z,j,H]=m.useMemo(()=>{const{reactReduxForwardedRef:Se,...oe}=x;return[x.context,Se,oe]},[x]),K=m.useMemo(()=>{let Se=l;return z!=null&&z.Consumer,Se},[z,l]),V=m.useContext(K),Y=!!x.store&&!!x.store.getState&&!!x.store.dispatch,B=!!V&&!!V.store,w=Y?x.store:V.store,A=B?V.getServerState:w.getState,I=m.useMemo(()=>Sw(w.dispatch,S),[w]),[U,M]=m.useMemo(()=>{if(!h)return Bw;const Se=hm(w,Y?void 0:V.subscription),oe=Se.notifyNestedSubs.bind(Se);return[Se,oe]},[w,Y,V]),Q=m.useMemo(()=>Y?V:{...V,subscription:U},[Y,V,U]),L=m.useRef(void 0),se=m.useRef(H),we=m.useRef(void 0),ue=m.useRef(!1),W=m.useRef(!1),ge=m.useRef(void 0);No(()=>(W.current=!0,()=>{W.current=!1}),[]);const C=m.useMemo(()=>()=>we.current&&H===se.current?we.current:I(w.getState(),H),[w,H]),ye=m.useMemo(()=>oe=>U?Vw(h,w,U,I,se,L,ue,W,we,M,oe):()=>{},[U]);zw(Ww,[se,L,ue,H,we,M]);let ve;try{ve=m.useSyncExternalStore(ye,C,A?()=>I(A(),H):C)}catch(Se){throw ge.current&&(Se.message+=`
The error may be correlated with this previous error:
${ge.current.stack}

`),Se}No(()=>{ge.current=void 0,we.current=void 0,L.current=ve});const xe=m.useMemo(()=>m.createElement(g,{...ve,ref:j}),[j,g,ve]);return m.useMemo(()=>h?m.createElement(K.Provider,{value:Q},xe):xe,[K,xe,Q])}const N=m.memo(b);if(N.WrappedComponent=g,N.displayName=b.displayName=y,u){const z=m.forwardRef(function(H,K){return m.createElement(N,{...H,reactReduxForwardedRef:K})});return z.displayName=y,z.WrappedComponent=g,cc(z,g)}return cc(N,g)}}var gU=Kw;function Qw(e){const{children:t,context:n,serverState:r,store:s}=e,i=m.useMemo(()=>{const u=hm(s);return{store:s,subscription:u,getServerState:r?()=>r:void 0}},[s,r]),o=m.useMemo(()=>s.getState(),[s]);No(()=>{const{subscription:u}=i;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),o!==s.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[i,o]);const a=n||Mn;return m.createElement(a.Provider,{value:i},t)}var vU=Qw;function sl(e=Mn){return function(){return m.useContext(e)}}var _m=sl();function gm(e=Mn){const t=e===Mn?_m:sl(e),n=()=>{const{store:r}=t();return r};return Object.assign(n,{withTypes:()=>n}),n}var Xw=gm();function Yw(e=Mn){const t=e===Mn?Xw:gm(e),n=()=>t().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var Zw=Yw(),Jw=(e,t)=>e===t;function eT(e=Mn){const t=e===Mn?_m:sl(e),n=(r,s={})=>{const{equalityFn:i=Jw}=typeof s=="function"?{equalityFn:s}:s,o=t(),{store:a,subscription:u,getServerState:c}=o;m.useRef(!0);const l=m.useCallback({[r.name](d){return r(d)}}[r.name],[r]),f=rw.useSyncExternalStoreWithSelector(u.addNestedSub,a.getState,c||a.getState,l,i);return m.useDebugValue(f),f};return Object.assign(n,{withTypes:()=>n}),n}var tT=eT();const yU=Zw.withTypes(),SU=tT.withTypes(),It=lm.withTypes(),EU=Jo.withTypes(),nT=lm.withTypes();function rT(e,t,n={}){return nT(e,async(r,{getState:s,dispatch:i,fulfillWithValue:o,rejectWithValue:a})=>{try{const u=await t(r,{dispatch:i,getState:s});return o(u,{useLoadingBar:n.useLoadingBar})}catch(u){return a({error:u},{useLoadingBar:n.useLoadingBar})}},{getPendingMeta(){return n.useLoadingBar?{useLoadingBar:!0}:{}},condition:n.condition})}const rd=Symbol("discardLoadDataInPayload");function ce(e,t,n,r){let s,i;return typeof n=="function"?s=n:typeof n=="object"&&(i=n),r&&(i=r),rT(e,async(o,{getState:a,dispatch:u})=>{const c=await t(o,{dispatch:u,getState:a});if(!s)return c;const l=await s(c,{dispatch:u,getState:a,discardLoadData:rd,actionArg:o});return typeof l>"u"?c:l===rd?void 0:l},{useLoadingBar:(i==null?void 0:i.useLoadingBar)??!0,condition:i==null?void 0:i.condition})}/*!
 * escape-html
 * Copyright(c) 2012-2013 TJ Holowaychuk
 * Copyright(c) 2015 Andreas Lubbe
 * Copyright(c) 2015 Tiancheng "Timothy" Gu
 * MIT Licensed
 */var Qa,sd;function sT(){if(sd)return Qa;sd=1;var e=/["'&<>]/;Qa=t;function t(n){var r=""+n,s=e.exec(r);if(!s)return r;var i,o="",a=0,u=0;for(a=s.index;a<r.length;a++){switch(r.charCodeAt(a)){case 34:i="&quot;";break;case 38:i="&amp;";break;case 39:i="&#39;";break;case 60:i="&lt;";break;case 62:i="&gt;";break;default:continue}u!==a&&(o+=r.substring(u,a)),u=a+1,o+=i}return u!==a?o+r.substring(u,a):o}return Qa}var iT=sT();const ts=Jr(iT);var bi="delete",Ae=5,$t=1<<Ae,ct=$t-1,ae={};function lc(){return{value:!1}}function jt(e){e&&(e.value=!0)}function il(){}function Hr(e){return e.size===void 0&&(e.size=e.__iterate(vm)),e.size}function Xn(e,t){if(typeof t!="number"){var n=t>>>0;if(""+n!==t||n===4294967295)return NaN;t=n}return t<0?Hr(e)+t:t}function vm(){return!0}function Oi(e,t,n){return(e===0&&!Sm(e)||n!==void 0&&e<=-n)&&(t===void 0||n!==void 0&&t>=n)}function ns(e,t){return ym(e,t,0)}function Ci(e,t){return ym(e,t,t)}function ym(e,t,n){return e===void 0?n:Sm(e)?t===1/0?t:Math.max(0,t+e)|0:t===void 0||t===e?e:Math.min(t,e)|0}function Sm(e){return e<0||e===0&&1/e===-1/0}var Em="@@__IMMUTABLE_ITERABLE__@@";function et(e){return!!(e&&e[Em])}var wm="@@__IMMUTABLE_KEYED__@@";function Oe(e){return!!(e&&e[wm])}var Tm="@@__IMMUTABLE_INDEXED__@@";function Ge(e){return!!(e&&e[Tm])}function rs(e){return Oe(e)||Ge(e)}var Ie=function(t){return et(t)?t:tt(t)},Kt=function(e){function t(n){return Oe(n)?n:tr(n)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Ie),br=function(e){function t(n){return Ge(n)?n:Qt(n)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Ie),ss=function(e){function t(n){return et(n)&&!rs(n)?n:as(n)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Ie);Ie.Keyed=Kt;Ie.Indexed=br;Ie.Set=ss;var bm="@@__IMMUTABLE_SEQ__@@";function Ai(e){return!!(e&&e[bm])}var Om="@@__IMMUTABLE_RECORD__@@";function er(e){return!!(e&&e[Om])}function Rt(e){return et(e)||er(e)}var is="@@__IMMUTABLE_ORDERED__@@";function bt(e){return!!(e&&e[is])}var Ii=0,sn=1,Bt=2,fc=typeof Symbol=="function"&&Symbol.iterator,Cm="@@iterator",ta=fc||Cm,pe=function(t){this.next=t};pe.prototype.toString=function(){return"[Iterator]"};pe.KEYS=Ii;pe.VALUES=sn;pe.ENTRIES=Bt;pe.prototype.inspect=pe.prototype.toSource=function(){return this.toString()};pe.prototype[ta]=function(){return this};function Re(e,t,n,r){var s=e===0?t:e===1?n:[t,n];return r?r.value=s:r={value:s,done:!1},r}function lt(){return{value:void 0,done:!0}}function ol(e){return Array.isArray(e)?!0:!!na(e)}function id(e){return e&&typeof e.next=="function"}function dc(e){var t=na(e);return t&&t.call(e)}function na(e){var t=e&&(fc&&e[fc]||e[Cm]);if(typeof t=="function")return t}function oT(e){var t=na(e);return t&&t===e.entries}function aT(e){var t=na(e);return t&&t===e.keys}var os=Object.prototype.hasOwnProperty;function al(e){return Array.isArray(e)||typeof e=="string"?!0:e&&typeof e=="object"&&Number.isInteger(e.length)&&e.length>=0&&(e.length===0?Object.keys(e).length===1:e.hasOwnProperty(e.length-1))}var tt=function(e){function t(n){return n==null?cl():Rt(n)?n.toSeq():cT(n)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toSeq=function(){return this},t.prototype.toString=function(){return this.__toString("Seq {","}")},t.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},t.prototype.__iterate=function(r,s){var i=this._cache;if(i){for(var o=i.length,a=0;a!==o;){var u=i[s?o-++a:a++];if(r(u[1],u[0],this)===!1)break}return a}return this.__iterateUncached(r,s)},t.prototype.__iterator=function(r,s){var i=this._cache;if(i){var o=i.length,a=0;return new pe(function(){if(a===o)return lt();var u=i[s?o-++a:a++];return Re(r,u[0],u[1])})}return this.__iteratorUncached(r,s)},t}(Ie),tr=function(e){function t(n){return n==null?cl().toKeyedSeq():et(n)?Oe(n)?n.toSeq():n.fromEntrySeq():er(n)?n.toSeq():ll(n)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toKeyedSeq=function(){return this},t}(tt),Qt=function(e){function t(n){return n==null?cl():et(n)?Oe(n)?n.entrySeq():n.toIndexedSeq():er(n)?n.toSeq().entrySeq():Am(n)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return t(arguments)},t.prototype.toIndexedSeq=function(){return this},t.prototype.toString=function(){return this.__toString("Seq [","]")},t}(tt),as=function(e){function t(n){return(et(n)&&!rs(n)?n:Qt(n)).toSetSeq()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return t(arguments)},t.prototype.toSetSeq=function(){return this},t}(tt);tt.isSeq=Ai;tt.Keyed=tr;tt.Set=as;tt.Indexed=Qt;tt.prototype[bm]=!0;var wr=function(e){function t(n){this._array=n,this.size=n.length}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(r,s){return this.has(r)?this._array[Xn(this,r)]:s},t.prototype.__iterate=function(r,s){for(var i=this._array,o=i.length,a=0;a!==o;){var u=s?o-++a:a++;if(r(i[u],u,this)===!1)break}return a},t.prototype.__iterator=function(r,s){var i=this._array,o=i.length,a=0;return new pe(function(){if(a===o)return lt();var u=s?o-++a:a++;return Re(r,u,i[u])})},t}(Qt),ul=function(e){function t(n){var r=Object.keys(n).concat(Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(n):[]);this._object=n,this._keys=r,this.size=r.length}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(r,s){return s!==void 0&&!this.has(r)?s:this._object[r]},t.prototype.has=function(r){return os.call(this._object,r)},t.prototype.__iterate=function(r,s){for(var i=this._object,o=this._keys,a=o.length,u=0;u!==a;){var c=o[s?a-++u:u++];if(r(i[c],c,this)===!1)break}return u},t.prototype.__iterator=function(r,s){var i=this._object,o=this._keys,a=o.length,u=0;return new pe(function(){if(u===a)return lt();var c=o[s?a-++u:u++];return Re(r,c,i[c])})},t}(tr);ul.prototype[is]=!0;var uT=function(e){function t(n){this._collection=n,this.size=n.length||n.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.__iterateUncached=function(r,s){if(s)return this.cacheResult().__iterate(r,s);var i=this._collection,o=dc(i),a=0;if(id(o))for(var u;!(u=o.next()).done&&r(u.value,a++,this)!==!1;);return a},t.prototype.__iteratorUncached=function(r,s){if(s)return this.cacheResult().__iterator(r,s);var i=this._collection,o=dc(i);if(!id(o))return new pe(lt);var a=0;return new pe(function(){var u=o.next();return u.done?u:Re(r,a++,u.value)})},t}(Qt),od;function cl(){return od||(od=new wr([]))}function ll(e){var t=fl(e);if(t)return t.fromEntrySeq();if(typeof e=="object")return new ul(e);throw new TypeError("Expected Array or collection object of [k, v] entries, or keyed object: "+e)}function Am(e){var t=fl(e);if(t)return t;throw new TypeError("Expected Array or collection object of values: "+e)}function cT(e){var t=fl(e);if(t)return oT(e)?t.fromEntrySeq():aT(e)?t.toSetSeq():t;if(typeof e=="object")return new ul(e);throw new TypeError("Expected Array or collection object of values, or keyed object: "+e)}function fl(e){return al(e)?new wr(e):ol(e)?new uT(e):void 0}var Im="@@__IMMUTABLE_MAP__@@";function Ri(e){return!!(e&&e[Im])}function ra(e){return Ri(e)&&bt(e)}function Lo(e){return!!(e&&typeof e.equals=="function"&&typeof e.hashCode=="function")}function Me(e,t){if(e===t||e!==e&&t!==t)return!0;if(!e||!t)return!1;if(typeof e.valueOf=="function"&&typeof t.valueOf=="function"){if(e=e.valueOf(),t=t.valueOf(),e===t||e!==e&&t!==t)return!0;if(!e||!t)return!1}return!!(Lo(e)&&Lo(t)&&e.equals(t))}var Cs=typeof Math.imul=="function"&&Math.imul(4294967295,2)===-2?Math.imul:function(t,n){t|=0,n|=0;var r=t&65535,s=n&65535;return r*s+((t>>>16)*s+r*(n>>>16)<<16>>>0)|0};function sa(e){return e>>>1&1073741824|e&3221225471}var lT=Object.prototype.valueOf;function it(e){if(e==null)return ad(e);if(typeof e.hashCode=="function")return sa(e.hashCode(e));var t=_T(e);if(t==null)return ad(t);switch(typeof t){case"boolean":return t?1108378657:1108378656;case"number":return fT(t);case"string":return t.length>gT?dT(t):pc(t);case"object":case"function":return hT(t);case"symbol":return pT(t);default:if(typeof t.toString=="function")return pc(t.toString());throw new Error("Value type "+typeof t+" cannot be hashed.")}}function ad(e){return e===null?1108378658:1108378659}function fT(e){if(e!==e||e===1/0)return 0;var t=e|0;for(t!==e&&(t^=e*4294967295);e>4294967295;)e/=4294967295,t^=e;return sa(t)}function dT(e){var t=Za[e];return t===void 0&&(t=pc(e),Ya===vT&&(Ya=0,Za={}),Ya++,Za[e]=t),t}function pc(e){for(var t=0,n=0;n<e.length;n++)t=31*t+e.charCodeAt(n)|0;return sa(t)}function pT(e){var t=ld[e];return t!==void 0||(t=Rm(),ld[e]=t),t}function hT(e){var t;if(hc&&(t=mc.get(e),t!==void 0)||(t=e[dr],t!==void 0)||!cd&&(t=e.propertyIsEnumerable&&e.propertyIsEnumerable[dr],t!==void 0||(t=mT(e),t!==void 0)))return t;if(t=Rm(),hc)mc.set(e,t);else{if(ud!==void 0&&ud(e)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(cd)Object.defineProperty(e,dr,{enumerable:!1,configurable:!1,writable:!1,value:t});else if(e.propertyIsEnumerable!==void 0&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable)e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},e.propertyIsEnumerable[dr]=t;else if(e.nodeType!==void 0)e[dr]=t;else throw new Error("Unable to set a non-enumerable property on object.")}return t}var ud=Object.isExtensible,cd=function(){try{return Object.defineProperty({},"@",{}),!0}catch{return!1}}();function mT(e){if(e&&e.nodeType>0)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}function _T(e){return e.valueOf!==lT&&typeof e.valueOf=="function"?e.valueOf(e):e}function Rm(){var e=++Xa;return Xa&1073741824&&(Xa=0),e}var hc=typeof WeakMap=="function",mc;hc&&(mc=new WeakMap);var ld=Object.create(null),Xa=0,dr="__immutablehash__";typeof Symbol=="function"&&(dr=Symbol(dr));var gT=16,vT=255,Ya=0,Za={},ia=function(e){function t(n,r){this._iter=n,this._useKeys=r,this.size=n.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(r,s){return this._iter.get(r,s)},t.prototype.has=function(r){return this._iter.has(r)},t.prototype.valueSeq=function(){return this._iter.valueSeq()},t.prototype.reverse=function(){var r=this,s=dl(this,!0);return this._useKeys||(s.valueSeq=function(){return r._iter.toSeq().reverse()}),s},t.prototype.map=function(r,s){var i=this,o=Pm(this,r,s);return this._useKeys||(o.valueSeq=function(){return i._iter.toSeq().map(r,s)}),o},t.prototype.__iterate=function(r,s){var i=this;return this._iter.__iterate(function(o,a){return r(o,a,i)},s)},t.prototype.__iterator=function(r,s){return this._iter.__iterator(r,s)},t}(tr);ia.prototype[is]=!0;var Nm=function(e){function t(n){this._iter=n,this.size=n.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.includes=function(r){return this._iter.includes(r)},t.prototype.__iterate=function(r,s){var i=this,o=0;return s&&Hr(this),this._iter.__iterate(function(a){return r(a,s?i.size-++o:o++,i)},s)},t.prototype.__iterator=function(r,s){var i=this,o=this._iter.__iterator(sn,s),a=0;return s&&Hr(this),new pe(function(){var u=o.next();return u.done?u:Re(r,s?i.size-++a:a++,u.value,u)})},t}(Qt),Lm=function(e){function t(n){this._iter=n,this.size=n.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.has=function(r){return this._iter.includes(r)},t.prototype.__iterate=function(r,s){var i=this;return this._iter.__iterate(function(o){return r(o,o,i)},s)},t.prototype.__iterator=function(r,s){var i=this._iter.__iterator(sn,s);return new pe(function(){var o=i.next();return o.done?o:Re(r,o.value,o.value,o)})},t}(as),xm=function(e){function t(n){this._iter=n,this.size=n.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.entrySeq=function(){return this._iter.toSeq()},t.prototype.__iterate=function(r,s){var i=this;return this._iter.__iterate(function(o){if(o){dd(o);var a=et(o);return r(a?o.get(1):o[1],a?o.get(0):o[0],i)}},s)},t.prototype.__iterator=function(r,s){var i=this._iter.__iterator(sn,s);return new pe(function(){for(;;){var o=i.next();if(o.done)return o;var a=o.value;if(a){dd(a);var u=et(a);return Re(r,u?a.get(0):a[0],u?a.get(1):a[1],o)}}})},t}(tr);Nm.prototype.cacheResult=ia.prototype.cacheResult=Lm.prototype.cacheResult=xm.prototype.cacheResult=ml;function Mm(e){var t=yn(e);return t._iter=e,t.size=e.size,t.flip=function(){return e},t.reverse=function(){var n=e.reverse.apply(this);return n.flip=function(){return e.reverse()},n},t.has=function(n){return e.includes(n)},t.includes=function(n){return e.has(n)},t.cacheResult=ml,t.__iterateUncached=function(n,r){var s=this;return e.__iterate(function(i,o){return n(o,i,s)!==!1},r)},t.__iteratorUncached=function(n,r){if(n===Bt){var s=e.__iterator(n,r);return new pe(function(){var i=s.next();if(!i.done){var o=i.value[0];i.value[0]=i.value[1],i.value[1]=o}return i})}return e.__iterator(n===sn?Ii:sn,r)},t}function Pm(e,t,n){var r=yn(e);return r.size=e.size,r.has=function(s){return e.has(s)},r.get=function(s,i){var o=e.get(s,ae);return o===ae?i:t.call(n,o,s,e)},r.__iterateUncached=function(s,i){var o=this;return e.__iterate(function(a,u,c){return s(t.call(n,a,u,c),u,o)!==!1},i)},r.__iteratorUncached=function(s,i){var o=e.__iterator(Bt,i);return new pe(function(){var a=o.next();if(a.done)return a;var u=a.value,c=u[0];return Re(s,c,t.call(n,u[1],c,e),a)})},r}function dl(e,t){var n=this,r=yn(e);return r._iter=e,r.size=e.size,r.reverse=function(){return e},e.flip&&(r.flip=function(){var s=Mm(e);return s.reverse=function(){return e.flip()},s}),r.get=function(s,i){return e.get(t?s:-1-s,i)},r.has=function(s){return e.has(t?s:-1-s)},r.includes=function(s){return e.includes(s)},r.cacheResult=ml,r.__iterate=function(s,i){var o=this,a=0;return i&&Hr(e),e.__iterate(function(u,c){return s(u,t?c:i?o.size-++a:a++,o)},!i)},r.__iterator=function(s,i){var o=0;i&&Hr(e);var a=e.__iterator(Bt,!i);return new pe(function(){var u=a.next();if(u.done)return u;var c=u.value;return Re(s,t?c[0]:i?n.size-++o:o++,c[1],u)})},r}function Fm(e,t,n,r){var s=yn(e);return r&&(s.has=function(i){var o=e.get(i,ae);return o!==ae&&!!t.call(n,o,i,e)},s.get=function(i,o){var a=e.get(i,ae);return a!==ae&&t.call(n,a,i,e)?a:o}),s.__iterateUncached=function(i,o){var a=this,u=0;return e.__iterate(function(c,l,f){if(t.call(n,c,l,f))return u++,i(c,r?l:u-1,a)},o),u},s.__iteratorUncached=function(i,o){var a=e.__iterator(Bt,o),u=0;return new pe(function(){for(;;){var c=a.next();if(c.done)return c;var l=c.value,f=l[0],d=l[1];if(t.call(n,d,f,e))return Re(i,r?f:u++,d,c)}})},s}function yT(e,t,n){var r=q().asMutable();return e.__iterate(function(s,i){r.update(t.call(n,s,i,e),0,function(o){return o+1})}),r.asImmutable()}function ST(e,t,n){var r=Oe(e),s=(bt(e)?on():q()).asMutable();e.__iterate(function(o,a){s.update(t.call(n,o,a,e),function(u){return u=u||[],u.push(r?[a,o]:o),u})});var i=hl(e);return s.map(function(o){return be(e,i(o))}).asImmutable()}function ET(e,t,n){var r=Oe(e),s=[[],[]];e.__iterate(function(o,a){s[t.call(n,o,a,e)?1:0].push(r?[a,o]:o)});var i=hl(e);return s.map(function(o){return be(e,i(o))})}function pl(e,t,n,r){var s=e.size;if(Oi(t,n,s))return e;if(typeof s>"u"&&(t<0||n<0))return pl(e.toSeq().cacheResult(),t,n,r);var i=ns(t,s),o=Ci(n,s),a=o-i,u;a===a&&(u=a<0?0:a);var c=yn(e);return c.size=u===0?u:e.size&&u||void 0,!r&&Ai(e)&&u>=0&&(c.get=function(l,f){return l=Xn(this,l),l>=0&&l<u?e.get(l+i,f):f}),c.__iterateUncached=function(l,f){var d=this;if(u===0)return 0;if(f)return this.cacheResult().__iterate(l,f);var p=0,h=!0,_=0;return e.__iterate(function(g,v){if(!(h&&(h=p++<i)))return _++,l(g,r?v:_-1,d)!==!1&&_!==u}),_},c.__iteratorUncached=function(l,f){if(u!==0&&f)return this.cacheResult().__iterator(l,f);if(u===0)return new pe(lt);var d=e.__iterator(l,f),p=0,h=0;return new pe(function(){for(;p++<i;)d.next();if(++h>u)return lt();var _=d.next();return r||l===sn||_.done?_:l===Ii?Re(l,h-1,void 0,_):Re(l,h-1,_.value[1],_)})},c}function wT(e,t,n){var r=yn(e);return r.__iterateUncached=function(s,i){var o=this;if(i)return this.cacheResult().__iterate(s,i);var a=0;return e.__iterate(function(u,c,l){return t.call(n,u,c,l)&&++a&&s(u,c,o)}),a},r.__iteratorUncached=function(s,i){var o=this;if(i)return this.cacheResult().__iterator(s,i);var a=e.__iterator(Bt,i),u=!0;return new pe(function(){if(!u)return lt();var c=a.next();if(c.done)return c;var l=c.value,f=l[0],d=l[1];return t.call(n,d,f,o)?s===Bt?c:Re(s,f,d,c):(u=!1,lt())})},r}function Um(e,t,n,r){var s=yn(e);return s.__iterateUncached=function(i,o){var a=this;if(o)return this.cacheResult().__iterate(i,o);var u=!0,c=0;return e.__iterate(function(l,f,d){if(!(u&&(u=t.call(n,l,f,d))))return c++,i(l,r?f:c-1,a)}),c},s.__iteratorUncached=function(i,o){var a=this;if(o)return this.cacheResult().__iterator(i,o);var u=e.__iterator(Bt,o),c=!0,l=0;return new pe(function(){var f,d,p;do{if(f=u.next(),f.done)return r||i===sn?f:i===Ii?Re(i,l++,void 0,f):Re(i,l++,f.value[1],f);var h=f.value;d=h[0],p=h[1],c&&(c=t.call(n,p,d,a))}while(c);return i===Bt?f:Re(i,d,p,f)})},s}function TT(e,t){var n=Oe(e),r=[e].concat(t).map(function(o){return et(o)?n&&(o=Kt(o)):o=n?ll(o):Am(Array.isArray(o)?o:[o]),o}).filter(function(o){return o.size!==0});if(r.length===0)return e;if(r.length===1){var s=r[0];if(s===e||n&&Oe(s)||Ge(e)&&Ge(s))return s}var i=new wr(r);return n?i=i.toKeyedSeq():Ge(e)||(i=i.toSetSeq()),i=i.flatten(!0),i.size=r.reduce(function(o,a){if(o!==void 0){var u=a.size;if(u!==void 0)return o+u}},0),i}function km(e,t,n){var r=yn(e);return r.__iterateUncached=function(s,i){if(i)return this.cacheResult().__iterate(s,i);var o=0,a=!1;function u(c,l){c.__iterate(function(f,d){return(!t||l<t)&&et(f)?u(f,l+1):(o++,s(f,n?d:o-1,r)===!1&&(a=!0)),!a},i)}return u(e,0),o},r.__iteratorUncached=function(s,i){if(i)return this.cacheResult().__iterator(s,i);var o=e.__iterator(s,i),a=[],u=0;return new pe(function(){for(;o;){var c=o.next();if(c.done!==!1){o=a.pop();continue}var l=c.value;if(s===Bt&&(l=l[1]),(!t||a.length<t)&&et(l))a.push(o),o=l.__iterator(s,i);else return n?c:Re(s,u++,l,c)}return lt()})},r}function bT(e,t,n){var r=hl(e);return e.toSeq().map(function(s,i){return r(t.call(n,s,i,e))}).flatten(!0)}function OT(e,t){var n=yn(e);return n.size=e.size&&e.size*2-1,n.__iterateUncached=function(r,s){var i=this,o=0;return e.__iterate(function(a){return(!o||r(t,o++,i)!==!1)&&r(a,o++,i)!==!1},s),o},n.__iteratorUncached=function(r,s){var i=e.__iterator(sn,s),o=0,a;return new pe(function(){return(!a||o%2)&&(a=i.next(),a.done)?a:o%2?Re(r,o++,t):Re(r,o++,a.value,a)})},n}function Br(e,t,n){t||(t=Dm);var r=Oe(e),s=0,i=e.toSeq().map(function(o,a){return[a,o,s++,n?n(o,a,e):o]}).valueSeq().toArray();return i.sort(function(o,a){return t(o[3],a[3])||o[2]-a[2]}).forEach(r?function(o,a){i[a].length=2}:function(o,a){i[a]=o[1]}),r?tr(i):Ge(e)?Qt(i):as(i)}function Ki(e,t,n){if(t||(t=Dm),n){var r=e.toSeq().map(function(s,i){return[s,n(s,i,e)]}).reduce(function(s,i){return fd(t,s[1],i[1])?i:s});return r&&r[0]}return e.reduce(function(s,i){return fd(t,s,i)?i:s})}function fd(e,t,n){var r=e(n,t);return r===0&&n!==t&&(n==null||n!==n)||r>0}function Qi(e,t,n,r){var s=yn(e),i=new wr(n).map(function(o){return o.size});return s.size=r?i.max():i.min(),s.__iterate=function(o,a){for(var u=this.__iterator(sn,a),c,l=0;!(c=u.next()).done&&o(c.value,l++,this)!==!1;);return l},s.__iteratorUncached=function(o,a){var u=n.map(function(f){return f=Ie(f),dc(a?f.reverse():f)}),c=0,l=!1;return new pe(function(){var f;return l||(f=u.map(function(d){return d.next()}),l=r?f.every(function(d){return d.done}):f.some(function(d){return d.done})),l?lt():Re(o,c++,t.apply(null,f.map(function(d){return d.value})))})},s}function be(e,t){return e===t?e:Ai(e)?t:e.constructor(t)}function dd(e){if(e!==Object(e))throw new TypeError("Expected [K, V] tuple: "+e)}function hl(e){return Oe(e)?Kt:Ge(e)?br:ss}function yn(e){return Object.create((Oe(e)?tr:Ge(e)?Qt:as).prototype)}function ml(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):tt.prototype.cacheResult.call(this)}function Dm(e,t){return e===void 0&&t===void 0?0:e===void 0?1:t===void 0?-1:e>t?1:e<t?-1:0}function mn(e,t){t=t||0;for(var n=Math.max(0,e.length-t),r=new Array(n),s=0;s<n;s++)r[s]=e[s+t];return r}function _l(e,t){if(!e)throw new Error(t)}function Tt(e){_l(e!==1/0,"Cannot perform this action with an infinite size.")}function qm(e){if(al(e)&&typeof e!="string")return e;if(bt(e))return e.toArray();throw new TypeError("Invalid keyPath: expected Ordered Collection or Array: "+e)}var CT=Object.prototype.toString;function oa(e){if(!e||typeof e!="object"||CT.call(e)!=="[object Object]")return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(var n=t,r=Object.getPrototypeOf(t);r!==null;)n=r,r=Object.getPrototypeOf(n);return n===t}function Yn(e){return typeof e=="object"&&(Rt(e)||Array.isArray(e)||oa(e))}function ii(e){try{return typeof e=="string"?JSON.stringify(e):String(e)}catch{return JSON.stringify(e)}}function gl(e,t){return Rt(e)?e.has(t):Yn(e)&&os.call(e,t)}function aa(e,t,n){return Rt(e)?e.get(t,n):gl(e,t)?typeof e.get=="function"?e.get(t):e[t]:n}function xo(e){if(Array.isArray(e))return mn(e);var t={};for(var n in e)os.call(e,n)&&(t[n]=e[n]);return t}function vl(e,t){if(!Yn(e))throw new TypeError("Cannot update non-data-structure value: "+e);if(Rt(e)){if(!e.remove)throw new TypeError("Cannot update immutable value without .remove() method: "+e);return e.remove(t)}if(!os.call(e,t))return e;var n=xo(e);return Array.isArray(n)?n.splice(t,1):delete n[t],n}function yl(e,t,n){if(!Yn(e))throw new TypeError("Cannot update non-data-structure value: "+e);if(Rt(e)){if(!e.set)throw new TypeError("Cannot update immutable value without .set() method: "+e);return e.set(t,n)}if(os.call(e,t)&&n===e[t])return e;var r=xo(e);return r[t]=n,r}function nr(e,t,n,r){r||(r=n,n=void 0);var s=$m(Rt(e),e,qm(t),0,n,r);return s===ae?n:s}function $m(e,t,n,r,s,i){var o=t===ae;if(r===n.length){var a=o?s:t,u=i(a);return u===a?t:u}if(!o&&!Yn(t))throw new TypeError("Cannot update within non-data-structure value in path ["+n.slice(0,r).map(ii)+"]: "+t);var c=n[r],l=o?ae:aa(t,c,ae),f=$m(l===ae?e:Rt(l),l,n,r+1,s,i);return f===l?t:f===ae?vl(t,c):yl(o?e?en():{}:t,c,f)}function Sl(e,t,n){return nr(e,t,ae,function(){return n})}function El(e,t){return Sl(this,e,t)}function wl(e,t){return nr(e,t,function(){return ae})}function Tl(e){return wl(this,e)}function ua(e,t,n,r){return nr(e,[t],n,r)}function bl(e,t,n){return arguments.length===1?e(this):ua(this,e,t,n)}function Ol(e,t,n){return nr(this,e,t,n)}function jm(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return Bm(this,e)}function Hm(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];if(typeof e!="function")throw new TypeError("Invalid merger function: "+e);return Bm(this,t,e)}function Bm(e,t,n){for(var r=[],s=0;s<t.length;s++){var i=Kt(t[s]);i.size!==0&&r.push(i)}return r.length===0?e:e.toSeq().size===0&&!e.__ownerID&&r.length===1?e.constructor(r[0]):e.withMutations(function(o){for(var a=n?function(c,l){ua(o,l,ae,function(f){return f===ae?c:n(f,c,l)})}:function(c,l){o.set(l,c)},u=0;u<r.length;u++)r[u].forEach(a)})}function zm(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];return Li(e,t)}function Wm(e,t){for(var n=[],r=arguments.length-2;r-- >0;)n[r]=arguments[r+2];return Li(t,n,e)}function Vm(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];return Ni(e,t)}function Gm(e,t){for(var n=[],r=arguments.length-2;r-- >0;)n[r]=arguments[r+2];return Ni(t,n,e)}function Ni(e,t,n){return Li(e,t,AT(n))}function Li(e,t,n){if(!Yn(e))throw new TypeError("Cannot merge into non-data-structure value: "+e);if(Rt(e))return typeof n=="function"&&e.mergeWith?e.mergeWith.apply(e,[n].concat(t)):e.merge?e.merge.apply(e,t):e.concat.apply(e,t);for(var r=Array.isArray(e),s=e,i=r?br:Kt,o=r?function(u){s===e&&(s=xo(s)),s.push(u)}:function(u,c){var l=os.call(s,c),f=l&&n?n(s[c],u,c):u;(!l||f!==s[c])&&(s===e&&(s=xo(s)),s[c]=f)},a=0;a<t.length;a++)i(t[a]).forEach(o);return s}function AT(e){function t(n,r,s){return Yn(n)&&Yn(r)&&IT(n,r)?Li(n,[r],t):e?e(n,r,s):r}return t}function IT(e,t){var n=tt(e),r=tt(t);return Ge(n)===Ge(r)&&Oe(n)===Oe(r)}function Km(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return Ni(this,e)}function Qm(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];return Ni(this,t,e)}function Cl(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];return nr(this,e,en(),function(r){return Li(r,t)})}function Al(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];return nr(this,e,en(),function(r){return Ni(r,t)})}function xi(e){var t=this.asMutable();return e(t),t.wasAltered()?t.__ensureOwner(this.__ownerID):this}function Mi(){return this.__ownerID?this:this.__ensureOwner(new il)}function Pi(){return this.__ensureOwner()}function Il(){return this.__altered}var q=function(e){function t(n){return n==null?en():Ri(n)&&!bt(n)?n:en().withMutations(function(r){var s=e(n);Tt(s.size),s.forEach(function(i,o){return r.set(o,i)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){for(var r=[],s=arguments.length;s--;)r[s]=arguments[s];return en().withMutations(function(i){for(var o=0;o<r.length;o+=2){if(o+1>=r.length)throw new Error("Missing value for key: "+r[o]);i.set(r[o],r[o+1])}})},t.prototype.toString=function(){return this.__toString("Map {","}")},t.prototype.get=function(r,s){return this._root?this._root.get(0,void 0,r,s):s},t.prototype.set=function(r,s){return md(this,r,s)},t.prototype.remove=function(r){return md(this,r,ae)},t.prototype.deleteAll=function(r){var s=Ie(r);return s.size===0?this:this.withMutations(function(i){s.forEach(function(o){return i.remove(o)})})},t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):en()},t.prototype.sort=function(r){return on(Br(this,r))},t.prototype.sortBy=function(r,s){return on(Br(this,s,r))},t.prototype.map=function(r,s){var i=this;return this.withMutations(function(o){o.forEach(function(a,u){o.set(u,r.call(s,a,u,i))})})},t.prototype.__iterator=function(r,s){return new RT(this,r,s)},t.prototype.__iterate=function(r,s){var i=this,o=0;return this._root&&this._root.iterate(function(a){return o++,r(a[1],a[0],i)},s),o},t.prototype.__ensureOwner=function(r){return r===this.__ownerID?this:r?Rl(this.size,this._root,r,this.__hash):this.size===0?en():(this.__ownerID=r,this.__altered=!1,this)},t}(Kt);q.isMap=Ri;var Ne=q.prototype;Ne[Im]=!0;Ne[bi]=Ne.remove;Ne.removeAll=Ne.deleteAll;Ne.setIn=El;Ne.removeIn=Ne.deleteIn=Tl;Ne.update=bl;Ne.updateIn=Ol;Ne.merge=Ne.concat=jm;Ne.mergeWith=Hm;Ne.mergeDeep=Km;Ne.mergeDeepWith=Qm;Ne.mergeIn=Cl;Ne.mergeDeepIn=Al;Ne.withMutations=xi;Ne.wasAltered=Il;Ne.asImmutable=Pi;Ne["@@transducer/init"]=Ne.asMutable=Mi;Ne["@@transducer/step"]=function(e,t){return e.set(t[0],t[1])};Ne["@@transducer/result"]=function(e){return e.asImmutable()};var oi=function(t,n){this.ownerID=t,this.entries=n};oi.prototype.get=function(t,n,r,s){for(var i=this.entries,o=0,a=i.length;o<a;o++)if(Me(r,i[o][0]))return i[o][1];return s};oi.prototype.update=function(t,n,r,s,i,o,a){for(var u=i===ae,c=this.entries,l=0,f=c.length;l<f&&!Me(s,c[l][0]);l++);var d=l<f;if(d?c[l][1]===i:u)return this;if(jt(a),(u||!d)&&jt(o),!(u&&c.length===1)){if(!d&&!u&&c.length>=FT)return NT(t,c,s,i);var p=t&&t===this.ownerID,h=p?c:mn(c);return d?u?l===f-1?h.pop():h[l]=h.pop():h[l]=[s,i]:h.push([s,i]),p?(this.entries=h,this):new oi(t,h)}};var zr=function(t,n,r){this.ownerID=t,this.bitmap=n,this.nodes=r};zr.prototype.get=function(t,n,r,s){n===void 0&&(n=it(r));var i=1<<((t===0?n:n>>>t)&ct),o=this.bitmap;return(o&i)===0?s:this.nodes[Xm(o&i-1)].get(t+Ae,n,r,s)};zr.prototype.update=function(t,n,r,s,i,o,a){r===void 0&&(r=it(s));var u=(n===0?r:r>>>n)&ct,c=1<<u,l=this.bitmap,f=(l&c)!==0;if(!f&&i===ae)return this;var d=Xm(l&c-1),p=this.nodes,h=f?p[d]:void 0,_=Nl(h,t,n+Ae,r,s,i,o,a);if(_===h)return this;if(!f&&_&&p.length>=UT)return xT(t,p,l,u,_);if(f&&!_&&p.length===2&&_d(p[d^1]))return p[d^1];if(f&&_&&p.length===1&&_d(_))return _;var g=t&&t===this.ownerID,v=f?_?l:l^c:l|c,y=f?_?Ym(p,d,_,g):PT(p,d,g):MT(p,d,_,g);return g?(this.bitmap=v,this.nodes=y,this):new zr(t,v,y)};var ai=function(t,n,r){this.ownerID=t,this.count=n,this.nodes=r};ai.prototype.get=function(t,n,r,s){n===void 0&&(n=it(r));var i=(t===0?n:n>>>t)&ct,o=this.nodes[i];return o?o.get(t+Ae,n,r,s):s};ai.prototype.update=function(t,n,r,s,i,o,a){r===void 0&&(r=it(s));var u=(n===0?r:r>>>n)&ct,c=i===ae,l=this.nodes,f=l[u];if(c&&!f)return this;var d=Nl(f,t,n+Ae,r,s,i,o,a);if(d===f)return this;var p=this.count;if(!f)p++;else if(!d&&(p--,p<kT))return LT(t,l,p,u);var h=t&&t===this.ownerID,_=Ym(l,u,d,h);return h?(this.count=p,this.nodes=_,this):new ai(t,p,_)};var Wr=function(t,n,r){this.ownerID=t,this.keyHash=n,this.entries=r};Wr.prototype.get=function(t,n,r,s){for(var i=this.entries,o=0,a=i.length;o<a;o++)if(Me(r,i[o][0]))return i[o][1];return s};Wr.prototype.update=function(t,n,r,s,i,o,a){r===void 0&&(r=it(s));var u=i===ae;if(r!==this.keyHash)return u?this:(jt(a),jt(o),Ll(this,t,n,r,[s,i]));for(var c=this.entries,l=0,f=c.length;l<f&&!Me(s,c[l][0]);l++);var d=l<f;if(d?c[l][1]===i:u)return this;if(jt(a),(u||!d)&&jt(o),u&&f===2)return new Pn(t,this.keyHash,c[l^1]);var p=t&&t===this.ownerID,h=p?c:mn(c);return d?u?l===f-1?h.pop():h[l]=h.pop():h[l]=[s,i]:h.push([s,i]),p?(this.entries=h,this):new Wr(t,this.keyHash,h)};var Pn=function(t,n,r){this.ownerID=t,this.keyHash=n,this.entry=r};Pn.prototype.get=function(t,n,r,s){return Me(r,this.entry[0])?this.entry[1]:s};Pn.prototype.update=function(t,n,r,s,i,o,a){var u=i===ae,c=Me(s,this.entry[0]);if(c?i===this.entry[1]:u)return this;if(jt(a),u){jt(o);return}return c?t&&t===this.ownerID?(this.entry[1]=i,this):new Pn(t,this.keyHash,[s,i]):(jt(o),Ll(this,t,n,it(s),[s,i]))};oi.prototype.iterate=Wr.prototype.iterate=function(e,t){for(var n=this.entries,r=0,s=n.length-1;r<=s;r++)if(e(n[t?s-r:r])===!1)return!1};zr.prototype.iterate=ai.prototype.iterate=function(e,t){for(var n=this.nodes,r=0,s=n.length-1;r<=s;r++){var i=n[t?s-r:r];if(i&&i.iterate(e,t)===!1)return!1}};Pn.prototype.iterate=function(e,t){return e(this.entry)};var RT=function(e){function t(n,r,s){this._type=r,this._reverse=s,this._stack=n._root&&pd(n._root)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.next=function(){for(var r=this._type,s=this._stack;s;){var i=s.node,o=s.index++,a=void 0;if(i.entry){if(o===0)return Ja(r,i.entry)}else if(i.entries){if(a=i.entries.length-1,o<=a)return Ja(r,i.entries[this._reverse?a-o:o])}else if(a=i.nodes.length-1,o<=a){var u=i.nodes[this._reverse?a-o:o];if(u){if(u.entry)return Ja(r,u.entry);s=this._stack=pd(u,s)}continue}s=this._stack=this._stack.__prev}return lt()},t}(pe);function Ja(e,t){return Re(e,t[0],t[1])}function pd(e,t){return{node:e,index:0,__prev:t}}function Rl(e,t,n,r){var s=Object.create(Ne);return s.size=e,s._root=t,s.__ownerID=n,s.__hash=r,s.__altered=!1,s}var hd;function en(){return hd||(hd=Rl(0))}function md(e,t,n){var r,s;if(e._root){var i=lc(),o=lc();if(r=Nl(e._root,e.__ownerID,0,void 0,t,n,i,o),!o.value)return e;s=e.size+(i.value?n===ae?-1:1:0)}else{if(n===ae)return e;s=1,r=new oi(e.__ownerID,[[t,n]])}return e.__ownerID?(e.size=s,e._root=r,e.__hash=void 0,e.__altered=!0,e):r?Rl(s,r):en()}function Nl(e,t,n,r,s,i,o,a){return e?e.update(t,n,r,s,i,o,a):i===ae?e:(jt(a),jt(o),new Pn(t,r,[s,i]))}function _d(e){return e.constructor===Pn||e.constructor===Wr}function Ll(e,t,n,r,s){if(e.keyHash===r)return new Wr(t,r,[e.entry,s]);var i=(n===0?e.keyHash:e.keyHash>>>n)&ct,o=(n===0?r:r>>>n)&ct,a,u=i===o?[Ll(e,t,n+Ae,r,s)]:(a=new Pn(t,r,s),i<o?[e,a]:[a,e]);return new zr(t,1<<i|1<<o,u)}function NT(e,t,n,r){e||(e=new il);for(var s=new Pn(e,it(n),[n,r]),i=0;i<t.length;i++){var o=t[i];s=s.update(e,0,void 0,o[0],o[1])}return s}function LT(e,t,n,r){for(var s=0,i=0,o=new Array(n),a=0,u=1,c=t.length;a<c;a++,u<<=1){var l=t[a];l!==void 0&&a!==r&&(s|=u,o[i++]=l)}return new zr(e,s,o)}function xT(e,t,n,r,s){for(var i=0,o=new Array($t),a=0;n!==0;a++,n>>>=1)o[a]=n&1?t[i++]:void 0;return o[r]=s,new ai(e,i+1,o)}function Xm(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),e=e+(e>>4)&252645135,e+=e>>8,e+=e>>16,e&127}function Ym(e,t,n,r){var s=r?e:mn(e);return s[t]=n,s}function MT(e,t,n,r){var s=e.length+1;if(r&&t+1===s)return e[t]=n,e;for(var i=new Array(s),o=0,a=0;a<s;a++)a===t?(i[a]=n,o=-1):i[a]=e[a+o];return i}function PT(e,t,n){var r=e.length-1;if(n&&t===r)return e.pop(),e;for(var s=new Array(r),i=0,o=0;o<r;o++)o===t&&(i=1),s[o]=e[o+i];return s}var FT=$t/4,UT=$t/2,kT=$t/4,Zm="@@__IMMUTABLE_LIST__@@";function Fi(e){return!!(e&&e[Zm])}var X=function(e){function t(n){var r=fo();if(n==null)return r;if(Fi(n))return n;var s=e(n),i=s.size;return i===0?r:(Tt(i),i>0&&i<$t?ui(0,i,Ae,null,new Qn(s.toArray())):r.withMutations(function(o){o.setSize(i),s.forEach(function(a,u){return o.set(u,a)})}))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("List [","]")},t.prototype.get=function(r,s){if(r=Xn(this,r),r>=0&&r<this.size){r+=this._origin;var i=Jm(this,r);return i&&i.array[r&ct]}return s},t.prototype.set=function(r,s){return DT(this,r,s)},t.prototype.remove=function(r){return this.has(r)?r===0?this.shift():r===this.size-1?this.pop():this.splice(r,1):this},t.prototype.insert=function(r,s){return this.splice(r,0,s)},t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=Ae,this._root=this._tail=this.__hash=void 0,this.__altered=!0,this):fo()},t.prototype.push=function(){var r=arguments,s=this.size;return this.withMutations(function(i){zn(i,0,s+r.length);for(var o=0;o<r.length;o++)i.set(s+o,r[o])})},t.prototype.pop=function(){return zn(this,0,-1)},t.prototype.unshift=function(){var r=arguments;return this.withMutations(function(s){zn(s,-r.length);for(var i=0;i<r.length;i++)s.set(i,r[i])})},t.prototype.shift=function(){return zn(this,1)},t.prototype.concat=function(){for(var r=arguments,s=[],i=0;i<arguments.length;i++){var o=r[i],a=e(typeof o!="string"&&ol(o)?o:[o]);a.size!==0&&s.push(a)}return s.length===0?this:this.size===0&&!this.__ownerID&&s.length===1?this.constructor(s[0]):this.withMutations(function(u){s.forEach(function(c){return c.forEach(function(l){return u.push(l)})})})},t.prototype.setSize=function(r){return zn(this,0,r)},t.prototype.map=function(r,s){var i=this;return this.withMutations(function(o){for(var a=0;a<i.size;a++)o.set(a,r.call(s,o.get(a),a,i))})},t.prototype.slice=function(r,s){var i=this.size;return Oi(r,s,i)?this:zn(this,ns(r,i),Ci(s,i))},t.prototype.__iterator=function(r,s){var i=s?this.size:0,o=gd(this,s);return new pe(function(){var a=o();return a===Bs?lt():Re(r,s?--i:i++,a)})},t.prototype.__iterate=function(r,s){for(var i=s?this.size:0,o=gd(this,s),a;(a=o())!==Bs&&r(a,s?--i:i++,this)!==!1;);return i},t.prototype.__ensureOwner=function(r){return r===this.__ownerID?this:r?ui(this._origin,this._capacity,this._level,this._root,this._tail,r,this.__hash):this.size===0?fo():(this.__ownerID=r,this.__altered=!1,this)},t}(br);X.isList=Fi;var De=X.prototype;De[Zm]=!0;De[bi]=De.remove;De.merge=De.concat;De.setIn=El;De.deleteIn=De.removeIn=Tl;De.update=bl;De.updateIn=Ol;De.mergeIn=Cl;De.mergeDeepIn=Al;De.withMutations=xi;De.wasAltered=Il;De.asImmutable=Pi;De["@@transducer/init"]=De.asMutable=Mi;De["@@transducer/step"]=function(e,t){return e.push(t)};De["@@transducer/result"]=function(e){return e.asImmutable()};var Qn=function(t,n){this.array=t,this.ownerID=n};Qn.prototype.removeBefore=function(t,n,r){if(r===n?1<<n:this.array.length===0)return this;var s=r>>>n&ct;if(s>=this.array.length)return new Qn([],t);var i=s===0,o;if(n>0){var a=this.array[s];if(o=a&&a.removeBefore(t,n-Ae,r),o===a&&i)return this}if(i&&!o)return this;var u=Vr(this,t);if(!i)for(var c=0;c<s;c++)u.array[c]=void 0;return o&&(u.array[s]=o),u};Qn.prototype.removeAfter=function(t,n,r){if(r===(n?1<<n:0)||this.array.length===0)return this;var s=r-1>>>n&ct;if(s>=this.array.length)return this;var i;if(n>0){var o=this.array[s];if(i=o&&o.removeAfter(t,n-Ae,r),i===o&&s===this.array.length-1)return this}var a=Vr(this,t);return a.array.splice(s+1),i&&(a.array[s]=i),a};var Bs={};function gd(e,t){var n=e._origin,r=e._capacity,s=ci(r),i=e._tail;return o(e._root,e._level,0);function o(c,l,f){return l===0?a(c,f):u(c,l,f)}function a(c,l){var f=l===s?i&&i.array:c&&c.array,d=l>n?0:n-l,p=r-l;return p>$t&&(p=$t),function(){if(d===p)return Bs;var h=t?--p:d++;return f&&f[h]}}function u(c,l,f){var d,p=c&&c.array,h=f>n?0:n-f>>l,_=(r-f>>l)+1;return _>$t&&(_=$t),function(){for(;;){if(d){var g=d();if(g!==Bs)return g;d=null}if(h===_)return Bs;var v=t?--_:h++;d=o(p&&p[v],l-Ae,f+(v<<l))}}}}function ui(e,t,n,r,s,i,o){var a=Object.create(De);return a.size=t-e,a._origin=e,a._capacity=t,a._level=n,a._root=r,a._tail=s,a.__ownerID=i,a.__hash=o,a.__altered=!1,a}var vd;function fo(){return vd||(vd=ui(0,0,Ae))}function DT(e,t,n){if(t=Xn(e,t),t!==t)return e;if(t>=e.size||t<0)return e.withMutations(function(o){t<0?zn(o,t).set(0,n):zn(o,0,t+1).set(t,n)});t+=e._origin;var r=e._tail,s=e._root,i=lc();return t>=ci(e._capacity)?r=_c(r,e.__ownerID,0,t,n,i):s=_c(s,e.__ownerID,e._level,t,n,i),i.value?e.__ownerID?(e._root=s,e._tail=r,e.__hash=void 0,e.__altered=!0,e):ui(e._origin,e._capacity,e._level,s,r):e}function _c(e,t,n,r,s,i){var o=r>>>n&ct,a=e&&o<e.array.length;if(!a&&s===void 0)return e;var u;if(n>0){var c=e&&e.array[o],l=_c(c,t,n-Ae,r,s,i);return l===c?e:(u=Vr(e,t),u.array[o]=l,u)}return a&&e.array[o]===s?e:(i&&jt(i),u=Vr(e,t),s===void 0&&o===u.array.length-1?u.array.pop():u.array[o]=s,u)}function Vr(e,t){return t&&e&&t===e.ownerID?e:new Qn(e?e.array.slice():[],t)}function Jm(e,t){if(t>=ci(e._capacity))return e._tail;if(t<1<<e._level+Ae){for(var n=e._root,r=e._level;n&&r>0;)n=n.array[t>>>r&ct],r-=Ae;return n}}function zn(e,t,n){t!==void 0&&(t|=0),n!==void 0&&(n|=0);var r=e.__ownerID||new il,s=e._origin,i=e._capacity,o=s+t,a=n===void 0?i:n<0?i+n:s+n;if(o===s&&a===i)return e;if(o>=a)return e.clear();for(var u=e._level,c=e._root,l=0;o+l<0;)c=new Qn(c&&c.array.length?[void 0,c]:[],r),u+=Ae,l+=1<<u;l&&(o+=l,s+=l,a+=l,i+=l);for(var f=ci(i),d=ci(a);d>=1<<u+Ae;)c=new Qn(c&&c.array.length?[c]:[],r),u+=Ae;var p=e._tail,h=d<f?Jm(e,a-1):d>f?new Qn([],r):p;if(p&&d>f&&o<i&&p.array.length){c=Vr(c,r);for(var _=c,g=u;g>Ae;g-=Ae){var v=f>>>g&ct;_=_.array[v]=Vr(_.array[v],r)}_.array[f>>>Ae&ct]=p}if(a<i&&(h=h&&h.removeAfter(r,0,a)),o>=d)o-=d,a-=d,u=Ae,c=null,h=h&&h.removeBefore(r,0,o);else if(o>s||d<f){for(l=0;c;){var y=o>>>u&ct;if(y!==d>>>u&ct)break;y&&(l+=(1<<u)*y),u-=Ae,c=c.array[y]}c&&o>s&&(c=c.removeBefore(r,u,o-l)),c&&d<f&&(c=c.removeAfter(r,u,d-l)),l&&(o-=l,a-=l)}return e.__ownerID?(e.size=a-o,e._origin=o,e._capacity=a,e._level=u,e._root=c,e._tail=h,e.__hash=void 0,e.__altered=!0,e):ui(o,a,u,c,h)}function ci(e){return e<$t?0:e-1>>>Ae<<Ae}var on=function(e){function t(n){return n==null?Ms():ra(n)?n:Ms().withMutations(function(r){var s=Kt(n);Tt(s.size),s.forEach(function(i,o){return r.set(o,i)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("OrderedMap {","}")},t.prototype.get=function(r,s){var i=this._map.get(r);return i!==void 0?this._list.get(i)[1]:s},t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this.__altered=!0,this):Ms()},t.prototype.set=function(r,s){return Sd(this,r,s)},t.prototype.remove=function(r){return Sd(this,r,ae)},t.prototype.__iterate=function(r,s){var i=this;return this._list.__iterate(function(o){return o&&r(o[1],o[0],i)},s)},t.prototype.__iterator=function(r,s){return this._list.fromEntrySeq().__iterator(r,s)},t.prototype.__ensureOwner=function(r){if(r===this.__ownerID)return this;var s=this._map.__ensureOwner(r),i=this._list.__ensureOwner(r);return r?xl(s,i,r,this.__hash):this.size===0?Ms():(this.__ownerID=r,this.__altered=!1,this._map=s,this._list=i,this)},t}(q);on.isOrderedMap=ra;on.prototype[is]=!0;on.prototype[bi]=on.prototype.remove;function xl(e,t,n,r){var s=Object.create(on.prototype);return s.size=e?e.size:0,s._map=e,s._list=t,s.__ownerID=n,s.__hash=r,s.__altered=!1,s}var yd;function Ms(){return yd||(yd=xl(en(),fo()))}function Sd(e,t,n){var r=e._map,s=e._list,i=r.get(t),o=i!==void 0,a,u;if(n===ae){if(!o)return e;s.size>=$t&&s.size>=r.size*2?(u=s.filter(function(c,l){return c!==void 0&&i!==l}),a=u.toKeyedSeq().map(function(c){return c[0]}).flip().toMap(),e.__ownerID&&(a.__ownerID=u.__ownerID=e.__ownerID)):(a=r.remove(t),u=i===s.size-1?s.pop():s.set(i,void 0))}else if(o){if(n===s.get(i)[1])return e;a=r,u=s.set(i,[t,n])}else a=r.set(t,s.size),u=s.set(s.size,[t,n]);return e.__ownerID?(e.size=a.size,e._map=a,e._list=u,e.__hash=void 0,e.__altered=!0,e):xl(a,u)}var e_="@@__IMMUTABLE_STACK__@@";function li(e){return!!(e&&e[e_])}var us=function(e){function t(n){return n==null?Xi():li(n)?n:Xi().pushAll(n)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("Stack [","]")},t.prototype.get=function(r,s){var i=this._head;for(r=Xn(this,r);i&&r--;)i=i.next;return i?i.value:s},t.prototype.peek=function(){return this._head&&this._head.value},t.prototype.push=function(){var r=arguments;if(arguments.length===0)return this;for(var s=this.size+arguments.length,i=this._head,o=arguments.length-1;o>=0;o--)i={value:r[o],next:i};return this.__ownerID?(this.size=s,this._head=i,this.__hash=void 0,this.__altered=!0,this):Ps(s,i)},t.prototype.pushAll=function(r){if(r=e(r),r.size===0)return this;if(this.size===0&&li(r))return r;Tt(r.size);var s=this.size,i=this._head;return r.__iterate(function(o){s++,i={value:o,next:i}},!0),this.__ownerID?(this.size=s,this._head=i,this.__hash=void 0,this.__altered=!0,this):Ps(s,i)},t.prototype.pop=function(){return this.slice(1)},t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Xi()},t.prototype.slice=function(r,s){if(Oi(r,s,this.size))return this;var i=ns(r,this.size),o=Ci(s,this.size);if(o!==this.size)return e.prototype.slice.call(this,r,s);for(var a=this.size-i,u=this._head;i--;)u=u.next;return this.__ownerID?(this.size=a,this._head=u,this.__hash=void 0,this.__altered=!0,this):Ps(a,u)},t.prototype.__ensureOwner=function(r){return r===this.__ownerID?this:r?Ps(this.size,this._head,r,this.__hash):this.size===0?Xi():(this.__ownerID=r,this.__altered=!1,this)},t.prototype.__iterate=function(r,s){var i=this;if(s)return new wr(this.toArray()).__iterate(function(u,c){return r(u,c,i)},s);for(var o=0,a=this._head;a&&r(a.value,o++,this)!==!1;)a=a.next;return o},t.prototype.__iterator=function(r,s){if(s)return new wr(this.toArray()).__iterator(r,s);var i=0,o=this._head;return new pe(function(){if(o){var a=o.value;return o=o.next,Re(r,i++,a)}return lt()})},t}(br);us.isStack=li;var ft=us.prototype;ft[e_]=!0;ft.shift=ft.pop;ft.unshift=ft.push;ft.unshiftAll=ft.pushAll;ft.withMutations=xi;ft.wasAltered=Il;ft.asImmutable=Pi;ft["@@transducer/init"]=ft.asMutable=Mi;ft["@@transducer/step"]=function(e,t){return e.unshift(t)};ft["@@transducer/result"]=function(e){return e.asImmutable()};function Ps(e,t,n,r){var s=Object.create(ft);return s.size=e,s._head=t,s.__ownerID=n,s.__hash=r,s.__altered=!1,s}var Ed;function Xi(){return Ed||(Ed=Ps(0))}var t_="@@__IMMUTABLE_SET__@@";function Ui(e){return!!(e&&e[t_])}function ca(e){return Ui(e)&&bt(e)}function Ml(e,t){if(e===t)return!0;if(!et(t)||e.size!==void 0&&t.size!==void 0&&e.size!==t.size||e.__hash!==void 0&&t.__hash!==void 0&&e.__hash!==t.__hash||Oe(e)!==Oe(t)||Ge(e)!==Ge(t)||bt(e)!==bt(t))return!1;if(e.size===0&&t.size===0)return!0;var n=!rs(e);if(bt(e)){var r=e.entries();return t.every(function(u,c){var l=r.next().value;return l&&Me(l[1],u)&&(n||Me(l[0],c))})&&r.next().done}var s=!1;if(e.size===void 0)if(t.size===void 0)typeof e.cacheResult=="function"&&e.cacheResult();else{s=!0;var i=e;e=t,t=i}var o=!0,a=t.__iterate(function(u,c){if(n?!e.has(u):s?!Me(u,e.get(c,ae)):!Me(e.get(c,ae),u))return o=!1,!1});return o&&e.size===a}function Or(e,t){var n=function(r){e.prototype[r]=t[r]};return Object.keys(t).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(n),e}function Mo(e){if(!e||typeof e!="object")return e;if(!et(e)){if(!Yn(e))return e;e=tt(e)}if(Oe(e)){var t={};return e.__iterate(function(r,s){t[s]=Mo(r)}),t}var n=[];return e.__iterate(function(r){n.push(Mo(r))}),n}var cs=function(e){function t(n){return n==null?Fs():Ui(n)&&!bt(n)?n:Fs().withMutations(function(r){var s=e(n);Tt(s.size),s.forEach(function(i){return r.add(i)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.fromKeys=function(r){return this(Kt(r).keySeq())},t.intersect=function(r){return r=Ie(r).toArray(),r.length?Xe.intersect.apply(t(r.pop()),r):Fs()},t.union=function(r){return r=Ie(r).toArray(),r.length?Xe.union.apply(t(r.pop()),r):Fs()},t.prototype.toString=function(){return this.__toString("Set {","}")},t.prototype.has=function(r){return this._map.has(r)},t.prototype.add=function(r){return Yi(this,this._map.set(r,r))},t.prototype.remove=function(r){return Yi(this,this._map.remove(r))},t.prototype.clear=function(){return Yi(this,this._map.clear())},t.prototype.map=function(r,s){var i=this,o=!1,a=Yi(this,this._map.mapEntries(function(u){var c=u[1],l=r.call(s,c,c,i);return l!==c&&(o=!0),[l,l]},s));return o?a:this},t.prototype.union=function(){for(var r=[],s=arguments.length;s--;)r[s]=arguments[s];return r=r.filter(function(i){return i.size!==0}),r.length===0?this:this.size===0&&!this.__ownerID&&r.length===1?this.constructor(r[0]):this.withMutations(function(i){for(var o=0;o<r.length;o++)typeof r[o]=="string"?i.add(r[o]):e(r[o]).forEach(function(a){return i.add(a)})})},t.prototype.intersect=function(){for(var r=[],s=arguments.length;s--;)r[s]=arguments[s];if(r.length===0)return this;r=r.map(function(o){return e(o)});var i=[];return this.forEach(function(o){r.every(function(a){return a.includes(o)})||i.push(o)}),this.withMutations(function(o){i.forEach(function(a){o.remove(a)})})},t.prototype.subtract=function(){for(var r=[],s=arguments.length;s--;)r[s]=arguments[s];if(r.length===0)return this;r=r.map(function(o){return e(o)});var i=[];return this.forEach(function(o){r.some(function(a){return a.includes(o)})&&i.push(o)}),this.withMutations(function(o){i.forEach(function(a){o.remove(a)})})},t.prototype.sort=function(r){return Je(Br(this,r))},t.prototype.sortBy=function(r,s){return Je(Br(this,s,r))},t.prototype.wasAltered=function(){return this._map.wasAltered()},t.prototype.__iterate=function(r,s){var i=this;return this._map.__iterate(function(o){return r(o,o,i)},s)},t.prototype.__iterator=function(r,s){return this._map.__iterator(r,s)},t.prototype.__ensureOwner=function(r){if(r===this.__ownerID)return this;var s=this._map.__ensureOwner(r);return r?this.__make(s,r):this.size===0?this.__empty():(this.__ownerID=r,this._map=s,this)},t}(ss);cs.isSet=Ui;var Xe=cs.prototype;Xe[t_]=!0;Xe[bi]=Xe.remove;Xe.merge=Xe.concat=Xe.union;Xe.withMutations=xi;Xe.asImmutable=Pi;Xe["@@transducer/init"]=Xe.asMutable=Mi;Xe["@@transducer/step"]=function(e,t){return e.add(t)};Xe["@@transducer/result"]=function(e){return e.asImmutable()};Xe.__empty=Fs;Xe.__make=n_;function Yi(e,t){return e.__ownerID?(e.size=t.size,e._map=t,e):t===e._map?e:t.size===0?e.__empty():e.__make(t)}function n_(e,t){var n=Object.create(Xe);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}var wd;function Fs(){return wd||(wd=n_(en()))}var Pl=function(e){function t(n,r,s){if(!(this instanceof t))return new t(n,r,s);if(_l(s!==0,"Cannot step a Range by 0"),n=n||0,r===void 0&&(r=1/0),s=s===void 0?1:Math.abs(s),r<n&&(s=-s),this._start=n,this._end=r,this._step=s,this.size=Math.max(0,Math.ceil((r-n)/s-1)+1),this.size===0){if(eu)return eu;eu=this}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return this.size===0?"Range []":"Range [ "+this._start+"..."+this._end+(this._step!==1?" by "+this._step:"")+" ]"},t.prototype.get=function(r,s){return this.has(r)?this._start+Xn(this,r)*this._step:s},t.prototype.includes=function(r){var s=(r-this._start)/this._step;return s>=0&&s<this.size&&s===Math.floor(s)},t.prototype.slice=function(r,s){return Oi(r,s,this.size)?this:(r=ns(r,this.size),s=Ci(s,this.size),s<=r?new t(0,0):new t(this.get(r,this._end),this.get(s,this._end),this._step))},t.prototype.indexOf=function(r){var s=r-this._start;if(s%this._step===0){var i=s/this._step;if(i>=0&&i<this.size)return i}return-1},t.prototype.lastIndexOf=function(r){return this.indexOf(r)},t.prototype.__iterate=function(r,s){for(var i=this.size,o=this._step,a=s?this._start+(i-1)*o:this._start,u=0;u!==i&&r(a,s?i-++u:u++,this)!==!1;)a+=s?-o:o;return u},t.prototype.__iterator=function(r,s){var i=this.size,o=this._step,a=s?this._start+(i-1)*o:this._start,u=0;return new pe(function(){if(u===i)return lt();var c=a;return a+=s?-o:o,Re(r,s?i-++u:u++,c)})},t.prototype.equals=function(r){return r instanceof t?this._start===r._start&&this._end===r._end&&this._step===r._step:Ml(this,r)},t}(Qt),eu;function la(e,t,n){for(var r=qm(t),s=0;s!==r.length;)if(e=aa(e,r[s++],ae),e===ae)return n;return e}function r_(e,t){return la(this,e,t)}function Fl(e,t){return la(e,t,ae)!==ae}function qT(e){return Fl(this,e)}function s_(){Tt(this.size);var e={};return this.__iterate(function(t,n){e[n]=t}),e}Ie.isIterable=et;Ie.isKeyed=Oe;Ie.isIndexed=Ge;Ie.isAssociative=rs;Ie.isOrdered=bt;Ie.Iterator=pe;Or(Ie,{toArray:function(){Tt(this.size);var t=new Array(this.size||0),n=Oe(this),r=0;return this.__iterate(function(s,i){t[r++]=n?[i,s]:s}),t},toIndexedSeq:function(){return new Nm(this)},toJS:function(){return Mo(this)},toKeyedSeq:function(){return new ia(this,!0)},toMap:function(){return q(this.toKeyedSeq())},toObject:s_,toOrderedMap:function(){return on(this.toKeyedSeq())},toOrderedSet:function(){return Je(Oe(this)?this.valueSeq():this)},toSet:function(){return cs(Oe(this)?this.valueSeq():this)},toSetSeq:function(){return new Lm(this)},toSeq:function(){return Ge(this)?this.toIndexedSeq():Oe(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return us(Oe(this)?this.valueSeq():this)},toList:function(){return X(Oe(this)?this.valueSeq():this)},toString:function(){return"[Collection]"},__toString:function(t,n){return this.size===0?t+n:t+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+n},concat:function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return be(this,TT(this,t))},includes:function(t){return this.some(function(n){return Me(n,t)})},entries:function(){return this.__iterator(Bt)},every:function(t,n){Tt(this.size);var r=!0;return this.__iterate(function(s,i,o){if(!t.call(n,s,i,o))return r=!1,!1}),r},filter:function(t,n){return be(this,Fm(this,t,n,!0))},partition:function(t,n){return ET(this,t,n)},find:function(t,n,r){var s=this.findEntry(t,n);return s?s[1]:r},forEach:function(t,n){return Tt(this.size),this.__iterate(n?t.bind(n):t)},join:function(t){Tt(this.size),t=t!==void 0?""+t:",";var n="",r=!0;return this.__iterate(function(s){r?r=!1:n+=t,n+=s!=null?s.toString():""}),n},keys:function(){return this.__iterator(Ii)},map:function(t,n){return be(this,Pm(this,t,n))},reduce:function(t,n,r){return Td(this,t,n,r,arguments.length<2,!1)},reduceRight:function(t,n,r){return Td(this,t,n,r,arguments.length<2,!0)},reverse:function(){return be(this,dl(this,!0))},slice:function(t,n){return be(this,pl(this,t,n,!0))},some:function(t,n){Tt(this.size);var r=!1;return this.__iterate(function(s,i,o){if(t.call(n,s,i,o))return r=!0,!1}),r},sort:function(t){return be(this,Br(this,t))},values:function(){return this.__iterator(sn)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return this.size!==void 0?this.size===0:!this.some(function(){return!0})},count:function(t,n){return Hr(t?this.toSeq().filter(t,n):this)},countBy:function(t,n){return yT(this,t,n)},equals:function(t){return Ml(this,t)},entrySeq:function(){var t=this;if(t._cache)return new wr(t._cache);var n=t.toSeq().map(jT).toIndexedSeq();return n.fromEntrySeq=function(){return t.toSeq()},n},filterNot:function(t,n){return this.filter(tu(t),n)},findEntry:function(t,n,r){var s=r;return this.__iterate(function(i,o,a){if(t.call(n,i,o,a))return s=[o,i],!1}),s},findKey:function(t,n){var r=this.findEntry(t,n);return r&&r[0]},findLast:function(t,n,r){return this.toKeyedSeq().reverse().find(t,n,r)},findLastEntry:function(t,n,r){return this.toKeyedSeq().reverse().findEntry(t,n,r)},findLastKey:function(t,n){return this.toKeyedSeq().reverse().findKey(t,n)},first:function(t){return this.find(vm,null,t)},flatMap:function(t,n){return be(this,bT(this,t,n))},flatten:function(t){return be(this,km(this,t,!0))},fromEntrySeq:function(){return new xm(this)},get:function(t,n){return this.find(function(r,s){return Me(s,t)},void 0,n)},getIn:r_,groupBy:function(t,n){return ST(this,t,n)},has:function(t){return this.get(t,ae)!==ae},hasIn:qT,isSubset:function(t){return t=typeof t.includes=="function"?t:Ie(t),this.every(function(n){return t.includes(n)})},isSuperset:function(t){return t=typeof t.isSubset=="function"?t:Ie(t),t.isSubset(this)},keyOf:function(t){return this.findKey(function(n){return Me(n,t)})},keySeq:function(){return this.toSeq().map($T).toIndexedSeq()},last:function(t){return this.toSeq().reverse().first(t)},lastKeyOf:function(t){return this.toKeyedSeq().reverse().keyOf(t)},max:function(t){return Ki(this,t)},maxBy:function(t,n){return Ki(this,n,t)},min:function(t){return Ki(this,t?bd(t):Cd)},minBy:function(t,n){return Ki(this,n?bd(n):Cd,t)},rest:function(){return this.slice(1)},skip:function(t){return t===0?this:this.slice(Math.max(0,t))},skipLast:function(t){return t===0?this:this.slice(0,-Math.max(0,t))},skipWhile:function(t,n){return be(this,Um(this,t,n,!0))},skipUntil:function(t,n){return this.skipWhile(tu(t),n)},sortBy:function(t,n){return be(this,Br(this,n,t))},take:function(t){return this.slice(0,Math.max(0,t))},takeLast:function(t){return this.slice(-Math.max(0,t))},takeWhile:function(t,n){return be(this,wT(this,t,n))},takeUntil:function(t,n){return this.takeWhile(tu(t),n)},update:function(t){return t(this)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=HT(this))}});var nt=Ie.prototype;nt[Em]=!0;nt[ta]=nt.values;nt.toJSON=nt.toArray;nt.__toStringMapper=ii;nt.inspect=nt.toSource=function(){return this.toString()};nt.chain=nt.flatMap;nt.contains=nt.includes;Or(Kt,{flip:function(){return be(this,Mm(this))},mapEntries:function(t,n){var r=this,s=0;return be(this,this.toSeq().map(function(i,o){return t.call(n,[o,i],s++,r)}).fromEntrySeq())},mapKeys:function(t,n){var r=this;return be(this,this.toSeq().flip().map(function(s,i){return t.call(n,s,i,r)}).flip())}});var ki=Kt.prototype;ki[wm]=!0;ki[ta]=nt.entries;ki.toJSON=s_;ki.__toStringMapper=function(e,t){return ii(t)+": "+ii(e)};Or(br,{toKeyedSeq:function(){return new ia(this,!1)},filter:function(t,n){return be(this,Fm(this,t,n,!1))},findIndex:function(t,n){var r=this.findEntry(t,n);return r?r[0]:-1},indexOf:function(t){var n=this.keyOf(t);return n===void 0?-1:n},lastIndexOf:function(t){var n=this.lastKeyOf(t);return n===void 0?-1:n},reverse:function(){return be(this,dl(this,!1))},slice:function(t,n){return be(this,pl(this,t,n,!1))},splice:function(t,n){var r=arguments.length;if(n=Math.max(n||0,0),r===0||r===2&&!n)return this;t=ns(t,t<0?this.count():this.size);var s=this.slice(0,t);return be(this,r===1?s:s.concat(mn(arguments,2),this.slice(t+n)))},findLastIndex:function(t,n){var r=this.findLastEntry(t,n);return r?r[0]:-1},first:function(t){return this.get(0,t)},flatten:function(t){return be(this,km(this,t,!1))},get:function(t,n){return t=Xn(this,t),t<0||this.size===1/0||this.size!==void 0&&t>this.size?n:this.find(function(r,s){return s===t},void 0,n)},has:function(t){return t=Xn(this,t),t>=0&&(this.size!==void 0?this.size===1/0||t<this.size:this.indexOf(t)!==-1)},interpose:function(t){return be(this,OT(this,t))},interleave:function(){var t=[this].concat(mn(arguments)),n=Qi(this.toSeq(),Qt.of,t),r=n.flatten(!0);return n.size&&(r.size=n.size*t.length),be(this,r)},keySeq:function(){return Pl(0,this.size)},last:function(t){return this.get(-1,t)},skipWhile:function(t,n){return be(this,Um(this,t,n,!1))},zip:function(){var t=[this].concat(mn(arguments));return be(this,Qi(this,Od,t))},zipAll:function(){var t=[this].concat(mn(arguments));return be(this,Qi(this,Od,t,!0))},zipWith:function(t){var n=mn(arguments);return n[0]=this,be(this,Qi(this,t,n))}});var ls=br.prototype;ls[Tm]=!0;ls[is]=!0;Or(ss,{get:function(t,n){return this.has(t)?t:n},includes:function(t){return this.has(t)},keySeq:function(){return this.valueSeq()}});var Gr=ss.prototype;Gr.has=nt.includes;Gr.contains=Gr.includes;Gr.keys=Gr.values;Or(tr,ki);Or(Qt,ls);Or(as,Gr);function Td(e,t,n,r,s,i){return Tt(e.size),e.__iterate(function(o,a,u){s?(s=!1,n=o):n=t.call(r,n,o,a,u)},i),n}function $T(e,t){return t}function jT(e,t){return[t,e]}function tu(e){return function(){return!e.apply(this,arguments)}}function bd(e){return function(){return-e.apply(this,arguments)}}function Od(){return mn(arguments)}function Cd(e,t){return e<t?1:e>t?-1:0}function HT(e){if(e.size===1/0)return 0;var t=bt(e),n=Oe(e),r=t?1:0,s=e.__iterate(n?t?function(i,o){r=31*r+Ad(it(i),it(o))|0}:function(i,o){r=r+Ad(it(i),it(o))|0}:t?function(i){r=31*r+it(i)|0}:function(i){r=r+it(i)|0});return BT(s,r)}function BT(e,t){return t=Cs(t,3432918353),t=Cs(t<<15|t>>>-15,461845907),t=Cs(t<<13|t>>>-13,5),t=(t+3864292196|0)^e,t=Cs(t^t>>>16,2246822507),t=Cs(t^t>>>13,3266489909),t=sa(t^t>>>16),t}function Ad(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}var Je=function(e){function t(n){return n==null?gc():ca(n)?n:gc().withMutations(function(r){var s=ss(n);Tt(s.size),s.forEach(function(i){return r.add(i)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.fromKeys=function(r){return this(Kt(r).keySeq())},t.prototype.toString=function(){return this.__toString("OrderedSet {","}")},t}(cs);Je.isOrderedSet=ca;var Cr=Je.prototype;Cr[is]=!0;Cr.zip=ls.zip;Cr.zipWith=ls.zipWith;Cr.zipAll=ls.zipAll;Cr.__empty=gc;Cr.__make=i_;function i_(e,t){var n=Object.create(Cr);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}var Id;function gc(){return Id||(Id=i_(Ms()))}var o_={LeftThenRight:-1,RightThenLeft:1};function zT(e){if(er(e))throw new Error("Can not call `Record` with an immutable Record as default values. Use a plain javascript object instead.");if(Rt(e))throw new Error("Can not call `Record` with an immutable Collection as default values. Use a plain javascript object instead.");if(e===null||typeof e!="object")throw new Error("Can not call `Record` with a non-object as default values. Use a plain javascript object instead.")}var _e=function(t,n){var r;zT(t);var s=function(a){var u=this;if(a instanceof s)return a;if(!(this instanceof s))return new s(a);if(!r){r=!0;var c=Object.keys(t),l=i._indices={};i._name=n,i._keys=c,i._defaultValues=t;for(var f=0;f<c.length;f++){var d=c[f];l[d]=f,i[d]?typeof console=="object"&&console.warn&&console.warn("Cannot define "+kl(this)+' with property "'+d+'" since that property name is part of the Record API.'):WT(i,d)}}return this.__ownerID=void 0,this._values=X().withMutations(function(p){p.setSize(u._keys.length),Kt(a).forEach(function(h,_){p.set(u._indices[_],h===u._defaultValues[_]?void 0:h)})}),this},i=s.prototype=Object.create(Ce);return i.constructor=s,n&&(s.displayName=n),s};_e.prototype.toString=function(){for(var t=kl(this)+" { ",n=this._keys,r,s=0,i=n.length;s!==i;s++)r=n[s],t+=(s?", ":"")+r+": "+ii(this.get(r));return t+" }"};_e.prototype.equals=function(t){return this===t||er(t)&&Kr(this).equals(Kr(t))};_e.prototype.hashCode=function(){return Kr(this).hashCode()};_e.prototype.has=function(t){return this._indices.hasOwnProperty(t)};_e.prototype.get=function(t,n){if(!this.has(t))return n;var r=this._indices[t],s=this._values.get(r);return s===void 0?this._defaultValues[t]:s};_e.prototype.set=function(t,n){if(this.has(t)){var r=this._values.set(this._indices[t],n===this._defaultValues[t]?void 0:n);if(r!==this._values&&!this.__ownerID)return Ul(this,r)}return this};_e.prototype.remove=function(t){return this.set(t)};_e.prototype.clear=function(){var t=this._values.clear().setSize(this._keys.length);return this.__ownerID?this:Ul(this,t)};_e.prototype.wasAltered=function(){return this._values.wasAltered()};_e.prototype.toSeq=function(){return Kr(this)};_e.prototype.toJS=function(){return Mo(this)};_e.prototype.entries=function(){return this.__iterator(Bt)};_e.prototype.__iterator=function(t,n){return Kr(this).__iterator(t,n)};_e.prototype.__iterate=function(t,n){return Kr(this).__iterate(t,n)};_e.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var n=this._values.__ensureOwner(t);return t?Ul(this,n,t):(this.__ownerID=t,this._values=n,this)};_e.isRecord=er;_e.getDescriptiveName=kl;var Ce=_e.prototype;Ce[Om]=!0;Ce[bi]=Ce.remove;Ce.deleteIn=Ce.removeIn=Tl;Ce.getIn=r_;Ce.hasIn=nt.hasIn;Ce.merge=jm;Ce.mergeWith=Hm;Ce.mergeIn=Cl;Ce.mergeDeep=Km;Ce.mergeDeepWith=Qm;Ce.mergeDeepIn=Al;Ce.setIn=El;Ce.update=bl;Ce.updateIn=Ol;Ce.withMutations=xi;Ce.asMutable=Mi;Ce.asImmutable=Pi;Ce[ta]=Ce.entries;Ce.toJSON=Ce.toObject=nt.toObject;Ce.inspect=Ce.toSource=function(){return this.toString()};function Ul(e,t,n){var r=Object.create(Object.getPrototypeOf(e));return r._values=t,r.__ownerID=n,r}function kl(e){return e.constructor.displayName||e.constructor.name||"Record"}function Kr(e){return ll(e._keys.map(function(t){return[t,e.get(t)]}))}function WT(e,t){try{Object.defineProperty(e,t,{get:function(){return this.get(t)},set:function(n){_l(this.__ownerID,"Cannot set on an immutable record."),this.set(t,n)}})}catch{}}var a_=function(e){function t(n,r){if(!(this instanceof t))return new t(n,r);if(this._value=n,this.size=r===void 0?1/0:Math.max(0,r),this.size===0){if(nu)return nu;nu=this}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return this.size===0?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},t.prototype.get=function(r,s){return this.has(r)?this._value:s},t.prototype.includes=function(r){return Me(this._value,r)},t.prototype.slice=function(r,s){var i=this.size;return Oi(r,s,i)?this:new t(this._value,Ci(s,i)-ns(r,i))},t.prototype.reverse=function(){return this},t.prototype.indexOf=function(r){return Me(this._value,r)?0:-1},t.prototype.lastIndexOf=function(r){return Me(this._value,r)?this.size:-1},t.prototype.__iterate=function(r,s){for(var i=this.size,o=0;o!==i&&r(this._value,s?i-++o:o++,this)!==!1;);return o},t.prototype.__iterator=function(r,s){var i=this,o=this.size,a=0;return new pe(function(){return a===o?lt():Re(r,s?o-++a:a++,i._value)})},t.prototype.equals=function(r){return r instanceof t?Me(this._value,r._value):Ml(this,r)},t}(Qt),nu;function me(e,t){return u_([],t||VT,e,"",t&&t.length>2?[]:void 0,{"":e})}function u_(e,t,n,r,s,i){if(typeof n!="string"&&!Rt(n)&&(al(n)||ol(n)||oa(n))){if(~e.indexOf(n))throw new TypeError("Cannot convert circular structure to Immutable");e.push(n),s&&r!==""&&s.push(r);var o=t.call(i,r,tt(n).map(function(a,u){return u_(e,t,a,u,s,n)}),s&&s.slice());return e.pop(),s&&s.pop(),o}return n}function VT(e,t){return Ge(t)?t.toList():Oe(t)?t.toMap():t.toSet()}var c_="4.3.7",GT={version:c_,Collection:Ie,Iterable:Ie,Seq:tt,Map:q,OrderedMap:on,List:X,Stack:us,Set:cs,OrderedSet:Je,PairSorting:o_,Record:_e,Range:Pl,Repeat:a_,is:Me,fromJS:me,hash:it,isImmutable:Rt,isCollection:et,isKeyed:Oe,isIndexed:Ge,isAssociative:rs,isOrdered:bt,isValueObject:Lo,isPlainObject:oa,isSeq:Ai,isList:Fi,isMap:Ri,isOrderedMap:ra,isStack:li,isSet:Ui,isOrderedSet:ca,isRecord:er,get:aa,getIn:la,has:gl,hasIn:Fl,merge:zm,mergeDeep:Vm,mergeWith:Wm,mergeDeepWith:Gm,remove:vl,removeIn:wl,set:yl,setIn:Sl,update:ua,updateIn:nr},KT=Ie;const QT=Object.freeze(Object.defineProperty({__proto__:null,Collection:Ie,Iterable:KT,List:X,Map:q,OrderedMap:on,OrderedSet:Je,PairSorting:o_,Range:Pl,Record:_e,Repeat:a_,Seq:tt,Set:cs,Stack:us,default:GT,fromJS:me,get:aa,getIn:la,has:gl,hasIn:Fl,hash:it,is:Me,isAssociative:rs,isCollection:et,isImmutable:Rt,isIndexed:Ge,isKeyed:Oe,isList:Fi,isMap:Ri,isOrdered:bt,isOrderedMap:ra,isOrderedSet:ca,isPlainObject:oa,isRecord:er,isSeq:Ai,isSet:Ui,isStack:li,isValueObject:Lo,merge:zm,mergeDeep:Vm,mergeDeepWith:Gm,mergeWith:Wm,remove:vl,removeIn:wl,set:yl,setIn:Sl,update:ua,updateIn:nr,version:c_},Symbol.toStringTag,{value:"Module"})),l_=_e({shortcode:"",static_url:"",url:"",category:"",visible_in_picker:!1});function fs(e){return Fi(e)?e.reduce((t,n)=>(t[`:${n.shortcode}:`]=n.toJS(),t),{}):e.reduce((t,n)=>(t[`:${n.shortcode}:`]=n,t),{})}function f_(e,t){return{...e,titleHtml:nn(ts(e.title),t)}}const XT={expired:!1,multiple:!1,voters_count:0,votes_count:0,voted:!1,own_votes:[]};function YT(e,t){const n=fs(e.emojis);return{...XT,...e,emojis:e.emojis.map(r=>l_(r)),options:e.options.map((r,s)=>{var a;const i={...r,voted:((a=e.own_votes)==null?void 0:a.includes(s))||!1,titleHtml:nn(ts(r.title),n)},o=t==null?void 0:t.options[s];if(o!=null&&o.translation&&o.title===i.title){const{translation:u}=o;i.translation=f_(u,n)}return i})}}const Dl=Z("accounts/importAccounts"),ZT=new DOMParser;function JT(e){const t={...e};return t.filter=t.filter.id,t}function eb(e,t){var r,s,i,o;const n={...e};if(n.account=e.account.id,e.reblog&&e.reblog.id&&(n.reblog=e.reblog.id),(((r=e.quote)==null?void 0:r.quoted_status)??((s=e.quote)==null?void 0:s.quoted_status_id))&&(n.quote={...e.quote,quoted_status:((i=e.quote.quoted_status)==null?void 0:i.id)??((o=e.quote)==null?void 0:o.quoted_status_id)}),e.poll&&e.poll.id&&(n.poll=e.poll.id),e.card&&(n.card={...e.card,authors:e.card.authors.map(a=>{var u;return{...a,accountId:(u=a.account)==null?void 0:u.id,account:void 0}})}),e.filtered&&(n.filtered=e.filtered.map(JT)),t&&t.get("content")===n.content&&t.get("spoiler_text")===n.spoiler_text)n.search_index=t.get("search_index"),n.contentHtml=t.get("contentHtml"),n.spoilerHtml=t.get("spoilerHtml"),n.spoiler_text=t.get("spoiler_text"),n.hidden=t.get("hidden"),t.get("translation")&&(n.translation=t.get("translation"));else{n.spoiler_text&&!n.content&&(n.content=n.spoiler_text,n.spoiler_text="");const a=n.spoiler_text||"",u=[a,e.content].concat(e.poll&&e.poll.options?e.poll.options.map(l=>l.title):[]).concat(e.media_attachments.map(l=>l.description)).join(`

`).replace(/<br\s*\/?>/g,`
`).replace(/<\/p><p>/g,`

`),c=fs(n.emojis);n.search_index=ZT.parseFromString(u,"text/html").documentElement.textContent,n.contentHtml=nn(n.content,c),n.spoilerHtml=nn(ts(a),c),n.hidden=bE?!1:a.length>0||n.sensitive,n.url&&!(n.url.startsWith("http://")||n.url.startsWith("https://"))&&(n.url=null),n.url||(n.url=n.uri),n.media_attachments.forEach(l=>{l.remote_url&&!(l.remote_url.startsWith("http://")||l.remote_url.startsWith("https://"))&&(l.remote_url=null)})}if(t){const a=t.get("media_attachments");n.media_attachments&&a&&n.media_attachments.forEach(u=>{const c=a.find(l=>l.get("id")===u.id);c&&c.get("description")===u.description&&(u.translation=c.get("translation"))})}return n}function tb(e,t){const n=fs(t.get("emojis").toJS());return{detected_source_language:e.detected_source_language,language:e.language,provider:e.provider,contentHtml:nn(e.content,n),spoilerHtml:nn(ts(e.spoiler_text),n),spoiler_text:e.spoiler_text}}function d_(e){const t={...e},n=fs(t.emojis);return t.contentHtml=nn(t.content,n),t}const p_=Z("poll/importMultiple"),nb="STATUS_IMPORT",h_="STATUSES_IMPORT",m_="FILTERS_IMPORT";function Fr(e,t){e.every(n=>n.id!==t.id)&&e.push(t)}function rb(e){return{type:h_,statuses:e}}function sb(e){return{type:m_,filters:e}}function ds(e){return ie([e])}function ie(e){const t=[];function n(r){Fr(t,r),r.moved&&n(r.moved)}return e.forEach(n),Dl({accounts:t})}function Nt(e){return je([e])}function je(e){return(t,n)=>{const r=[],s=[],i=[],o=[];function a(u){var c,l,f;Fr(s,eb(u,n().getIn(["statuses",u.id]))),Fr(r,u.account),u.filtered&&u.filtered.forEach(d=>Fr(o,d.filter)),(c=u.reblog)!=null&&c.id&&a(u.reblog),(l=u.quote)!=null&&l.quoted_status&&a(u.quote.quoted_status),(f=u.poll)!=null&&f.id&&Fr(i,YT(u.poll,n().polls[u.poll.id])),u.card&&u.card.authors.forEach(d=>d.account&&Fr(r,d.account))}e.forEach(a),t(p_({polls:i})),t(ie(r)),t(rb(s)),t(sb(o))}}const ib=Z("accounts/revealAccount");function Ar(e){return{payload:{...e,skipLoading:!0}}}const ql=Z("accounts/followAccount/SUCCESS",Ar),fa=Z("accounts/unfollowAccount/SUCCESS",Ar),da=Z("accounts/followRequestAuthorize/SUCCESS"),pa=Z("accounts/followRequestReject/SUCCESS"),__=Z("accounts/follow/REQUEST",Ar),g_=Z("accounts/follow/FAIL",Ar),v_=Z("accounts/unfollow/REQUEST",Ar),y_=Z("accounts/unfollow/FAIL",Ar),Un=Z("accounts/block/SUCCESS"),S_=Z("accounts/unblock/SUCCESS"),kn=Z("accounts/mute/SUCCESS"),E_=Z("accounts/unmute/SUCCESS"),w_=Z("accounts/pin/SUCCESS"),T_=Z("accounts/unpin/SUCCESS"),b_=Z("relationships/fetch/SUCCESS",Ar),ob=ce("accounts/remove_from_followers",({accountId:e})=>Z1(e),e=>({relationship:e})),zs=ce("accounts/endorsements",({accountId:e})=>ew(e),(e,{dispatch:t})=>(t(ie(e)),e)),ab="ACCOUNT_FETCH_REQUEST",ub="ACCOUNT_FETCH_SUCCESS",cb="ACCOUNT_FETCH_FAIL",lb="ACCOUNT_LOOKUP_REQUEST",fb="ACCOUNT_LOOKUP_SUCCESS",O_="ACCOUNT_LOOKUP_FAIL",db="ACCOUNT_BLOCK_REQUEST",pb="ACCOUNT_BLOCK_FAIL",hb="ACCOUNT_UNBLOCK_REQUEST",mb="ACCOUNT_UNBLOCK_FAIL",_b="ACCOUNT_MUTE_REQUEST",gb="ACCOUNT_MUTE_FAIL",vb="ACCOUNT_UNMUTE_REQUEST",yb="ACCOUNT_UNMUTE_FAIL",Sb="ACCOUNT_PIN_REQUEST",Eb="ACCOUNT_PIN_FAIL",wb="ACCOUNT_UNPIN_REQUEST",Tb="ACCOUNT_UNPIN_FAIL",C_="FOLLOWERS_FETCH_REQUEST",A_="FOLLOWERS_FETCH_SUCCESS",I_="FOLLOWERS_FETCH_FAIL",R_="FOLLOWERS_EXPAND_REQUEST",N_="FOLLOWERS_EXPAND_SUCCESS",L_="FOLLOWERS_EXPAND_FAIL",x_="FOLLOWING_FETCH_REQUEST",M_="FOLLOWING_FETCH_SUCCESS",P_="FOLLOWING_FETCH_FAIL",F_="FOLLOWING_EXPAND_REQUEST",U_="FOLLOWING_EXPAND_SUCCESS",k_="FOLLOWING_EXPAND_FAIL",bb="RELATIONSHIPS_FETCH_REQUEST",Ob="RELATIONSHIPS_FETCH_FAIL",D_="FOLLOW_REQUESTS_FETCH_REQUEST",q_="FOLLOW_REQUESTS_FETCH_SUCCESS",$_="FOLLOW_REQUESTS_FETCH_FAIL",j_="FOLLOW_REQUESTS_EXPAND_REQUEST",H_="FOLLOW_REQUESTS_EXPAND_SUCCESS",B_="FOLLOW_REQUESTS_EXPAND_FAIL",Cb="FOLLOW_REQUEST_AUTHORIZE_REQUEST",Ab="FOLLOW_REQUEST_AUTHORIZE_FAIL",Ib="FOLLOW_REQUEST_REJECT_REQUEST",Rb="FOLLOW_REQUEST_REJECT_FAIL";function wU(e){return t=>{t(He([e])),t(Mb(e)),F().get(`/api/v1/accounts/${e}`).then(n=>{t(ds(n.data)),t(Pb())}).catch(n=>{t(Fb(e,n))})}}const TU=e=>t=>{t(Nb(e)),F().get("/api/v1/accounts/lookup",{params:{acct:e}}).then(n=>{t(He([n.data.id])),t(ds(n.data)),t(Lb())}).catch(n=>{t(xb(e,n))})},Nb=e=>({type:lb,acct:e}),Lb=()=>({type:fb}),xb=(e,t)=>({type:O_,acct:e,error:t,skipAlert:!0});function Mb(e){return{type:ab,id:e}}function Pb(){return{type:ub}}function Fb(e,t){return{type:cb,id:e,error:t,skipAlert:!0}}function bU(e,t={reblogs:!0}){return(n,r)=>{const s=r().getIn(["relationships",e,"following"]),i=r().getIn(["accounts",e,"locked"],!1);n(__({id:e,locked:i})),F().post(`/api/v1/accounts/${e}/follow`,t).then(o=>{n(ql({relationship:o.data,alreadyFollowing:s}))}).catch(o=>{n(g_({id:e,error:o,locked:i}))})}}function OU(e){return(t,n)=>{t(v_(e)),F().post(`/api/v1/accounts/${e}/unfollow`).then(r=>{t(fa({relationship:r.data,statuses:n().get("statuses")}))}).catch(r=>{t(y_({id:e,error:r}))})}}function CU(e){return(t,n)=>{t(Ub(e)),F().post(`/api/v1/accounts/${e}/block`).then(r=>{t(Un({relationship:r.data,statuses:n().get("statuses")}))}).catch(r=>{t(kb({id:e,error:r}))})}}function AU(e){return t=>{t(Db(e)),F().post(`/api/v1/accounts/${e}/unblock`).then(n=>{t(S_({relationship:n.data}))}).catch(n=>{t(qb({id:e,error:n}))})}}function Ub(e){return{type:db,id:e}}function kb(e){return{type:pb,error:e}}function Db(e){return{type:hb,id:e}}function qb(e){return{type:mb,error:e}}function IU(e,t,n=0){return(r,s)=>{r($b(e)),F().post(`/api/v1/accounts/${e}/mute`,{notifications:t,duration:n}).then(i=>{r(kn({relationship:i.data,statuses:s().get("statuses")}))}).catch(i=>{r(jb({id:e,error:i}))})}}function RU(e){return t=>{t(Hb(e)),F().post(`/api/v1/accounts/${e}/unmute`).then(n=>{t(E_({relationship:n.data}))}).catch(n=>{t(Bb({id:e,error:n}))})}}function $b(e){return{type:_b,id:e}}function jb(e){return{type:gb,error:e}}function Hb(e){return{type:vb,id:e}}function Bb(e){return{type:yb,error:e}}function NU(e){return t=>{t(zb(e)),F().get(`/api/v1/accounts/${e}/followers`).then(n=>{const r=Le(n).refs.find(s=>s.rel==="next");t(ie(n.data)),t(Wb(e,n.data,r?r.uri:null)),t(He(n.data.map(s=>s.id)))}).catch(n=>{t(Vb(e,n))})}}function zb(e){return{type:C_,id:e}}function Wb(e,t,n){return{type:A_,id:e,accounts:t,next:n}}function Vb(e,t){return{type:I_,id:e,error:t,skipNotFound:!0}}function LU(e){return(t,n)=>{const r=n().getIn(["user_lists","followers",e,"next"]);r!==null&&(t(Gb(e)),F().get(r).then(s=>{const i=Le(s).refs.find(o=>o.rel==="next");t(ie(s.data)),t(Kb(e,s.data,i?i.uri:null)),t(He(s.data.map(o=>o.id)))}).catch(s=>{t(Qb(e,s))}))}}function Gb(e){return{type:R_,id:e}}function Kb(e,t,n){return{type:N_,id:e,accounts:t,next:n}}function Qb(e,t){return{type:L_,id:e,error:t}}function xU(e){return t=>{t(Xb(e)),F().get(`/api/v1/accounts/${e}/following`).then(n=>{const r=Le(n).refs.find(s=>s.rel==="next");t(ie(n.data)),t(Yb(e,n.data,r?r.uri:null)),t(He(n.data.map(s=>s.id)))}).catch(n=>{t(Zb(e,n))})}}function Xb(e){return{type:x_,id:e}}function Yb(e,t,n){return{type:M_,id:e,accounts:t,next:n}}function Zb(e,t){return{type:P_,id:e,error:t,skipNotFound:!0}}function MU(e){return(t,n)=>{const r=n().getIn(["user_lists","following",e,"next"]);r!==null&&(t(Jb(e)),F().get(r).then(s=>{const i=Le(s).refs.find(o=>o.rel==="next");t(ie(s.data)),t(eO(e,s.data,i?i.uri:null)),t(He(s.data.map(o=>o.id)))}).catch(s=>{t(tO(e,s))}))}}function Jb(e){return{type:F_,id:e}}function eO(e,t,n){return{type:U_,id:e,accounts:t,next:n}}function tO(e,t){return{type:k_,id:e,error:t}}const nO=a1((e,...t)=>{t.length!==0&&(e(rO(t)),F().get(`/api/v1/accounts/relationships?with_suspended=true&${t.map(n=>`id[]=${n}`).join("&")}`).then(n=>{e(b_({relationships:n.data}))}).catch(n=>{e(sO(n))}))},{delay:500});function He(e){return(t,n)=>{const r=n(),s=r.get("relationships"),i=e.filter(a=>s.get(a,null)===null);!r.getIn(["meta","me"])||i.length===0||nO(t,...i)}}function rO(e){return{type:bb,ids:e,skipLoading:!0}}function sO(e){return{type:Ob,error:e,skipLoading:!0,skipNotFound:!0}}function iO(){return e=>{e(oO()),F().get("/api/v1/follow_requests").then(t=>{const n=Le(t).refs.find(r=>r.rel==="next");e(ie(t.data)),e(aO(t.data,n?n.uri:null))}).catch(t=>e(uO(t)))}}function oO(){return{type:D_}}function aO(e,t){return{type:q_,accounts:e,next:t}}function uO(e){return{type:$_,error:e}}function PU(){return(e,t)=>{const n=t().getIn(["user_lists","follow_requests","next"]);n!==null&&(e(cO()),F().get(n).then(r=>{const s=Le(r).refs.find(i=>i.rel==="next");e(ie(r.data)),e(lO(r.data,s?s.uri:null))}).catch(r=>e(fO(r))))}}function cO(){return{type:j_}}function lO(e,t){return{type:H_,accounts:e,next:t}}function fO(e){return{type:B_,error:e}}function FU(e){return t=>{t(dO(e)),F().post(`/api/v1/follow_requests/${e}/authorize`).then(()=>t(da({id:e}))).catch(n=>t(pO(e,n)))}}function dO(e){return{type:Cb,id:e}}function pO(e,t){return{type:Ab,id:e,error:t}}function UU(e){return t=>{t(hO(e)),F().post(`/api/v1/follow_requests/${e}/reject`).then(()=>t(pa({id:e}))).catch(n=>t(mO(e,n)))}}function hO(e){return{type:Ib,id:e}}function mO(e,t){return{type:Rb,id:e,error:t}}function kU(e){return t=>{t(_O(e)),F().post(`/api/v1/accounts/${e}/pin`).then(n=>{t(w_({relationship:n.data})),t(zs({accountId:ot}))}).catch(n=>{t(gO(n))})}}function DU(e){return t=>{t(vO(e)),F().post(`/api/v1/accounts/${e}/unpin`).then(n=>{t(T_({relationship:n.data})),t(zs({accountId:ot}))}).catch(n=>{t(yO(n))})}}function _O(e){return{type:Sb,id:e}}function gO(e){return{type:Eb,error:e}}function vO(e){return{type:wb,id:e}}function yO(e){return{type:Tb,error:e}}const qU=({displayName:e,note:t,avatar:n,header:r,discoverable:s,indexable:i})=>o=>{const a=new FormData;return a.append("display_name",e),a.append("note",t),n&&a.append("avatar",n),r&&a.append("header",r),a.append("discoverable",s),a.append("indexable",i),F().patch("/api/v1/accounts/update_credentials",a).then(u=>{o(ds(u.data))})},$U=e=>(t,n)=>{const r=n().accounts.getIn([e,"acct"]);r&&ut.push(`/@${r}`)};function vt(e,t){return e===t?0:e.length===t.length?e>t?1:-1:e.length>t.length?1:-1}const jU=It("markers/submit",async(e,{getState:t})=>{const n=sh(),r=z_(t());if(!(Object.keys(r).length===0||!n||n==="")){if("fetch"in window&&"keepalive"in new Request("")){await fetch("/api/v1/markers",{keepalive:!0,method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify(r)});return}else if("sendBeacon"in navigator){const s=new FormData;s.append("bearer_token",n);for(const[i,o]of Object.entries(r))o.last_read_id&&s.append(`${i}[last_read_id]`,o.last_read_id);if(navigator.sendBeacon("/api/v1/markers",s))return}try{const s=new XMLHttpRequest;s.open("POST","/api/v1/markers",!1),s.setRequestHeader("Content-Type","application/json"),s.setRequestHeader("Authorization",`Bearer ${n}`),s.send(JSON.stringify(r))}catch{}}});function SO(e){return e.notificationGroups.lastReadId}const z_=e=>{const t={},n=SO(e);return n&&vt(n,e.markers.notifications)>0&&(t.notifications={last_read_id:n}),t},W_=It("markers/submitAction",async(e,{getState:t})=>{var s,i;const n=sh(),r=z_(t());return Object.keys(r).length===0||!n||n===""?{home:void 0,notifications:void 0}:(await F().post("/api/v1/markers",r),{home:(s=r.home)==null?void 0:s.last_read_id,notifications:(i=r.notifications)==null?void 0:i.last_read_id})}),Rd=Yc(e=>{e(W_())},3e5,{leading:!0,trailing:!0}),$l=It("markers/submit",(e,{dispatch:t})=>{Rd(t),e.immediate&&Rd.flush()}),V_=It("markers/fetch",async()=>({markers:(await F().get("/api/v1/markers",{params:{timeline:["notifications"]}})).data})),jl=Z("notifications/update",({playSound:e,...t})=>({payload:t,meta:{sound:e?"boop":void 0}}));class Di{constructor(t=null){this.keyBase=t}generateKey(t){return this.keyBase?[this.keyBase,`id${t}`].join("."):t}set(t,n){const r=this.generateKey(t);try{const s=JSON.stringify(n);return localStorage.setItem(r,s),n}catch{return null}}get(t){const n=this.generateKey(t);try{const r=localStorage.getItem(n);return JSON.parse(r)}catch{return null}}remove(t){const n=this.get(t);if(n){const r=this.generateKey(t);try{localStorage.removeItem(r)}catch{}}return n}}const Po=new Di("mastodon_push_notification_data"),G_=new Di("mastodon_tag_history"),HU=new Di("mastodon_banner_settings"),Hl=new Di("mastodon_search_history"),Zn=new Di("mastodon_player"),EO=e=>{const t=window.atob(e),n=new Uint8Array(t.length);for(let r=0;r<t.length;++r)n[r]=t.charCodeAt(r);return n},K_="PUSH_NOTIFICATIONS_SET_BROWSER_SUPPORT",Q_="PUSH_NOTIFICATIONS_SET_SUBSCRIPTION",X_="PUSH_NOTIFICATIONS_CLEAR_SUBSCRIPTION",Y_="PUSH_NOTIFICATIONS_SET_ALERTS";function wO(e){return{type:K_,value:e}}function TO(e){return{type:Q_,subscription:e}}function bO(){return{type:X_}}function BU(e,t){return n=>{n({type:Y_,path:e,value:t})}}const Z_=e=>{const t="=".repeat((4-e.length%4)%4),n=(e+t).replace(/-/g,"+").replace(/_/g,"/");return EO(n)},po=()=>document.querySelector('[name="applicationServerKey"]').getAttribute("content"),Nd=()=>navigator.serviceWorker.ready,Ld=e=>e.pushManager.getSubscription().then(t=>({registration:e,subscription:t})),xd=e=>e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Z_(po())}),Md=({registration:e,subscription:t})=>t?t.unsubscribe().then(()=>e):e,Pd=e=>{const t={subscription:{...e.toJSON(),standard:!0}};if(ot){const n=Po.get(ot);n&&(t.data=n)}return F().post("/api/web/push_subscriptions",t).then(n=>n.data)},Fd="serviceWorker"in navigator&&"PushManager"in window&&"getKey"in PushSubscription.prototype;function OO(){return(e,t)=>{if(e(wO(Fd)),Fd){if(!po()){console.error("The VAPID public key is not set. You will not be able to receive Web Push Notifications.");return}Nd().then(Ld).then(({registration:n,subscription:r})=>{if(r!==null){const s=new Uint8Array(r.options.applicationServerKey).toString(),i=Z_(po()).toString(),o=t().getIn(["push_notifications","subscription","endpoint"]);return i===s&&r.endpoint===o?r:Md({registration:n,subscription:r}).then(xd).then(a=>Pd(a))}return xd(n).then(s=>Pd(s))}).then(n=>{n instanceof PushSubscription||(e(TO(n)),ot&&Po.set(ot,{alerts:n.alerts}))}).catch(n=>(n.code===20&&n.name==="AbortError"?console.warn("Your browser supports Web Push Notifications, but does not seem to implement the VAPID protocol."):n.code===5&&n.name==="InvalidCharacterError"&&console.error("The VAPID public key seems to be invalid:",po()),e(bO()),ot&&Po.remove(ot),Nd().then(Ld).then(Md))).catch(console.warn)}else console.warn("Your browser does not support Web Push Notifications.")}}function zU(){return(e,t)=>{const n=t().get("push_notifications"),r=n.get("subscription"),i={alerts:n.get("alerts")};F().put(`/api/web/push_subscriptions/${r.get("id")}`,{data:i}).then(()=>{ot&&Po.set(ot,i)}).catch(console.warn)}}const J_="NOTIFICATIONS_FILTER_SET",eg="NOTIFICATIONS_SET_BROWSER_SUPPORT",tg="NOTIFICATIONS_SET_BROWSER_PERMISSION";function WU(e,t,n){return(r,s)=>{const i=s().getIn(["settings","notifications","alerts",e.type],!0),o=s().getIn(["settings","notifications","sounds",e.type],!0);let a=!1;if(["mention","status"].includes(e.type)&&e.status.filtered){const u=e.status.filtered.filter(c=>c.filter.context.includes("notifications"));if(u.some(c=>c.filter.filter_action==="hide"))return;a=u.length>0}if(["follow_request"].includes(e.type)&&r(iO()),r($l()),r(ds(e.account)),r(jl({notification:e,playSound:o&&!a})),typeof window.Notification<"u"&&i&&!a){const u=new fE(t[`notification.${e.type}`],n).format({name:e.account.display_name.length>0?e.account.display_name:e.account.username}),c=e.status&&e.status.spoiler_text.length>0?e.status.spoiler_text:Go(e.status?e.status.content:""),l=new Notification(u,{body:c,icon:e.account.avatar,tag:e.id});l.addEventListener("click",()=>{window.focus(),l.close()})}}}const CO=()=>{};function VU(){return e=>{e(AO("Notification"in window)),"Notification"in window&&e(vc(Notification.permission)),"Notification"in window&&"permissions"in navigator&&navigator.permissions.query({name:"notifications"}).then(t=>{t.onchange=()=>e(vc(Notification.permission))}).catch(console.warn)}}function GU(e=CO){return t=>{K0(n=>{t(vc(n)),e(n),n==="granted"&&t(OO())})}}function AO(e){return{type:eg,value:e}}function vc(e){return{type:tg,value:e}}const IO="CUSTOM_EMOJIS_FETCH_REQUEST",ng="CUSTOM_EMOJIS_FETCH_SUCCESS",RO="CUSTOM_EMOJIS_FETCH_FAIL";function KU(){return e=>{e(NO()),F().get("/api/v1/custom_emojis").then(t=>{e(LO(t.data))}).catch(t=>{e(xO(t))})}}function NO(){return{type:IO,skipLoading:!0}}function LO(e){return{type:ng,custom_emojis:e,skipLoading:!0}}function xO(e){return{type:RO,error:e,skipLoading:!0}}function MO(e,t){for(;e.length<t;)e="0"+e;return e}const PO=e=>{let t="";for(let n=0;n<e.length;n+=2)n>0&&(t+="-"),t+=MO(e.codePointAt(n).toString(16).toUpperCase(),4);return t},[Ud,QU,FO,Zi,XU]=EE,Ln={};Object.keys(Ud).forEach(e=>{const t=Ud[e];if(!t)return;const[n,r]=t,[s,i,o,a]=r;Ln[e]={native:s,search:o,short_names:i?[e].concat(i):void 0,unified:a??PO(s)}});const UO=e=>{const t=[];let n=(r,s)=>{r&&(Array.isArray(r)?r:[r]).forEach(i=>{(s?i.split(/[-|_|\s]+/):[i]).forEach(o=>{o=o.toLowerCase(),t.indexOf(o)===-1&&t.push(o)})})};return n(e.short_names,!0),n(e.name,!0),n(e.keywords,!1),n(e.emoticons,!1),t.join(",")},kO=String,DO=kO.fromCodePoint||function(){let e=16384,t=[],n,r,s=-1,i=arguments.length;if(!i)return"";let o="";for(;++s<i;){let a=Number(arguments[s]);if(!isFinite(a)||a<0||a>1114111||Math.floor(a)!==a)throw RangeError("Invalid code point: "+a);a<=65535?t.push(a):(a-=65536,n=(a>>10)+55296,r=a%1024+56320,t.push(n,r)),(s+1===i||t.length>e)&&(o+=String.fromCharCode.apply(null,t),t.length=0)}return o},kd=JSON,qO=/^(?::([^:]+):)(?::skin-tone-(\d):)?$/,$O=["1F3FA","1F3FB","1F3FC","1F3FD","1F3FE","1F3FF"];function jO(e){let t=e.split("-"),n=t.map(r=>`0x${r}`);return DO.apply(null,n)}function HO(e){let{name:t,short_names:n,skin_tone:r,skin_variations:s,emoticons:i,unified:o,custom:a,imageUrl:u}=e,c=e.id||n[0],l=`:${c}:`;return a?{id:c,name:t,colons:l,emoticons:i,custom:a,imageUrl:u}:(r&&(l+=`:skin-tone-${r}:`),{id:c,name:t,colons:l,emoticons:i,unified:o.toLowerCase(),skin:r||(s?1:null),native:jO(o)})}function rg(){return HO(sg(...arguments))}function sg(e,t,n){let r={};if(typeof e=="string"){let s=e.match(qO);s&&(e=s[1],s[2]&&(t=parseInt(s[2]))),Object.hasOwn(Zi,e)&&(e=Zi[e]),Object.hasOwn(Ln,e)&&(r=Ln[e])}else e.id&&(Object.hasOwn(Zi,e.id)&&(e.id=Zi[e.id]),Object.hasOwn(Ln,e.id)&&(r=Ln[e.id],t=t||e.skin));if(Object.keys(r).length||(r=e,r.custom=!0,r.search||(r.search=UO(e))),r.emoticons=r.emoticons||[],r.variations=r.variations||[],r.skin_variations&&t>1&&n){r=JSON.parse(kd.stringify(r));let s=$O[t-1],i=r.skin_variations[s];if(!i.variations&&r.variations&&delete r.variations,i[`has_img_${n}`]){r.skin_tone=t;for(let o in i){let a=i[o];r[o]=a}}}return r.variations&&r.variations.length&&(r=JSON.parse(kd.stringify(r)),r.unified=r.variations.shift()),r}function yc(e){return e.reduce((t,n)=>(t.indexOf(n)===-1&&t.push(n),t),[])}function BO(e,t){const n=yc(e),r=yc(t);return n.filter(s=>r.indexOf(s)>=0)}let Sc={},ig={},fi={},Dd={},Fo=[];for(let e in Ln){let t=Ln[e],{short_names:n,emoticons:r}=t,s=n[0];r&&r.forEach(i=>{Dd[i]||(Dd[i]=s)}),fi[s]=rg(s),Sc[s]=t}function zO(e){Fo.forEach(t=>{let n=t.id||t.short_names[0];delete e[n],delete fi[n]})}function qd(e,t){Fo.length&&zO(t),e.forEach(n=>{let r=n.id||n.short_names[0];r&&!t[r]&&(t[r]=sg(n),fi[r]=rg(n))}),Fo=e,ig={}}function og(e,{emojisToShowFilter:t,maxResults:n,include:r,exclude:s,custom:i}={}){i!==void 0?Fo!==i&&qd(i,Sc):i=[],n=n||75,r=r||[],s=s||[];let o=null,a=Sc;if(e.length){if(e==="-"||e==="-1")return[fi[-1]];let u=e.toLowerCase().split(/[\s|,\-_]+/),c=[];if(u.length>2&&(u=[u[0],u[1]]),(r.length||s.length)&&(a={},FO.forEach(f=>{let d=r&&r.length?r.indexOf(f.name.toLowerCase())>-1:!0,p=s&&s.length?s.indexOf(f.name.toLowerCase())>-1:!1;!d||p||f.emojis.forEach(h=>a[h]=Ln[h])}),i.length)){let f=r&&r.length?r.indexOf("custom")>-1:!0,d=s&&s.length?s.indexOf("custom")>-1:!1;f&&!d&&qd(i,a)}const l=f=>{let d=a,p=ig,h=0;for(let _=0;_<f.length;_++){const g=f[_];if(h++,p[g]=p[g]||{},p=p[g],!p.results){let v={};p.results=[],p.pool={};for(let y in d){let S=d[y],{search:b}=S,O=f.slice(0,h),N=b.indexOf(O);if(N!==-1){let x=N+1;O===y&&(x=0),p.results.push(fi[y]),p.pool[y]=S,v[y]=x}}p.results.sort((y,S)=>{let b=v[y.id],O=v[S.id];return b-O})}d=p.pool}return p.results};u.length>1?o=l(e):o=[],c=u.map(l).filter(f=>f),c.length>1?c=BO.apply(null,c):c.length&&(c=c[0]),o=yc(o.concat(c))}return o&&(t&&(o=o.filter(u=>t(Ln[u.id]))),o&&o.length>n&&(o=o.slice(0,n))),o}const Ji=Do({unexpectedTitle:{id:"alert.unexpected.title",defaultMessage:"Oops!"},unexpectedMessage:{id:"alert.unexpected.message",defaultMessage:"An unexpected error occurred."},rateLimitedTitle:{id:"alert.rate_limited.title",defaultMessage:"Rate limited"},rateLimitedMessage:{id:"alert.rate_limited.message",defaultMessage:"Please retry after {retry_time, time, medium}."}}),WO=Z("alerts/dismiss"),VO=Z("alerts/clear"),_r=Z("alerts/show"),$d=Z("alerts/ignore"),di=(e,t=!1)=>{if(e instanceof Ma&&e.response){const{status:n,statusText:r,headers:s}=e.response,{data:i}=e.response;return t&&(n===404||n===410)?$d():n===429&&s["x-ratelimit-reset"]?_r({title:Ji.rateLimitedTitle,message:Ji.rateLimitedMessage,values:{retry_time:new Date(s["x-ratelimit-reset"])}}):_r({title:`${n}`,message:i.error??r})}return e instanceof Ma&&e.code===Ma.ECONNABORTED?$d():(console.error(e),_r({title:Ji.unexpectedTitle,message:Ji.unexpectedMessage}))},ag="SETTING_CHANGE",ug="SETTING_SAVE";function YU(e,t){return n=>{n({type:ag,path:e,value:t}),n(Ir())}}const GO=Yc((e,t)=>{if(t().getIn(["settings","saved"])||!t().getIn(["meta","me"]))return;const n=t().get("settings").filter((r,s)=>s!=="saved").toJS();F().put("/api/web/settings",{data:n}).then(()=>e({type:ug})).catch(r=>e(di(r)))},2e3,{leading:!0,trailing:!0});function Ir(){return(e,t)=>GO(e,t)}const cg="EMOJI_USE";function KO(e){return t=>{t({type:cg,emoji:e}),t(Ir())}}const qi=Z("MODAL_OPEN"),QO=Z("MODAL_CLOSE"),lg=Z("timeline/disconnect",({timeline:e})=>({payload:{timeline:e,usePendingItems:Gn}})),rr=Z("timelines/delete"),Bl="TIMELINE_UPDATE",fg="TIMELINE_CLEAR",dg="TIMELINE_EXPAND_REQUEST",pg="TIMELINE_EXPAND_SUCCESS",hg="TIMELINE_EXPAND_FAIL",mg="TIMELINE_SCROLL_TOP",_g="TIMELINE_LOAD_PENDING",gg="TIMELINE_CONNECT",vg="TIMELINE_MARK_AS_PARTIAL",yg="TIMELINE_INSERT",Sg="inline-follow-suggestions",pi=null,ZU=e=>({type:_g,timeline:e});function XO(e,t,n){return(r,s)=>{typeof n=="function"&&!n(t)||s().getIn(["timelines",e,"isPartial"])||(r(Nt(t)),r({type:Bl,timeline:e,status:t,usePendingItems:Gn}),e==="home"&&r($l()))}}function YO(e){return(t,n)=>{const r=n().getIn(["statuses",e,"account"]),s=n().get("statuses").filter(o=>o.get("reblog")===e).map(o=>o.get("id")).valueSeq().toJSON(),i=n().getIn(["statuses",e,"reblog"],null);t(rr({statusId:e,accountId:r,references:s,reblogOf:i}))}}function JU(e){return t=>{t({type:fg,timeline:e})}}const ru=(e={},t)=>(e[t]||[]).map(n=>n.value);function Sn(e,t,n={}){return async(r,s)=>{const i=s().getIn(["timelines",e],q()),o=!!n.max_id;if(i.get("isLoading"))return;if(!n.max_id&&!n.pinned&&i.get("items",X()).size+i.get("pendingItems",X()).size>0){const u=i.getIn(["pendingItems",0]),c=i.getIn(["items",0]);u&&c&&vt(u,c)>0?n.since_id=u:n.since_id=c||u}const a=!!n.since_id;r(ZO(e,o));try{const u=await F().get(t,{params:n}),c=Le(u).refs.find(l=>l.rel==="next");if(r(je(u.data)),r(JO(e,u.data,c?c.uri:null,u.status===206,a,o,a&&Gn)),e==="home"&&!o&&!a){const l=new Date,f=u.data.findIndex(d=>l-new Date(d.created_at)>4*3600*1e3);f!==-1&&r(tC(e,Sg,Math.max(1,f)))}e==="home"&&r($l())}catch(u){r(eC(e,u,o))}}}function ha(e,t,n={}){return async(r,s)=>{const o=s().getIn(["timelines",e],q()).get("items"),u=o.map((c,l)=>c===null?l:null).map(c=>c>0?o.get(c-1):null);for(const c of u.take(2))await r(Sn(e,t,{...n,maxId:c}))}}const e2=({maxId:e}={})=>Sn("home","/api/v1/timelines/home",{max_id:e}),t2=({maxId:e,onlyMedia:t,onlyRemote:n}={})=>Sn(`public${n?":remote":""}${t?":media":""}`,"/api/v1/timelines/public",{remote:!!n,max_id:e,only_media:!!t}),n2=({maxId:e,onlyMedia:t}={})=>Sn(`community${t?":media":""}`,"/api/v1/timelines/public",{local:!0,max_id:e,only_media:!!t}),r2=(e,{maxId:t,withReplies:n,tagged:r}={})=>Sn(`account:${e}${n?":with_replies":""}${r?`:${r}`:""}`,`/api/v1/accounts/${e}/statuses`,{exclude_replies:!n,exclude_reblogs:n,tagged:r,max_id:t}),s2=(e,{tagged:t}={})=>Sn(`account:${e}:pinned${t?`:${t}`:""}`,`/api/v1/accounts/${e}/statuses`,{pinned:!0,tagged:t}),i2=(e,{maxId:t}={})=>Sn(`account:${e}:media`,`/api/v1/accounts/${e}/statuses`,{max_id:t,only_media:!0,limit:40}),o2=(e,{maxId:t}={})=>Sn(`list:${e}`,`/api/v1/timelines/list/${e}`,{max_id:t}),a2=(e,{maxId:t}={})=>Sn(`link:${e}`,"/api/v1/timelines/link",{url:e,max_id:t}),u2=(e,{maxId:t,tags:n,local:r}={})=>Sn(`hashtag:${e}${r?":local":""}`,`/api/v1/timelines/tag/${e}`,{max_id:t,any:ru(n,"any"),all:ru(n,"all"),none:ru(n,"none"),local:r}),c2=()=>ha("home","/api/v1/timelines/home",{}),l2=({onlyMedia:e,onlyRemote:t}={})=>ha(`public${t?":remote":""}${e?":media":""}`,"/api/v1/timelines/public",{remote:!!t,only_media:!!e}),f2=({onlyMedia:e}={})=>ha(`community${e?":media":""}`,"/api/v1/timelines/public",{local:!0,only_media:!!e}),d2=e=>ha(`list:${e}`,`/api/v1/timelines/list/${e}`,{});function ZO(e,t){return{type:dg,timeline:e,skipLoading:!t}}function JO(e,t,n,r,s,i,o){return{type:pg,timeline:e,statuses:t,next:n,partial:r,isLoadingRecent:s,usePendingItems:o,skipLoading:!i}}function eC(e,t,n){return{type:hg,timeline:e,error:t,skipLoading:!n,skipNotFound:e.startsWith("account:")}}function p2(e,t){return{type:mg,timeline:e,top:t}}function h2(e){return{type:gg,timeline:e,usePendingItems:Gn}}const m2=e=>({type:vg,timeline:e}),tC=(e,t,n)=>({type:yg,timeline:e,index:n,key:t});let pr,As;const Eg="COMPOSE_CHANGE",wg="COMPOSE_SUBMIT_REQUEST",Tg="COMPOSE_SUBMIT_SUCCESS",bg="COMPOSE_SUBMIT_FAIL",Og="COMPOSE_REPLY",Cg="COMPOSE_REPLY_CANCEL",Ag="COMPOSE_DIRECT",Ig="COMPOSE_MENTION",Rg="COMPOSE_RESET",Ng="COMPOSE_UPLOAD_REQUEST",Lg="COMPOSE_UPLOAD_SUCCESS",xg="COMPOSE_UPLOAD_FAIL",Mg="COMPOSE_UPLOAD_PROGRESS",Pg="COMPOSE_UPLOAD_PROCESSING",Fg="COMPOSE_UPLOAD_UNDO",Ug="THUMBNAIL_UPLOAD_REQUEST",kg="THUMBNAIL_UPLOAD_SUCCESS",Dg="THUMBNAIL_UPLOAD_FAIL",qg="THUMBNAIL_UPLOAD_PROGRESS",$g="COMPOSE_SUGGESTIONS_CLEAR",ma="COMPOSE_SUGGESTIONS_READY",jg="COMPOSE_SUGGESTION_SELECT",Hg="COMPOSE_SUGGESTION_IGNORE",Bg="COMPOSE_SUGGESTION_TAGS_UPDATE",zg="COMPOSE_TAG_HISTORY_UPDATE",Wg="COMPOSE_MOUNT",Vg="COMPOSE_UNMOUNT",nC="COMPOSE_SENSITIVITY_CHANGE",Gg="COMPOSE_SPOILERNESS_CHANGE",Kg="COMPOSE_SPOILER_TEXT_CHANGE",Qg="COMPOSE_VISIBILITY_CHANGE",Xg="COMPOSE_COMPOSING_CHANGE",zl="COMPOSE_LANGUAGE_CHANGE",Yg="COMPOSE_EMOJI_INSERT",Zg="COMPOSE_POLL_ADD",Jg="COMPOSE_POLL_REMOVE",ev="COMPOSE_POLL_OPTION_CHANGE",tv="COMPOSE_POLL_SETTINGS_CHANGE",nv="COMPOSE_CHANGE_MEDIA_ORDER",rv="COMPOSE_SET_STATUS",rC="COMPOSE_FOCUS",Ws=Do({uploadErrorLimit:{id:"upload_error.limit",defaultMessage:"File upload limit exceeded."},uploadErrorPoll:{id:"upload_error.poll",defaultMessage:"File upload not allowed with polls."},open:{id:"compose.published.open",defaultMessage:"Open"},published:{id:"compose.published.body",defaultMessage:"Post published."},saved:{id:"compose.saved.body",defaultMessage:"Post saved."}}),$i=e=>{e().getIn(["compose","mounted"])||ut.push("/publish")};function sC(e,t,n){return{type:rv,status:e,text:t,spoiler_text:n}}function _2(e){return{type:Eg,text:e}}function iC(e){return(t,n)=>{t({type:Og,status:e}),$i(n)}}function g2(e){return(t,n)=>{const r=n(),s=r.statuses.get(e);if(s){const i=r.accounts.get(s.get("account"));t(iC(s.set("account",i)))}}}function v2(){return{type:Cg}}function y2(){return{type:Rg}}function oC(e){return(t,n)=>{t({type:Ig,account:e}),$i(n)}}function S2(e){return(t,n)=>{t(oC(n().accounts.get(e)))}}function E2(e){return(t,n)=>{t({type:Ag,account:e}),$i(n)}}function w2(){return function(e,t){const n=t().getIn(["compose","text"],""),r=t().getIn(["compose","media_attachments"]),s=t().getIn(["compose","id"],null);if((!n||!n.length)&&r.size===0)return;e(aC());let i;s!==null&&(i=r.map(o=>{let a;return o.getIn(["meta","focus"])&&(a=`${o.getIn(["meta","focus","x"]).toFixed(2)},${o.getIn(["meta","focus","y"]).toFixed(2)}`),{id:o.get("id"),description:o.get("description"),focus:a}})),F().request({url:s===null?"/api/v1/statuses":`/api/v1/statuses/${s}`,method:s===null?"post":"put",data:{status:n,in_reply_to_id:t().getIn(["compose","in_reply_to"],null),media_ids:r.map(o=>o.get("id")),media_attributes:i,sensitive:t().getIn(["compose","sensitive"]),spoiler_text:t().getIn(["compose","spoiler"])?t().getIn(["compose","spoiler_text"],""):"",visibility:t().getIn(["compose","privacy"]),poll:t().getIn(["compose","poll"],null),language:t().getIn(["compose","language"])},headers:{"Idempotency-Key":t().getIn(["compose","idempotencyKey"])}}).then(function(o){(ut.location.pathname==="/publish"||ut.location.pathname==="/statuses/new")&&window.history.state&&ut.goBack(),e(OC(o.data.tags,n)),e(uC({...o.data}));const a=u=>{const c=t().getIn(["timelines",u]);c&&c.get("items").size>0&&c.getIn(["items",0])!==null&&c.get("online")&&e(XO(u,{...o.data}))};s&&e(Nt({...o.data})),s===null&&o.data.visibility!=="direct"&&a("home"),s===null&&o.data.in_reply_to_id===null&&o.data.visibility==="public"&&(a("community"),a("public"),a(`account:${o.data.account.id}`)),e(_r({message:s===null?Ws.published:Ws.saved,action:Ws.open,dismissAfter:1e4,onClick:()=>ut.push(`/@${o.data.account.username}/${o.data.id}`)}))}).catch(function(o){e(cC(o))})}}function aC(){return{type:wg}}function uC(e){return{type:Tg,status:e}}function cC(e){return{type:bg,error:e}}function T2(e){return function(t,n){const r=n().getIn(["server","server","configuration","statuses","max_media_attachments"]),s=n().getIn(["compose","media_attachments"]),i=n().getIn(["compose","pending_media_attachments"]),o=new Array(e.length).fill(0);let a=Array.from(e).reduce((u,c)=>u+c.size,0);if(e.length+s.size+i>r){t(_r({message:Ws.uploadErrorLimit}));return}if(n().getIn(["compose","poll"])){t(_r({message:Ws.uploadErrorPoll}));return}t(mC());for(const[u,c]of Array.from(e).entries()){if(s.size+u>r-1)break;const l=new FormData;l.append("file",c),F().post("/api/v2/media",l,{onUploadProgress:function({loaded:f}){o[u]=f,t(_C(o.reduce((d,p)=>d+p,0),a))}}).then(({status:f,data:d})=>{if(f===200)t(jd(d,c));else if(f===202){t(lC());let p=1;const h=()=>{F().get(`/api/v1/media/${d.id}`).then(_=>{if(_.status===200)t(jd(_.data,c));else if(_.status===206){const g=(Math.log2(p)||1)*1e3;p+=1,setTimeout(()=>h(),g)}}).catch(_=>t(Hd(_)))};h()}}).catch(f=>t(Hd(f)))}}}const lC=()=>({type:Pg}),b2=(e,t)=>n=>{n(fC());const r=t.size,s=new FormData;s.append("thumbnail",t),F().put(`/api/v1/media/${e}`,s,{onUploadProgress:({loaded:i})=>{n(dC(i,r))}}).then(({data:i})=>{n(pC(i))}).catch(i=>{n(hC(e))})},fC=()=>({type:Ug,skipLoading:!0}),dC=(e,t)=>({type:qg,loaded:e,total:t,skipLoading:!0}),pC=e=>({type:kg,media:e,skipLoading:!0}),hC=e=>({type:Dg,error:e,skipLoading:!0});function mC(){return{type:Ng,skipLoading:!0}}function _C(e,t){return{type:Mg,loaded:e,total:t}}function jd(e,t){return{type:Lg,media:e,file:t,skipLoading:!0}}function Hd(e){return{type:xg,error:e,skipLoading:!0}}function O2(e){return{type:Fg,media_id:e}}function C2(){return pr&&pr.abort(),{type:$g}}const gC=Pc((e,t,n)=>{pr&&pr.abort(),pr=new AbortController,F().get("/api/v1/accounts/search",{signal:pr.signal,params:{q:n.slice(1),resolve:!1,limit:4}}).then(r=>{e(ie(r.data)),e(EC(n,r.data))}).catch(r=>{oh.isCancel(r)||e(di(r))}).finally(()=>{pr=void 0})},200,{leading:!0,trailing:!0}),vC=(e,t,n)=>{const r=og(n.replace(":",""),{maxResults:5});e(SC(n,r))},yC=Pc((e,t,n)=>{As&&As.abort(),e(TC(n)),As=new AbortController,F().get("/api/v2/search",{signal:As.signal,params:{type:"hashtags",q:n.slice(1),resolve:!1,limit:4,exclude_unreviewed:!0}}).then(({data:r})=>{e(wC(n,r.hashtags))}).catch(r=>{oh.isCancel(r)||e(di(r))}).finally(()=>{As=void 0})},200,{leading:!0,trailing:!0});function A2(e){return(t,n)=>{switch(e[0]){case":":vC(t,n,e);break;case"#":yC(t,n,e);break;default:gC(t,n,e);break}}}function SC(e,t){return{type:ma,token:e,emojis:t}}function EC(e,t){return{type:ma,token:e,accounts:t}}const wC=(e,t)=>({type:ma,token:e,tags:t});function I2(e,t,n,r){return(s,i)=>{let o,a;n.type==="emoji"?(o=n.native||n.colons,a=e-1,s(KO(n))):n.type==="hashtag"?(o=`#${n.name}`,a=e-1):n.type==="account"&&(o=i().getIn(["accounts",n.id,"acct"]),a=e),n.type!=="hashtag"||t.slice(1).localeCompare(n.name,void 0,{sensitivity:"accent"})!==0?s({type:jg,position:a,token:t,completion:o,path:r}):s({type:Hg,position:a,token:t,completion:o,path:r})}}function TC(e){return{type:Bg,token:e}}function sv(e){return{type:zg,tags:e}}function bC(){return(e,t)=>{const n=t().getIn(["meta","me"]),r=G_.get(n);r!==null&&e(sv(r))}}function OC(e,t){return(n,r)=>{const s=r(),i=s.getIn(["compose","tagHistory"]),o=s.getIn(["meta","me"]),a=e.map(l=>{const f=t.match(new RegExp(`#${l.name}`,"i"));return f&&f.length>0?f[0].slice(1):l.name}),u=i.filter(l=>a.findIndex(f=>f.toLowerCase()===l.toLowerCase())===-1);a.push(...u.toJS());const c=a.slice(0,1e3);G_.set(o,c),n(sv(c))}}function R2(){return{type:Wg}}function N2(){return{type:Vg}}const L2=e=>({type:zl,language:e});function x2(){return{type:Gg}}function M2(e){return{type:Kg,text:e}}function P2(e){return{type:Qg,value:e}}function F2(e,t,n){return{type:Yg,position:e,emoji:t,needsSpace:n}}function U2(e){return{type:Xg,value:e}}function k2(){return{type:Zg}}function D2(){return{type:Jg}}function q2(e,t,n){return{type:ev,index:e,title:t,maxOptions:n}}function $2(e,t){return{type:tv,expiresIn:e,isMultiple:t}}const j2=(e,t)=>({type:nv,a:e,b:t}),Wl=e=>Vt("v2/search",{...e}),su=ce("search/submit",async({q:e,type:t},{getState:n})=>{const r=!!n().meta.get("me");return Wl({q:e,type:t,resolve:r,limit:11})},(e,{dispatch:t})=>(e.accounts.length>0&&(t(ie(e.accounts)),t(He(e.accounts.map(n=>n.id)))),e.statuses.length>0&&t(je(e.statuses)),e),{useLoadingBar:!1}),iu=ce("search/expand",async({type:e},{getState:t})=>{const n=t().search.q,r=t().search.results,s=r==null?void 0:r[e].length;return Wl({q:n,type:e,limit:10,offset:s})},(e,{dispatch:t})=>(e.accounts.length>0&&(t(ie(e.accounts)),t(He(e.accounts.map(n=>n.id)))),e.statuses.length>0&&t(je(e.statuses)),e),{useLoadingBar:!0}),H2=ce("search/openURL",({url:e})=>Wl({q:e,resolve:!0,limit:1}),(e,{dispatch:t})=>(e.accounts.length>0?t(ie(e.accounts)):e.statuses.length>0&&t(je(e.statuses)),e),{useLoadingBar:!0}),B2=It("search/clickResult",({q:e,type:t},{dispatch:n,getState:r})=>{const s=r().search.recent;if(s.some(a=>a.q===e&&a.type===t))return;const i=r().meta.get("me"),o=[{type:t,q:e},...s].slice(0,4);Hl.set(i,o),n(_a(o))}),z2=It("search/forgetResult",({q:e,type:t},{dispatch:n,getState:r})=>{const s=r().search.recent,i=r().meta.get("me"),o=s.filter(a=>a.q!==e||a.type!==t);Hl.set(i,o),n(_a(o))}),_a=Z("search/updateHistory"),CC=It("search/hydrate",(e,{dispatch:t,getState:n})=>{const r=n().meta.get("me"),s=Hl.get(r);s!==null&&t(_a(s))}),ps="STORE_HYDRATE",AC=e=>me(e,(t,n)=>Ge(n)?n.toList():n.toMap());function W2(e){return t=>{const n=AC(e);t({type:ps,state:n}),t(bC()),t(CC()),t(ie(Object.values(e.accounts)))}}const iv="ANNOUNCEMENTS_FETCH_REQUEST",ov="ANNOUNCEMENTS_FETCH_SUCCESS",av="ANNOUNCEMENTS_FETCH_FAIL",uv="ANNOUNCEMENTS_UPDATE",cv="ANNOUNCEMENTS_DELETE",IC="ANNOUNCEMENTS_DISMISS_REQUEST",lv="ANNOUNCEMENTS_DISMISS_SUCCESS",RC="ANNOUNCEMENTS_DISMISS_FAIL",fv="ANNOUNCEMENTS_REACTION_ADD_REQUEST",NC="ANNOUNCEMENTS_REACTION_ADD_SUCCESS",dv="ANNOUNCEMENTS_REACTION_ADD_FAIL",pv="ANNOUNCEMENTS_REACTION_REMOVE_REQUEST",LC="ANNOUNCEMENTS_REACTION_REMOVE_SUCCESS",hv="ANNOUNCEMENTS_REACTION_REMOVE_FAIL",mv="ANNOUNCEMENTS_REACTION_UPDATE",_v="ANNOUNCEMENTS_TOGGLE_SHOW",xC=()=>{},V2=(e=xC)=>t=>{t(MC()),F().get("/api/v1/announcements").then(n=>{t(PC(n.data.map(r=>d_(r))))}).catch(n=>{t(FC(n))}).finally(()=>{e()})},MC=()=>({type:iv,skipLoading:!0}),PC=e=>({type:ov,announcements:e,skipLoading:!0}),FC=e=>({type:av,error:e,skipLoading:!0,skipAlert:!0}),G2=e=>({type:uv,announcement:d_(e)}),K2=e=>t=>{t(UC(e)),F().post(`/api/v1/announcements/${e}/dismiss`).then(()=>{t(kC(e))}).catch(n=>{t(DC(e,n))})},UC=e=>({type:IC,id:e}),kC=e=>({type:lv,id:e}),DC=(e,t)=>({type:RC,id:e,error:t}),Q2=(e,t)=>(n,r)=>{const s=r().getIn(["announcements","items"]).find(o=>o.get("id")===e);let i=!1;if(s){const o=s.get("reactions").find(a=>a.get("name")===t);o&&o.get("me")&&(i=!0)}i||n(qC(e,t)),F().put(`/api/v1/announcements/${e}/reactions/${encodeURIComponent(t)}`).then(()=>{n($C(e,t))}).catch(o=>{i||n(jC(e,t,o))})},qC=(e,t)=>({type:fv,id:e,name:t,skipLoading:!0}),$C=(e,t)=>({type:NC,id:e,name:t,skipLoading:!0}),jC=(e,t,n)=>({type:dv,id:e,name:t,error:n,skipLoading:!0}),X2=(e,t)=>n=>{n(HC(e,t)),F().delete(`/api/v1/announcements/${e}/reactions/${encodeURIComponent(t)}`).then(()=>{n(BC(e,t))}).catch(r=>{n(zC(e,t,r))})},HC=(e,t)=>({type:pv,id:e,name:t,skipLoading:!0}),BC=(e,t)=>({type:LC,id:e,name:t,skipLoading:!0}),zC=(e,t,n)=>({type:hv,id:e,name:t,error:n,skipLoading:!0}),Y2=e=>({type:mv,reaction:e}),Z2=()=>({type:_v}),J2=e=>({type:cv,id:e}),gv="CONVERSATIONS_MOUNT",vv="CONVERSATIONS_UNMOUNT",yv="CONVERSATIONS_FETCH_REQUEST",Sv="CONVERSATIONS_FETCH_SUCCESS",Ev="CONVERSATIONS_FETCH_FAIL",wv="CONVERSATIONS_UPDATE",Tv="CONVERSATIONS_READ",WC="CONVERSATIONS_DELETE_REQUEST",bv="CONVERSATIONS_DELETE_SUCCESS",VC="CONVERSATIONS_DELETE_FAIL",ek=()=>({type:gv}),tk=()=>({type:vv}),nk=e=>t=>{t({type:Tv,id:e}),F().post(`/api/v1/conversations/${e}/read`)},rk=({maxId:e}={})=>(t,n)=>{t(GC());const r={max_id:e};e||(r.since_id=n().getIn(["conversations","items",0,"last_status"]));const s=!!r.since_id;F().get("/api/v1/conversations",{params:r}).then(i=>{const o=Le(i).refs.find(a=>a.rel==="next");t(ie(i.data.reduce((a,u)=>a.concat(u.accounts),[]))),t(je(i.data.map(a=>a.last_status).filter(a=>!!a))),t(KC(i.data,o?o.uri:null,s))}).catch(i=>t(QC(i)))},GC=()=>({type:yv}),KC=(e,t,n)=>({type:Sv,conversations:e,next:t,isLoadingRecent:n}),QC=e=>({type:Ev,error:e}),sk=e=>t=>{t(ie(e.accounts)),e.last_status&&t(Nt(e.last_status)),t({type:wv,conversation:e})},ik=e=>t=>{t(XC(e)),F().delete(`/api/v1/conversations/${e}`).then(()=>t(YC(e))).catch(n=>t(ZC(e,n)))},XC=e=>({type:WC,id:e}),YC=e=>({type:bv,id:e}),ZC=(e,t)=>({type:VC,id:e,error:t}),Ov=async(e,t)=>{const n=await F().request({method:"GET",url:t??"/api/v1/notifications",params:e});return{notifications:n.data,links:Le(n)}},Vl=async e=>{const t=await F().request({method:"GET",url:"/api/v2/notifications",params:e}),{statuses:n,accounts:r,notification_groups:s}=t.data;return{statuses:n,accounts:r,notifications:s,links:Le(t)}},JC=()=>yE("POST","v1/notifications/clear"),Cv=async(e,t)=>{const n=await F().request({method:"GET",url:t??"/api/v1/notifications/requests",params:e});return{requests:n.data,links:Le(n)}},eA=async e=>Vt(`v1/notifications/requests/${e}`),tA=async e=>an(`v1/notifications/requests/${e}/accept`),nA=async e=>an(`v1/notifications/requests/${e}/dismiss`),rA=async e=>an("v1/notifications/requests/accept",{id:e}),sA=async e=>an("v1/notifications/requests/dismiss",{id:e}),iA=["follow","follow_request","favourite","reblog","mention","poll","status","update","admin.sign_up","admin.report","moderation_warning","severed_relationships","annual_report"],Av=Jo([e=>e.settings.getIn(["notifications","shows"])],e=>e.toJS()),oA=Jo([Av],e=>Object.entries(e).filter(([t,n])=>!n).map(([t,n])=>t)),ok=e=>e.settings.getIn(["notifications","quickFilter","show"]),Iv=e=>e.settings.getIn(["notifications","quickFilter","active"]),ak=e=>e.settings.getIn(["notifications","quickFilter","advanced"]),uk=e=>e.settings.getIn(["notifications","showUnread"]),ck=e=>e.settings.getIn(["notifications","alerts"]).includes(!0)&&e.notifications.get("browserSupport")&&e.notifications.get("browserPermission")==="default"&&!e.settings.getIn(["notifications","dismissPermissionBanner"]),lk=e=>e.settings.getIn(["notifications","minimizeFilteredBanner"]),aA=e=>e.settings.getIn(["notifications","group","follow"]);function uA(e){return iA.filter(t=>t!==e)}function Gl(e){const t=Iv(e);return t==="all"?oA(e):uA(t)}function ga(e,t){const n=[],r=[];t.forEach(s=>{s.type==="admin.report"&&n.push(s.report.target_account),s.type==="moderation_warning"&&n.push(s.moderation_warning.target_account),"status"in s&&s.status&&r.push(s.status)}),n.length>0&&e(ie(n)),r.length>0&&e(je(r))}function va(e){const t=["favourite","reblog"];return aA(e)&&t.push("follow"),t}const gr=ce("notificationGroups/fetch",async(e,{getState:t})=>Vl({grouped_types:va(t()),exclude_types:Gl(t())}),({notifications:e,accounts:t,statuses:n},{dispatch:r})=>{var i;r(ie(t)),r(je(n)),ga(r,e);const s=e;return e.length>1&&s.push({type:"gap",maxId:(i=e.at(-1))==null?void 0:i.page_min_id}),s}),ou=ce("notificationGroups/fetchGap",async(e,{getState:t})=>Vl({grouped_types:va(t()),max_id:e.gap.maxId,exclude_types:Gl(t())}),({notifications:e,accounts:t,statuses:n},{dispatch:r})=>(r(ie(t)),r(je(n)),ga(r,e),{notifications:e})),au=ce("notificationGroups/pollRecentNotifications",async(e,{getState:t})=>{var n;return Vl({grouped_types:va(t()),max_id:void 0,exclude_types:Gl(t()),since_id:Gn?(n=t().notificationGroups.groups.find(r=>r.type!=="gap"))==null?void 0:n.page_max_id:void 0})},({notifications:e,accounts:t,statuses:n},{dispatch:r})=>(r(ie(t)),r(je(n)),ga(r,e),{notifications:e}),{useLoadingBar:!1}),cA=It("notificationGroups/processNew",(e,{dispatch:t,getState:n})=>{var a;const r=n(),s=Iv(r),i=Av(r);if((s==="all"?i[e.type]!==!1:s===e.type)&&!((e.type==="mention"||e.type==="update")&&((a=e.status)!=null&&a.filtered)&&e.status.filtered.filter(c=>c.filter.context.includes("notifications")).some(c=>c.filter.filter_action==="hide")))return ga(t,[e]),{notification:e,groupedTypes:va(r)}}),lA=Z("notificationGroups/loadPending"),fA=It("notificationGroups/updateScrollPosition",({top:e},{dispatch:t,getState:n})=>(e&&n().notificationGroups.mergedNotifications==="needs-reload"&&t(gr()),{top:e})),fk=It("notifications/filter/set",({filterType:e},{dispatch:t})=>{t({type:J_,path:["notifications","quickFilter","active"],value:e}),t(gr()),t(Ir())}),dA=ce("notifications/clear",()=>JC()),pA=Z("notificationGroups/markAsRead"),hA=It("notificationGroups/mount",(e,{dispatch:t,getState:n})=>{const r=n();r.notificationGroups.mounted===0&&r.notificationGroups.mergedNotifications==="needs-reload"&&t(gr())}),mA=Z("notificationGroups/unmount"),_A=It("notificationGroups/refreshStale",(e,{dispatch:t,getState:n})=>{const r=n();return r.notificationGroups.scrolledToTop||!r.notificationGroups.mounted?(t(gr()),{deferredRefresh:!1}):{deferredRefresh:!0}}),gA=e=>Vt(`v1/statuses/${e}/context`),Rv=ce("status/context",({statusId:e})=>gA(e),(e,{dispatch:t})=>{const n=e.ancestors.concat(e.descendants);return t(je(n)),{context:e}}),Nv="STATUS_FETCH_REQUEST",vA="STATUS_FETCH_SUCCESS",Lv="STATUS_FETCH_FAIL",yA="STATUS_DELETE_REQUEST",SA="STATUS_DELETE_SUCCESS",EA="STATUS_DELETE_FAIL",wA="STATUS_MUTE_REQUEST",xv="STATUS_MUTE_SUCCESS",TA="STATUS_MUTE_FAIL",bA="STATUS_UNMUTE_REQUEST",Mv="STATUS_UNMUTE_SUCCESS",OA="STATUS_UNMUTE_FAIL",Pv="STATUS_REVEAL",Fv="STATUS_HIDE",Uv="STATUS_COLLAPSE",kv="REDRAFT",CA="STATUS_FETCH_SOURCE_REQUEST",AA="STATUS_FETCH_SOURCE_SUCCESS",IA="STATUS_FETCH_SOURCE_FAIL",RA="STATUS_TRANSLATE_REQUEST",Kl="STATUS_TRANSLATE_SUCCESS",NA="STATUS_TRANSLATE_FAIL",Ql="STATUS_TRANSLATE_UNDO";function LA(e,t){return{type:Nv,id:e,skipLoading:t}}function dk(e,t=!1,n=!0){return(r,s)=>{const i=!t&&s().getIn(["statuses",e],null)!==null;n&&r(Rv({statusId:e})),!i&&(r(LA(e,i)),F().get(`/api/v1/statuses/${e}`).then(o=>{r(Nt(o.data)),r(xA(i))}).catch(o=>{r(MA(e,o,i))}))}}function xA(e){return{type:vA,skipLoading:e}}function MA(e,t,n){return{type:Lv,id:e,error:t,skipLoading:n,skipAlert:!0}}function PA(e,t){return{type:kv,status:e,raw_text:t}}const pk=e=>(t,n)=>{let r=n().getIn(["statuses",e]);r.get("poll")&&(r=r.set("poll",n().getIn(["polls",r.get("poll")]))),t(FA()),F().get(`/api/v1/statuses/${e}/source`).then(s=>{t(UA()),$i(n),t(sC(r,s.data.text,s.data.spoiler_text))}).catch(s=>{t(kA(s))})},FA=()=>({type:CA}),UA=()=>({type:AA}),kA=e=>({type:IA,error:e});function hk(e,t=!1){return(n,r)=>{let s=r().getIn(["statuses",e]);s.get("poll")&&(s=s.set("poll",r().getIn(["polls",s.get("poll")]))),n(DA(e)),F().delete(`/api/v1/statuses/${e}`,{params:{delete_media:!t}}).then(i=>{n(qA(e)),n(YO(e)),n(ds(i.data.account)),t&&(n(PA(s,i.data.text)),$i(r))}).catch(i=>{n($A(e,i))})}}function DA(e){return{type:yA,id:e}}function qA(e){return{type:SA,id:e}}function $A(e,t){return{type:EA,id:e,error:t}}const mk=e=>t=>t(Nt(e));function _k(e){return t=>{t(jA(e)),F().post(`/api/v1/statuses/${e}/mute`).then(()=>{t(HA(e))}).catch(n=>{t(BA(e,n))})}}function jA(e){return{type:wA,id:e}}function HA(e){return{type:xv,id:e}}function BA(e,t){return{type:TA,id:e,error:t}}function gk(e){return t=>{t(zA(e)),F().post(`/api/v1/statuses/${e}/unmute`).then(()=>{t(WA(e))}).catch(n=>{t(VA(e,n))})}}function zA(e){return{type:bA,id:e}}function WA(e){return{type:Mv,id:e}}function VA(e,t){return{type:OA,id:e,error:t}}function GA(e){return Array.isArray(e)||(e=[e]),{type:Fv,ids:e}}function KA(e){return Array.isArray(e)||(e=[e]),{type:Pv,ids:e}}function vk(e){return(t,n)=>{const r=n().statuses.get(e);r&&(r.get("hidden")?t(KA(e)):t(GA(e)))}}function yk(e,t){return{type:Uv,id:e,isCollapsed:t}}const Sk=e=>t=>{t(QA(e)),F().post(`/api/v1/statuses/${e}/translate`).then(n=>{t(XA(e,n.data))}).catch(n=>{t(YA(e,n))})},QA=e=>({type:RA,id:e}),XA=(e,t)=>({type:Kl,id:e,translation:t}),YA=(e,t)=>({type:NA,id:e,error:t}),Ek=(e,t)=>({type:Ql,id:e,pollId:t}),wk=e=>(t,n)=>{const r=n(),s=r.statuses.getIn([e,"account"]),i=r.accounts.getIn([s,"acct"]);i&&ut.push(`/@${i}/${e}`)},ZA=Z("APP_FOCUS"),JA=Z("APP_UNFOCUS"),eI=Z("APP_LAYOUT_CHANGE");var uu={},cu={};function Dv(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);e!=null&&this.setState(e)}function qv(e){function t(n){var r=this.constructor.getDerivedStateFromProps(e,n);return r??null}this.setState(t.bind(this))}function $v(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}Dv.__suppressDeprecationWarning=!0;qv.__suppressDeprecationWarning=!0;$v.__suppressDeprecationWarning=!0;function tI(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if(typeof e.getDerivedStateFromProps!="function"&&typeof t.getSnapshotBeforeUpdate!="function")return e;var n=null,r=null,s=null;if(typeof t.componentWillMount=="function"?n="componentWillMount":typeof t.UNSAFE_componentWillMount=="function"&&(n="UNSAFE_componentWillMount"),typeof t.componentWillReceiveProps=="function"?r="componentWillReceiveProps":typeof t.UNSAFE_componentWillReceiveProps=="function"&&(r="UNSAFE_componentWillReceiveProps"),typeof t.componentWillUpdate=="function"?s="componentWillUpdate":typeof t.UNSAFE_componentWillUpdate=="function"&&(s="UNSAFE_componentWillUpdate"),n!==null||r!==null||s!==null){var i=e.displayName||e.name,o=typeof e.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+i+" uses "+o+" but also contains the following legacy lifecycles:"+(n!==null?`
  `+n:"")+(r!==null?`
  `+r:"")+(s!==null?`
  `+s:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof e.getDerivedStateFromProps=="function"&&(t.componentWillMount=Dv,t.componentWillReceiveProps=qv),typeof t.getSnapshotBeforeUpdate=="function"){if(typeof t.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=$v;var a=t.componentDidUpdate;t.componentDidUpdate=function(c,l,f){var d=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:f;a.call(this,c,l,d)}}return e}const nI=Object.freeze(Object.defineProperty({__proto__:null,polyfill:tI},Symbol.toStringTag,{value:"Module"})),rI=Jp(nI);var lu={exports:{}},fu,Bd;function sI(){if(Bd)return fu;Bd=1;var e=Object.create,t=Object.defineProperty,n=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,s=Object.getPrototypeOf,i=Object.prototype.hasOwnProperty,o=(E,P)=>{for(var D in P)t(E,D,{get:P[D],enumerable:!0})},a=(E,P,D,G)=>{if(P&&typeof P=="object"||typeof P=="function")for(let $ of r(P))!i.call(E,$)&&$!==D&&t(E,$,{get:()=>P[$],enumerable:!(G=n(P,$))||G.enumerable});return E},u=(E,P,D)=>(D=E!=null?e(s(E)):{},a(!E||!E.__esModule?t(D,"default",{value:E,enumerable:!0}):D,E)),c=E=>a(t({},"__esModule",{value:!0}),E),l={};o(l,{Provider:()=>k,ReactReduxContext:()=>pt,batch:()=>oE,connect:()=>qn,createDispatchHook:()=>Xt,createSelectorHook:()=>lf,createStoreHook:()=>Fe,shallowEqual:()=>rt,useDispatch:()=>Nr,useSelector:()=>iE,useStore:()=>Ue}),fu=c(l);var f=u(xc()),d=f.version.startsWith("19"),p=Symbol.for(d?"react.transitional.element":"react.element"),h=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),y=Symbol.for("react.consumer"),S=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),j=b,H=x;function K(E){if(typeof E=="object"&&E!==null){let{$$typeof:P}=E;switch(P){case p:switch(E=E.type,E){case _:case v:case g:case O:case N:return E;default:switch(E=E&&E.$$typeof,E){case S:case b:case z:case x:return E;case y:return E;default:return P}}case h:return P}}}function V(E){return K(E)===x}function Y(E,P,D,G,{areStatesEqual:$,areOwnPropsEqual:ne,areStatePropsEqual:Ee}){let de=!1,qe,Te,$e,ze,ke;function On(Pt,Et){return qe=Pt,Te=Et,$e=E(qe,Te),ze=P(G,Te),ke=D($e,ze,Te),de=!0,ke}function Mt(){return $e=E(qe,Te),P.dependsOnOwnProps&&(ze=P(G,Te)),ke=D($e,ze,Te),ke}function We(){return E.dependsOnOwnProps&&($e=E(qe,Te)),P.dependsOnOwnProps&&(ze=P(G,Te)),ke=D($e,ze,Te),ke}function Cn(){let Pt=E(qe,Te),Et=!Ee(Pt,$e);return $e=Pt,Et&&(ke=D($e,ze,Te)),ke}function Yt(Pt,Et){let cr=!ne(Et,Te),ht=!$(Pt,qe,Et,Te);return qe=Pt,Te=Et,cr&&ht?Mt():cr?We():ht?Cn():ke}return function(Pt,Et){return de?Yt(Pt,Et):On(Pt,Et)}}function B(E,{initMapStateToProps:P,initMapDispatchToProps:D,initMergeProps:G,...$}){let ne=P(E,$),Ee=D(E,$),de=G(E,$);return Y(ne,Ee,de,E,$)}function w(E,P){let D={};for(let G in E){let $=E[G];typeof $=="function"&&(D[G]=(...ne)=>P($(...ne)))}return D}function A(E){return function(P){let D=E(P);function G(){return D}return G.dependsOnOwnProps=!1,G}}function I(E){return E.dependsOnOwnProps?!!E.dependsOnOwnProps:E.length!==1}function U(E,P){return function(D,{displayName:G}){let $=function(ne,Ee){return $.dependsOnOwnProps?$.mapToProps(ne,Ee):$.mapToProps(ne,void 0)};return $.dependsOnOwnProps=!0,$.mapToProps=function(ne,Ee){$.mapToProps=E,$.dependsOnOwnProps=I(E);let de=$(ne,Ee);return typeof de=="function"&&($.mapToProps=de,$.dependsOnOwnProps=I(de),de=$(ne,Ee)),de},$}}function M(E,P){return(D,G)=>{throw new Error(`Invalid value of type ${typeof E} for ${P} argument when connecting component ${G.wrappedComponentName}.`)}}function Q(E){return E&&typeof E=="object"?A(P=>w(E,P)):E?typeof E=="function"?U(E):M(E,"mapDispatchToProps"):A(P=>({dispatch:P}))}function L(E){return E?typeof E=="function"?U(E):M(E,"mapStateToProps"):A(()=>({}))}function se(E,P,D){return{...D,...E,...P}}function we(E){return function(P,{displayName:D,areMergedPropsEqual:G}){let $=!1,ne;return function(Ee,de,qe){let Te=E(Ee,de,qe);return $?G(Te,ne)||(ne=Te):($=!0,ne=Te),ne}}}function ue(E){return E?typeof E=="function"?we(E):M(E,"mergeProps"):()=>se}function W(E){E()}function ge(){let E=null,P=null;return{clear(){E=null,P=null},notify(){W(()=>{let D=E;for(;D;)D.callback(),D=D.next})},get(){let D=[],G=E;for(;G;)D.push(G),G=G.next;return D},subscribe(D){let G=!0,$=P={callback:D,next:null,prev:P};return $.prev?$.prev.next=$:E=$,function(){!G||E===null||(G=!1,$.next?$.next.prev=$.prev:P=$.prev,$.prev?$.prev.next=$.next:E=$.next)}}}}var C={notify(){},get:()=>[]};function ye(E,P){let D,G=C,$=0,ne=!1;function Ee(We){$e();let Cn=G.subscribe(We),Yt=!1;return()=>{Yt||(Yt=!0,Cn(),ze())}}function de(){G.notify()}function qe(){Mt.onStateChange&&Mt.onStateChange()}function Te(){return ne}function $e(){$++,D||(D=P?P.addNestedSub(qe):E.subscribe(qe),G=ge())}function ze(){$--,D&&$===0&&(D(),D=void 0,G.clear(),G=C)}function ke(){ne||(ne=!0,$e())}function On(){ne&&(ne=!1,ze())}let Mt={addNestedSub:Ee,notifyNestedSubs:de,handleChangeWrapper:qe,isSubscribed:Te,trySubscribe:ke,tryUnsubscribe:On,getListeners:()=>G};return Mt}var ve=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",xe=ve(),Ke=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Se=Ke(),oe=()=>xe||Se?f.useLayoutEffect:f.useEffect,un=oe();function Be(E,P){return E===P?E!==0||P!==0||1/E===1/P:E!==E&&P!==P}function rt(E,P){if(Be(E,P))return!0;if(typeof E!="object"||E===null||typeof P!="object"||P===null)return!1;let D=Object.keys(E),G=Object.keys(P);if(D.length!==G.length)return!1;for(let $=0;$<D.length;$++)if(!Object.prototype.hasOwnProperty.call(P,D[$])||!Be(E[D[$]],P[D[$]]))return!1;return!0}var cn={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},ir={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},or={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},dt={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Lt={[j]:or,[H]:dt};function ln(E){return V(E)?dt:Lt[E.$$typeof]||cn}var Dn=Object.defineProperty,En=Object.getOwnPropertyNames,xt=Object.getOwnPropertySymbols,wn=Object.getOwnPropertyDescriptor,Tn=Object.getPrototypeOf,bn=Object.prototype;function ar(E,P){if(typeof P!="string"){if(bn){let ne=Tn(P);ne&&ne!==bn&&ar(E,ne)}let D=En(P);xt&&(D=D.concat(xt(P)));let G=ln(E),$=ln(P);for(let ne=0;ne<D.length;++ne){let Ee=D[ne];if(!ir[Ee]&&!($&&$[Ee])&&!(G&&G[Ee])){let de=wn(P,Ee);try{Dn(E,Ee,de)}catch{}}}}return E}var ur=Symbol.for("react-redux-context"),fn=typeof globalThis<"u"?globalThis:{};function Rr(){if(!f.createContext)return{};let E=fn[ur]??(fn[ur]=new Map),P=E.get(f.createContext);return P||(P=f.createContext(null),E.set(f.createContext,P)),P}var pt=Rr(),hs=[null,null];function ms(E,P,D){un(()=>E(...P),D)}function _s(E,P,D,G,$,ne){E.current=G,D.current=!1,$.current&&($.current=null,ne())}function gs(E,P,D,G,$,ne,Ee,de,qe,Te,$e){if(!E)return()=>{};let ze=!1,ke=null,On=()=>{if(ze||!de.current)return;let Mt=P.getState(),We,Cn;try{We=G(Mt,$.current)}catch(Yt){Cn=Yt,ke=Yt}Cn||(ke=null),We===ne.current?Ee.current||Te():(ne.current=We,qe.current=We,Ee.current=!0,$e())};return D.onStateChange=On,D.trySubscribe(),On(),()=>{if(ze=!0,D.tryUnsubscribe(),D.onStateChange=null,ke)throw ke}}function vs(E,P){return E===P}function ys(E,P,D,{pure:G,areStatesEqual:$=vs,areOwnPropsEqual:ne=rt,areStatePropsEqual:Ee=rt,areMergedPropsEqual:de=rt,forwardRef:qe=!1,context:Te=pt}={}){let $e=Te,ze=L(E),ke=Q(P),On=ue(D),Mt=!!E;return We=>{let Cn=We.displayName||We.name||"Component",Yt=`Connect(${Cn})`,Pt={shouldHandleStateChanges:Mt,displayName:Yt,wrappedComponentName:Cn,WrappedComponent:We,initMapStateToProps:ze,initMapDispatchToProps:ke,initMergeProps:On,areStatesEqual:$,areStatePropsEqual:Ee,areOwnPropsEqual:ne,areMergedPropsEqual:de};function Et(ht){let[Lr,zi,xr]=f.useMemo(()=>{let{reactReduxForwardedRef:Ft,...Na}=ht;return[ht.context,Ft,Na]},[ht]),Ta=f.useMemo(()=>{let Ft=$e;return Lr==null||Lr.Consumer,Ft},[Lr,$e]),An=f.useContext(Ta),Ss=!!ht.store&&!!ht.store.getState&&!!ht.store.dispatch,aE=!!An&&!!An.store,$n=Ss?ht.store:An.store,ff=aE?An.getServerState:$n.getState,ba=f.useMemo(()=>B($n.dispatch,Pt),[$n]),[Es,df]=f.useMemo(()=>{if(!Mt)return hs;let Ft=ye($n,Ss?void 0:An.subscription),Na=Ft.notifyNestedSubs.bind(Ft);return[Ft,Na]},[$n,Ss,An]),pf=f.useMemo(()=>Ss?An:{...An,subscription:Es},[Ss,An,Es]),Oa=f.useRef(void 0),Ca=f.useRef(xr),ws=f.useRef(void 0),hf=f.useRef(!1),Aa=f.useRef(!1),Ia=f.useRef(void 0);un(()=>(Aa.current=!0,()=>{Aa.current=!1}),[]);let mf=f.useMemo(()=>()=>ws.current&&xr===Ca.current?ws.current:ba($n.getState(),xr),[$n,xr]),uE=f.useMemo(()=>Ft=>Es?gs(Mt,$n,Es,ba,Ca,Oa,hf,Aa,ws,df,Ft):()=>{},[Es]);ms(_s,[Ca,Oa,hf,xr,ws,df]);let Wi;try{Wi=f.useSyncExternalStore(uE,mf,ff?()=>ba(ff(),xr):mf)}catch(Ft){throw Ia.current&&(Ft.message+=`
The error may be correlated with this previous error:
${Ia.current.stack}

`),Ft}un(()=>{Ia.current=void 0,ws.current=void 0,Oa.current=Wi});let Ra=f.useMemo(()=>f.createElement(We,{...Wi,ref:zi}),[zi,We,Wi]);return f.useMemo(()=>Mt?f.createElement(Ta.Provider,{value:pf},Ra):Ra,[Ta,Ra,pf])}let cr=f.memo(Et);if(cr.WrappedComponent=We,cr.displayName=Et.displayName=Yt,qe){let ht=f.forwardRef(function(Lr,zi){return f.createElement(cr,{...Lr,reactReduxForwardedRef:zi})});return ht.displayName=Yt,ht.WrappedComponent=We,ar(ht,We)}return ar(cr,We)}}var qn=ys;function J(E){let{children:P,context:D,serverState:G,store:$}=E,ne=f.useMemo(()=>{let de=ye($);return{store:$,subscription:de,getServerState:G?()=>G:void 0}},[$,G]),Ee=f.useMemo(()=>$.getState(),[$]);return un(()=>{let{subscription:de}=ne;return de.onStateChange=de.notifyNestedSubs,de.trySubscribe(),Ee!==$.getState()&&de.notifyNestedSubs(),()=>{de.tryUnsubscribe(),de.onStateChange=void 0}},[ne,Ee]),f.createElement((D||pt).Provider,{value:ne},P)}var k=J;function te(E=pt){return function(){return f.useContext(E)}}var le=te();function Fe(E=pt){let P=E===pt?le:te(E),D=()=>{let{store:G}=P();return G};return Object.assign(D,{withTypes:()=>D}),D}var Ue=Fe();function Xt(E=pt){let P=E===pt?Ue:Fe(E),D=()=>P().dispatch;return Object.assign(D,{withTypes:()=>D}),D}var Nr=Xt(),rE=fm(),sE=(E,P)=>E===P;function lf(E=pt){let P=E===pt?le:te(E),D=(G,$={})=>{let{equalityFn:ne=sE}=typeof $=="function"?{equalityFn:$}:$,Ee=P(),{store:de,subscription:qe,getServerState:Te}=Ee;f.useRef(!0);let $e=f.useCallback({[G.name](ke){return G(ke)}}[G.name],[G]),ze=(0,rE.useSyncExternalStoreWithSelector)(qe.addNestedSub,de.getState,Te||de.getState,$e,ne);return f.useDebugValue(ze),ze};return Object.assign(D,{withTypes:()=>D}),D}var iE=lf(),oE=W;return fu}var zd;function jv(){return zd||(zd=1,lu.exports=sI()),lu.exports}var st={},Wd;function ya(){if(Wd)return st;Wd=1,Object.defineProperty(st,"__esModule",{value:!0}),st.showLoading=a,st.hideLoading=u,st.resetLoading=c,st.loadingBarReducer=l,st.DEFAULT_SCOPE=st.RESET=st.HIDE=st.SHOW=void 0;function e(f,d){var p=Object.keys(f);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(f);d&&(h=h.filter(function(_){return Object.getOwnPropertyDescriptor(f,_).enumerable})),p.push.apply(p,h)}return p}function t(f){for(var d=1;d<arguments.length;d++){var p=arguments[d]!=null?arguments[d]:{};d%2?e(Object(p),!0).forEach(function(h){n(f,h,p[h])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(p)):e(Object(p)).forEach(function(h){Object.defineProperty(f,h,Object.getOwnPropertyDescriptor(p,h))})}return f}function n(f,d,p){return d in f?Object.defineProperty(f,d,{value:p,enumerable:!0,configurable:!0,writable:!0}):f[d]=p,f}var r="loading-bar/SHOW";st.SHOW=r;var s="loading-bar/HIDE";st.HIDE=s;var i="loading-bar/RESET";st.RESET=i;var o="default";st.DEFAULT_SCOPE=o;function a(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:o;return{type:r,payload:{scope:f}}}function u(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:o;return{type:s,payload:{scope:f}}}function c(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:o;return{type:i,payload:{scope:f}}}function l(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},p=d.payload||{},h=p.scope,_=h===void 0?o:h;switch(d.type){case r:return t(t({},f),{},n({},_,(f[_]||0)+1));case s:return t(t({},f),{},n({},_,Math.max(0,(f[_]||1)-1)));case i:return t(t({},f),{},n({},_,0));default:return f}}return st}var Vd;function Hv(){return Vd||(Vd=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.LoadingBar=e.TERMINATING_ANIMATION_DURATION=e.ANIMATION_DURATION=e.PROGRESS_INCREASE=e.MAX_PROGRESS=e.UPDATE_TIME=void 0;var t=a(xc()),n=rI,r=_E(),s=jv(),i=ya();function o(){if(typeof WeakMap!="function")return null;var w=new WeakMap;return o=function(){return w},w}function a(w){if(w&&w.__esModule)return w;if(w===null||u(w)!=="object"&&typeof w!="function")return{default:w};var A=o();if(A&&A.has(w))return A.get(w);var I={},U=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var M in w)if(Object.prototype.hasOwnProperty.call(w,M)){var Q=U?Object.getOwnPropertyDescriptor(w,M):null;Q&&(Q.get||Q.set)?Object.defineProperty(I,M,Q):I[M]=w[M]}return I.default=w,A&&A.set(w,I),I}function u(w){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?u=function(I){return typeof I}:u=function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I},u(w)}function c(w,A){var I=Object.keys(w);if(Object.getOwnPropertySymbols){var U=Object.getOwnPropertySymbols(w);A&&(U=U.filter(function(M){return Object.getOwnPropertyDescriptor(w,M).enumerable})),I.push.apply(I,U)}return I}function l(w){for(var A=1;A<arguments.length;A++){var I=arguments[A]!=null?arguments[A]:{};A%2?c(Object(I),!0).forEach(function(U){f(w,U,I[U])}):Object.getOwnPropertyDescriptors?Object.defineProperties(w,Object.getOwnPropertyDescriptors(I)):c(Object(I)).forEach(function(U){Object.defineProperty(w,U,Object.getOwnPropertyDescriptor(I,U))})}return w}function f(w,A,I){return A in w?Object.defineProperty(w,A,{value:I,enumerable:!0,configurable:!0,writable:!0}):w[A]=I,w}function d(w,A){if(!(w instanceof A))throw new TypeError("Cannot call a class as a function")}function p(w,A){for(var I=0;I<A.length;I++){var U=A[I];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(w,U.key,U)}}function h(w,A,I){return A&&p(w.prototype,A),I&&p(w,I),w}function _(w,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function");w.prototype=Object.create(A&&A.prototype,{constructor:{value:w,writable:!0,configurable:!0}}),A&&g(w,A)}function g(w,A){return g=Object.setPrototypeOf||function(U,M){return U.__proto__=M,U},g(w,A)}function v(w){var A=b();return function(){var U=O(w),M;if(A){var Q=O(this).constructor;M=Reflect.construct(U,arguments,Q)}else M=U.apply(this,arguments);return y(this,M)}}function y(w,A){return A&&(u(A)==="object"||typeof A=="function")?A:S(w)}function S(w){if(w===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w}function b(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function O(w){return O=Object.setPrototypeOf?Object.getPrototypeOf:function(I){return I.__proto__||Object.getPrototypeOf(I)},O(w)}var N=400;e.UPDATE_TIME=N;var x=99;e.MAX_PROGRESS=x;var z=20;e.PROGRESS_INCREASE=z;var j=N*2;e.ANIMATION_DURATION=j;var H=N/2;e.TERMINATING_ANIMATION_DURATION=H;var K={percent:0,status:"hidden"},V=function(w){_(I,w);var A=v(I);h(I,null,[{key:"shouldStart",value:function(M,Q){return M.loading>0&&["hidden","stopping"].indexOf(Q.status)>=0}},{key:"shouldStop",value:function(M,Q){return M.loading===0&&["starting","running"].indexOf(Q.status)>=0}},{key:"getDerivedStateFromProps",value:function(M,Q){return I.shouldStart(M,Q)?{status:"starting"}:I.shouldStop(M,Q)?{status:"stopping"}:null}}]);function I(U){var M;return d(this,I),M=A.call(this,U),M.reset=function(){M.terminatingAnimationTimeoutId=null,M.setState(K)},M.newPercent=function(Q,L){var se=L*Math.cos(Q*(Math.PI/2/100));return Q+se},M.simulateProgress=function(){M.setState(function(Q,L){var se=L.maxProgress,we=L.progressIncrease,ue=Q.percent,W=M.newPercent(ue,we);return W<=se&&(ue=W),{percent:ue}})},M.state=l({},K),M}return h(I,[{key:"componentDidMount",value:function(){var M=this.state.status;M==="starting"&&this.start()}},{key:"componentDidUpdate",value:function(M,Q){var L=this.state.status;Q.status!==L&&(L==="starting"&&this.start(),L==="stopping"&&this.stop())}},{key:"componentWillUnmount",value:function(){clearInterval(this.progressIntervalId),clearTimeout(this.terminatingAnimationTimeoutId)}},{key:"start",value:function(){this.terminatingAnimationTimeoutId&&(clearTimeout(this.terminatingAnimationTimeoutId),this.reset());var M=this.props.updateTime;this.progressIntervalId=setInterval(this.simulateProgress,M),this.setState({status:"running"})}},{key:"stop",value:function(){var M=this.props.showFastActions;clearInterval(this.progressIntervalId),this.progressIntervalId=null;var Q=this.isShown()||M?H:0;this.terminatingAnimationTimeoutId=setTimeout(this.reset,Q),this.setState({percent:100})}},{key:"isShown",value:function(){var M=this.state.percent;return M>0&&M<=100}},{key:"buildStyle",value:function(){var M=this.state,Q=M.status,L=M.percent,se=this.props,we=se.className,ue=se.style,W=Q==="stopping"?H:j,ge={width:"".concat(L,"%"),transition:"width ".concat(W,"ms linear 0s"),msTransition:"width ".concat(W,"ms linear 0s"),WebkitTransition:"width ".concat(W,"ms linear 0s"),MozTransition:"width ".concat(W,"ms linear 0s"),OTransition:"width ".concat(W,"ms linear 0s"),willChange:"width, opacity"};return we||(ge.height="3px",ge.backgroundColor="red",ge.position="absolute"),this.isShown()?ge.opacity="1":ge.opacity="0",l(l({},ge),ue)}},{key:"render",value:function(){var M=this.state.status,Q=this.props,L=Q.direction,se=Q.className;return M==="hidden"?t.default.createElement("div",null):t.default.createElement("div",{style:{direction:L}},t.default.createElement("div",{style:this.buildStyle(),className:se}),t.default.createElement("div",{style:{display:"table",clear:"both"}}))}}]),I}(t.Component);e.LoadingBar=V,V.propTypes={className:r.string,direction:r.string,loading:r.number,maxProgress:r.number,progressIncrease:r.number,scope:r.string,showFastActions:r.bool,style:r.object,updateTime:r.number},V.defaultProps={className:"",direction:"ltr",loading:0,maxProgress:x,progressIncrease:z,scope:i.DEFAULT_SCOPE,showFastActions:!1,style:{},updateTime:N};var Y=function(A,I){return{loading:A.loadingBar[I.scope||i.DEFAULT_SCOPE]}};(0,n.polyfill)(V);var B=(0,s.connect)(Y)(V);e.default=B}(cu)),cu}var du={},Gd;function iI(){return Gd||(Gd=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=c;var t=ya();function n(l,f){return a(l)||o(l,f)||s(l,f)||r()}function r(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function s(l,f){if(l){if(typeof l=="string")return i(l,f);var d=Object.prototype.toString.call(l).slice(8,-1);if(d==="Object"&&l.constructor&&(d=l.constructor.name),d==="Map"||d==="Set")return Array.from(l);if(d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return i(l,f)}}function i(l,f){(f==null||f>l.length)&&(f=l.length);for(var d=0,p=new Array(f);d<f;d++)p[d]=l[d];return p}function o(l,f){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(l)))){var d=[],p=!0,h=!1,_=void 0;try{for(var g=l[Symbol.iterator](),v;!(p=(v=g.next()).done)&&(d.push(v.value),!(f&&d.length===f));p=!0);}catch(y){h=!0,_=y}finally{try{!p&&g.return!=null&&g.return()}finally{if(h)throw _}}return d}}function a(l){if(Array.isArray(l))return l}var u=["PENDING","FULFILLED","REJECTED"];function c(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},f=l.promiseTypeSuffixes||u,d=l.scope||t.DEFAULT_SCOPE;return function(p){var h=p.dispatch;return function(_){return function(g){if(g.type){var v=n(f,3),y=v[0],S=v[1],b=v[2],O=new RegExp("".concat(y,"$"),"g"),N=new RegExp("".concat(S,"$"),"g"),x=new RegExp("".concat(b,"$"),"g"),z=g.meta&&g.meta.scope||g.scope||d;g.type.match(O)?h((0,t.showLoading)(z)):(g.type.match(N)||g.type.match(x))&&h((0,t.hideLoading)(z))}return _(g)}}}}}(du)),du}var pu={},Kd;function oI(){return Kd||(Kd=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=jv(),n=Hv(),r=ya(),s=function(a,u){return{loading:a.get("loadingBar")[u.scope||r.DEFAULT_SCOPE]}},i=(0,t.connect)(s)(n.LoadingBar);e.default=i}(pu)),pu}var Qd;function aI(){return Qd||(Qd=1,function(e){function t(l){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t=function(d){return typeof d}:t=function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},t(l)}Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"LoadingBar",{enumerable:!0,get:function(){return n.LoadingBar}}),Object.defineProperty(e,"loadingBarMiddleware",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"DEFAULT_SCOPE",{enumerable:!0,get:function(){return s.DEFAULT_SCOPE}}),Object.defineProperty(e,"HIDE",{enumerable:!0,get:function(){return s.HIDE}}),Object.defineProperty(e,"hideLoading",{enumerable:!0,get:function(){return s.hideLoading}}),Object.defineProperty(e,"loadingBarReducer",{enumerable:!0,get:function(){return s.loadingBarReducer}}),Object.defineProperty(e,"RESET",{enumerable:!0,get:function(){return s.RESET}}),Object.defineProperty(e,"resetLoading",{enumerable:!0,get:function(){return s.resetLoading}}),Object.defineProperty(e,"SHOW",{enumerable:!0,get:function(){return s.SHOW}}),Object.defineProperty(e,"showLoading",{enumerable:!0,get:function(){return s.showLoading}}),Object.defineProperty(e,"ImmutableLoadingBar",{enumerable:!0,get:function(){return i.default}}),e.default=void 0;var n=u(Hv()),r=o(iI()),s=ya(),i=o(oI());function o(l){return l&&l.__esModule?l:{default:l}}function a(){if(typeof WeakMap!="function")return null;var l=new WeakMap;return a=function(){return l},l}function u(l){if(l&&l.__esModule)return l;if(l===null||t(l)!=="object"&&typeof l!="function")return{default:l};var f=a();if(f&&f.has(l))return f.get(l);var d={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var h in l)if(Object.prototype.hasOwnProperty.call(l,h)){var _=p?Object.getOwnPropertyDescriptor(l,h):null;_&&(_.get||_.set)?Object.defineProperty(d,h,_):d[h]=l[h]}return d.default=l,f&&f.set(l,d),d}var c=n.default;e.default=c}(uu)),uu}var Uo=aI();const Tk=Jr(Uo);var Is={},eo={exports:{}};const Xl=Jp(QT);var In={},to={exports:{}},Xd;function Bv(){return Xd||(Xd=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(n){return n&&n.type==="@@redux/INIT"?"initialState argument passed to createStore":"previous state received by the reducer"},e.exports=t.default}(to,to.exports)),to.exports}var no={exports:{}},Yd;function uI(){return Yd||(Yd=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=Xl,r=o(n),s=Bv(),i=o(s);function o(a){return a&&a.__esModule?a:{default:a}}t.default=function(a,u,c){var l=Object.keys(u);if(!l.length)return"Store does not have a valid reducer. Make sure the argument passed to combineReducers is an object whose values are reducers.";var f=(0,i.default)(c);if(r.default.isImmutable?!r.default.isImmutable(a):!r.default.Iterable.isIterable(a))return"The "+f+' is of unexpected type. Expected argument to be an instance of Immutable.Collection or Immutable.Record with the following properties: "'+l.join('", "')+'".';var d=a.toSeq().keySeq().toArray().filter(function(p){return!u.hasOwnProperty(p)});return d.length>0?"Unexpected "+(d.length===1?"property":"properties")+' "'+d.join('", "')+'" found in '+f+'. Expected to find one of the known reducer property names instead: "'+l.join('", "')+'". Unexpected properties will be ignored.':null},e.exports=t.default}(no,no.exports)),no.exports}var ro={exports:{}},Zd;function cI(){return Zd||(Zd=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(n,r,s){if(n===void 0)throw new Error('Reducer "'+r+'" returned undefined when handling "'+s.type+'" action. To ignore an action, you must explicitly return the previous state.')},e.exports=t.default}(ro,ro.exports)),ro.exports}var Jd;function lI(){if(Jd)return In;Jd=1,Object.defineProperty(In,"__esModule",{value:!0}),In.validateNextState=In.getUnexpectedInvocationParameterMessage=In.getStateName=void 0;var e=Bv(),t=o(e),n=uI(),r=o(n),s=cI(),i=o(s);function o(a){return a&&a.__esModule?a:{default:a}}return In.getStateName=t.default,In.getUnexpectedInvocationParameterMessage=r.default,In.validateNextState=i.default,In}var ep;function fI(){return ep||(ep=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=Xl,r=i(n),s=lI();function i(o){return o&&o.__esModule?o:{default:o}}t.default=function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r.default.Map,u=Object.keys(o);return function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:a(),l=arguments[1];return c.withMutations(function(f){u.forEach(function(d){var p=o[d],h=f.get(d),_=p(h,l);(0,s.validateNextState)(_,d,l),f.set(d,_)})})}},e.exports=t.default}(eo,eo.exports)),eo.exports}var tp;function dI(){if(tp)return Is;tp=1,Object.defineProperty(Is,"__esModule",{value:!0}),Is.combineReducers=void 0;var e=fI(),t=n(e);function n(r){return r&&r.__esModule?r:{default:r}}return Is.combineReducers=t.default,Is}var pI=dI();const hI=_e({name:"",value:"",verified_at:null,name_emojified:"",value_emojified:"",value_plain:null}),mI=_e({color:"",id:"",name:""}),_I={acct:"",avatar:"",avatar_static:"",bot:!1,created_at:"",discoverable:!1,indexable:!1,display_name:"",display_name_html:"",emojis:X(),fields:X(),group:!1,header:"",header_static:"",id:"",last_status_at:"",locked:!1,noindex:!1,note:"",note_emojified:"",note_plain:"string",roles:X(),uri:"",url:"",username:"",followers_count:0,following_count:0,statuses_count:0,hidden:!1,suspended:!1,memorial:!1,limited:!1,moved:null,hide_collections:!1,mute_expires_at:null},gI=_e(_I);function vI(e,t){return hI({...e,name_emojified:nn(ts(e.name),t),value_emojified:nn(e.value,t),value_plain:Go(e.value)})}function yI(e){var i;const{moved:t,...n}=e,r=fs(n.emojis),s=n.display_name.trim().length===0?n.username:n.display_name;return gI({...n,moved:t==null?void 0:t.id,fields:X(e.fields.map(o=>vI(o,r))),emojis:X(e.emojis.map(o=>l_(o))),roles:X((i=e.roles)==null?void 0:i.map(o=>mI(o))),display_name_html:nn(ts(s),r),note_emojified:nn(n.note,r),note_plain:Go(n.note),url:n.url.startsWith("http://")||n.url.startsWith("https://")?n.url:n.uri})}const SI=q(),EI=(e,t)=>{var n;return e.set(t.id,yI(t).set("hidden",((n=e.get(t.id))==null?void 0:n.hidden)===!1?!1:t.limited||!1))},wI=(e,t)=>(t.forEach(n=>{e=EI(e,n)}),e);function np(){if(!ot)throw new Error("No current user (me) defined when calling `accountsReducer`");return ot}const TI=(e=SI,t)=>ib.match(t)?e.setIn([t.payload.id,"hidden"],!1):Dl.match(t)?wI(e,t.payload.accounts):ql.match(t)&&!t.payload.alreadyFollowing?e.update(t.payload.relationship.id,n=>n==null?void 0:n.update("followers_count",r=>r+1)).update(np(),n=>n==null?void 0:n.update("following_count",r=>r+1)):fa.match(t)?e.update(t.payload.relationship.id,n=>n==null?void 0:n.update("followers_count",r=>Math.max(0,r-1))).update(np(),n=>n==null?void 0:n.update("following_count",r=>Math.max(0,r-1))):e,bI=ce("accounts_familiar_followers/fetch",({id:e})=>tw(e),([e],{dispatch:t})=>e?(t(ie(e.accounts)),{id:e.id,accountIds:e.accounts.map(n=>n.id)}):null),OI={},CI=Gt(OI,e=>{e.addCase(bI.fulfilled,(t,{payload:n})=>{n&&(t[n.id]=n.accountIds)})}),AI=new RegExp(`@${OE}$`,"gi"),rp=e=>e.toLowerCase().replace(AI,""),II={},RI=Gt(II,e=>{e.addCase(Dl,(t,n)=>{n.payload.accounts.forEach(r=>{t[rp(r.acct)]=r.id})}).addMatcher(t=>t.type===O_,(t,n)=>{var r,s;((s=(r=n.error)==null?void 0:r.response)==null?void 0:s.status)===404&&(t[rp(n.acct)]=null)})}),NI=[];let LI=0;const xI=Gt(NI,e=>{e.addCase(_r,(t,{payload:n})=>{t.push({key:LI++,...n})}).addCase(WO,(t,{payload:{key:n}})=>t.filter(r=>r.key!==n)).addCase(VO,()=>[])}),MI=q({items:X(),isLoading:!1,show:!1}),Yl=(e,t,n,r)=>e.update("items",s=>s.map(i=>i.get("id")===t?i.update("reactions",o=>{const a=o.findIndex(u=>u.get("name")===n);return a>-1?o.update(a,u=>r(u)):o.push(r(me({name:n,count:0})))}):i)),PI=(e,t)=>Yl(e,t.announcement_id,t.name,n=>n.set("count",t.count)),FI=(e,t,n)=>Yl(e,t,n,r=>r.set("me",!0).update("count",s=>s+1)),UI=(e,t,n)=>Yl(e,t,n,r=>r.set("me",!1).update("count",s=>s-1)),sp=e=>e.sortBy(t=>t.get("starts_at")||t.get("published_at")),ip=(e,t)=>{const n=e.get("items").findIndex(r=>r.get("id")===t.get("id"));return n>-1?e.update("items",r=>sp(r.update(n,s=>s.mergeDeep(t)))):e.update("items",r=>sp(r.unshift(t)))};function kI(e=MI,t){switch(t.type){case _v:return e.withMutations(n=>{n.set("show",!n.get("show"))});case iv:return e.set("isLoading",!0);case ov:return e.withMutations(n=>{const r=me(t.announcements);n.set("items",r),n.set("isLoading",!1)});case av:return e.set("isLoading",!1);case uv:return ip(e,me(t.announcement));case mv:return PI(e,t.reaction);case fv:case hv:return FI(e,t.id,t.name);case pv:case dv:return UI(e,t.id,t.name);case lv:return ip(e,me({id:t.id,read:!0}));case cv:return e.update("items",n=>{const r=n.findIndex(s=>s.get("id")===t.id);return r>-1?n.delete(r):n});default:return e}}const DI=(e,t)=>Mc(`v1/media/${e}`,t),qI=(e,t)=>{const[n,r]=(t.focus??"").split(",");return{...e.toJS(),...t,meta:{focus:{x:parseFloat(n??"0"),y:parseFloat(r??"0")}}}},hu=ce("compose/changeUpload",async({id:e,...t},{getState:n})=>{const r=n().compose.get("media_attachments").find(s=>s.get("id")===e);return r&&!r.get("unattached")?new Promise(s=>{s(qI(r,t))}):DI(e,t)},e=>({media:e,attached:typeof e.unattached<"u"&&!e.unattached}),{useLoadingBar:!1});function Pe(e){return e?(e^Math.random()*16>>e/4).toString(16):("10000000-1000-4000-8000"+-1e11).replace(/[018]/g,Pe)}const $I=q({mounted:0,sensitive:!1,spoiler:!1,spoiler_text:"",privacy:null,id:null,text:"",focusDate:null,caretPosition:null,preselectDate:null,in_reply_to:null,is_composing:!1,is_submitting:!1,is_changing_upload:!1,is_uploading:!1,progress:0,isUploadingThumbnail:!1,thumbnailProgress:0,media_attachments:X(),pending_media_attachments:0,poll:null,suggestion_token:null,suggestions:X(),default_privacy:"public",default_sensitive:!1,default_language:"en",resetFileKey:Math.floor(Math.random()*65536),idempotencyKey:null,tagHistory:X()}),jI=q({options:X(["",""]),expires_in:24*3600,multiple:!1});function HI(e,t){let n=Je([]);return t.getIn(["account","id"])!==ot&&(n=n.add(`@${t.getIn(["account","acct"])} `)),n.union(t.get("mentions").filterNot(r=>r.get("id")===ot).map(r=>`@${r.get("acct")} `)).join("")}function zv(e){return e.withMutations(t=>{t.set("id",null),t.set("text",""),t.set("spoiler",!1),t.set("spoiler_text",""),t.set("is_submitting",!1),t.set("is_changing_upload",!1),t.set("in_reply_to",null),t.set("privacy",e.get("default_privacy")),t.set("sensitive",e.get("default_sensitive")),t.set("language",e.get("default_language")),t.update("media_attachments",n=>n.clear()),t.set("progress",0),t.set("poll",null),t.set("idempotencyKey",Pe())})}function BI(e,t,n){const r=e.get("media_attachments").size;return e.withMutations(s=>{t.get("type")==="image"&&(t=t.set("file",n)),s.update("media_attachments",i=>i.push(t.set("unattached",!0))),s.set("is_uploading",!1),s.set("is_processing",!1),s.set("progress",0),s.set("resetFileKey",Math.floor(Math.random()*65536)),s.set("idempotencyKey",Pe()),s.update("pending_media_attachments",i=>i-1),r===0&&(e.get("default_sensitive")||e.get("spoiler"))&&s.set("sensitive",!0)})}function zI(e,t){const n=e.get("media_attachments").size;return e.withMutations(r=>{r.update("media_attachments",s=>s.filterNot(i=>i.get("id")===t)),r.set("idempotencyKey",Pe()),n===1&&r.set("sensitive",!1)})}const WI=(e,t,n,r,s)=>e.withMutations(i=>{i.updateIn(s,o=>`${o.slice(0,t)}${r} ${o.slice(t+n.length)}`),i.set("suggestion_token",null),i.set("suggestions",X()),s.length===1&&s[0]==="text"&&(i.set("focusDate",new Date),i.set("caretPosition",t+r.length+1)),i.set("idempotencyKey",Pe())}),VI=(e,t,n,r,s)=>e.withMutations(i=>{i.updateIn(s,o=>`${o.slice(0,t+n.length)} ${o.slice(t+n.length)}`),i.set("suggestion_token",null),i.set("suggestions",X()),i.set("focusDate",new Date),i.set("caretPosition",t+n.length+1),i.set("idempotencyKey",Pe())}),GI=(e,t)=>{const n=e.get("tagHistory").map(i=>i.toLowerCase()),s=t.map(i=>({...i,lowerName:i.name.toLowerCase()})).sort((i,o)=>{const a=n.includes(i.lowerName),u=n.includes(o.lowerName);return a===u?0:a&&!u?-1:1});return s.forEach(i=>delete i.lowerName),s},KI=(e,t,n,r)=>{const s=e.get("text"),i=r?" "+n.native:n.native;return e.merge({text:`${s.slice(0,t)}${i} ${s.slice(t)}`,focusDate:new Date,caretPosition:t+i.length+1,idempotencyKey:Pe()})},QI=(e,t)=>{const n=["public","unlisted","private","direct"];return n[Math.max(n.indexOf(e),n.indexOf(t),0)]},XI=(e,t)=>(e=zv(e.merge(t)),t.get("text")&&(e=e.set("text",t.get("text")).set("focusDate",new Date)),e),YI=new DOMParser,ZI=e=>{const t=YI.parseFromString(e.get("content"),"text/html").documentElement;return e.get("mentions").forEach(n=>{t.querySelector(`a[href="${n.get("url")}"]`).textContent=`@${n.get("acct")}`}),t.innerHTML},op=e=>{if(!e)return 24*3600;const t=(new Date(e).getTime()-Date.now())/1e3;return[300,1800,3600,21600,86400,259200,604800].find(n=>n>=t)||24*3600},Wv=(e,t,n)=>{if(t=t.toLowerCase(),e.length<4){const s=n.filter(i=>i.toLowerCase().startsWith(t)&&!e.some(o=>o.type==="hashtag"&&o.name.toLowerCase()===i.toLowerCase()));e=e.concat(s.slice(0,4-e.length).toJS().map(i=>({type:"hashtag",name:i})))}const r=s=>{if(s.type!=="hashtag")return s;const i=n.find(o=>o.localeCompare(s.name,void 0,{sensitivity:"accent"})===0);return!i||i.toLowerCase()===i?s:{...s,name:i}};return e.map(r)},JI=(e,{accounts:t,emojis:n,tags:r,token:s})=>t?t.map(i=>({id:i.id,type:"account"})):n?n.map(i=>({...i,type:"emoji"})):Wv(GI(e,r.map(i=>({...i,type:"hashtag"}))),s.slice(1),e.get("tagHistory")),eR=(e,t)=>{const n=t.slice(1),r=e.get("suggestions").toJS();return e.merge({suggestions:X(Wv(r,n,e.get("tagHistory"))),suggestion_token:t})},tR=(e,t,n,r)=>e.updateIn(["poll","options"],s=>{const i=s.set(t,n).filterNot(o=>o.trim().length===0);return i.size===0?i.push("").push(""):i.size<r?i.push(""):i}),ap=(e,t)=>Math.min(Math.round(e/t*100),100),nR=(e=$I,t)=>{if(hu.fulfilled.match(t))return e.set("is_changing_upload",!1).update("media_attachments",n=>n.map(r=>r.get("id")===t.payload.media.id?me(t.payload.media).set("unattached",!t.payload.attached):r));if(hu.pending.match(t))return e.set("is_changing_upload",!0);if(hu.rejected.match(t))return e.set("is_changing_upload",!1);switch(t.type){case ps:return XI(e,t.state.get("compose"));case Wg:return e.set("mounted",e.get("mounted")+1);case Vg:return e.set("mounted",Math.max(e.get("mounted")-1,0)).set("is_composing",!1);case nC:return e.withMutations(n=>{e.get("spoiler")||n.set("sensitive",!e.get("sensitive")),n.set("idempotencyKey",Pe())});case Gg:return e.withMutations(n=>{n.set("spoiler",!e.get("spoiler")),n.set("idempotencyKey",Pe()),e.get("media_attachments").size>=1&&!e.get("default_sensitive")&&n.set("sensitive",!e.get("spoiler"))});case Kg:return e.get("spoiler")?e.set("spoiler_text",t.text).set("idempotencyKey",Pe()):e;case Qg:return e.set("privacy",t.value).set("idempotencyKey",Pe());case Eg:return e.set("text",t.text).set("idempotencyKey",Pe());case Xg:return e.set("is_composing",t.value);case Og:return e.withMutations(n=>{n.set("id",null),n.set("in_reply_to",t.status.get("id")),n.set("text",HI(e,t.status)),n.set("privacy",QI(t.status.get("visibility"),e.get("default_privacy"))),n.set("focusDate",new Date),n.set("caretPosition",null),n.set("preselectDate",new Date),n.set("idempotencyKey",Pe()),n.update("media_attachments",r=>r.filter(s=>s.get("unattached"))),t.status.get("language")&&!t.status.has("translation")?n.set("language",t.status.get("language")):n.set("language",e.get("default_language")),t.status.get("spoiler_text").length>0?(n.set("spoiler",!0),n.set("spoiler_text",t.status.get("spoiler_text")),n.get("media_attachments").size>=1&&n.set("sensitive",!0)):(n.set("spoiler",!1),n.set("spoiler_text",""))});case wg:return e.set("is_submitting",!0);case Cg:case Rg:case Tg:return zv(e);case bg:return e.set("is_submitting",!1);case Ng:return e.set("is_uploading",!0).update("pending_media_attachments",n=>n+1);case Pg:return e.set("is_processing",!0);case Lg:return BI(e,me(t.media),t.file);case xg:return e.set("is_uploading",!1).set("is_processing",!1).set("progress",0).update("pending_media_attachments",n=>n-1);case Fg:return zI(e,t.media_id);case Mg:return e.set("progress",ap(t.loaded,t.total));case Ug:return e.set("isUploadingThumbnail",!0);case qg:return e.set("thumbnailProgress",ap(t.loaded,t.total));case Dg:return e.set("isUploadingThumbnail",!1);case kg:return e.set("isUploadingThumbnail",!1).update("media_attachments",n=>n.map(r=>r.get("id")===t.media.id?me(t.media).set("unattached",r.get("unattached")):r));case Ig:return e.withMutations(n=>{n.update("text",r=>[r.trim(),`@${t.account.get("acct")} `].filter(s=>s.length!==0).join(" ")),n.set("focusDate",new Date),n.set("caretPosition",null),n.set("idempotencyKey",Pe())});case Ag:return e.withMutations(n=>{n.update("text",r=>[r.trim(),`@${t.account.get("acct")} `].filter(s=>s.length!==0).join(" ")),n.set("privacy","direct"),n.set("focusDate",new Date),n.set("caretPosition",null),n.set("idempotencyKey",Pe())});case $g:return e.update("suggestions",X(),n=>n.clear()).set("suggestion_token",null);case ma:return e.set("suggestions",X(JI(e,t))).set("suggestion_token",t.token);case jg:return WI(e,t.position,t.token,t.completion,t.path);case Hg:return VI(e,t.position,t.token,t.completion,t.path);case Bg:return eR(e,t.token);case zg:return e.set("tagHistory",me(t.tags));case rr.type:return t.payload.statusId===e.get("in_reply_to")?e.set("in_reply_to",null):t.payload.statusId===e.get("id")?e.set("id",null):e;case Yg:return KI(e,t.position,t.emoji,t.needsSpace);case kv:return e.withMutations(n=>{n.set("text",t.raw_text||Go(ZI(t.status))),n.set("in_reply_to",t.status.get("in_reply_to_id")),n.set("privacy",t.status.get("visibility")),n.set("media_attachments",t.status.get("media_attachments").map(r=>r.set("unattached",!0))),n.set("focusDate",new Date),n.set("caretPosition",null),n.set("idempotencyKey",Pe()),n.set("sensitive",t.status.get("sensitive")),n.set("language",t.status.get("language")),n.set("id",null),t.status.get("spoiler_text").length>0?(n.set("spoiler",!0),n.set("spoiler_text",t.status.get("spoiler_text"))):(n.set("spoiler",!1),n.set("spoiler_text","")),t.status.get("poll")&&n.set("poll",q({options:X(t.status.get("poll").options.map(r=>r.title)),multiple:t.status.get("poll").multiple,expires_in:op(t.status.get("poll").expires_at)}))});case rv:return e.withMutations(n=>{n.set("id",t.status.get("id")),n.set("text",t.text),n.set("in_reply_to",t.status.get("in_reply_to_id")),n.set("privacy",t.status.get("visibility")),n.set("media_attachments",t.status.get("media_attachments")),n.set("focusDate",new Date),n.set("caretPosition",null),n.set("idempotencyKey",Pe()),n.set("sensitive",t.status.get("sensitive")),n.set("language",t.status.get("language")),t.spoiler_text.length>0?(n.set("spoiler",!0),n.set("spoiler_text",t.spoiler_text)):(n.set("spoiler",!1),n.set("spoiler_text","")),t.status.get("poll")&&n.set("poll",q({options:X(t.status.get("poll").options.map(r=>r.title)),multiple:t.status.get("poll").multiple,expires_in:op(t.status.get("poll").expires_at)}))});case Zg:return e.set("poll",jI);case Jg:return e.set("poll",null);case ev:return tR(e,t.index,t.title,t.maxOptions);case tv:return e.update("poll",n=>n.set("expires_in",t.expiresIn).set("multiple",t.isMultiple));case zl:return e.set("language",t.language);case rC:return e.set("focusDate",new Date).update("text",n=>n.length>0?n:t.defaultText);case nv:return e.update("media_attachments",n=>{const r=n.findIndex(o=>o.get("id")===t.a),s=n.get(r),i=n.findIndex(o=>o.get("id")===t.b);return n.splice(r,1).splice(i,0,s)});default:return e}},rR={inReplyTos:{},replies:{}},sR=(e,t,{ancestors:n,descendants:r})=>{var i;const s=({id:o,in_reply_to_id:a})=>{var u;if(a&&!e.inReplyTos[o]){const c=(u=e.replies)[a]??(u[a]=[]),l=c.findIndex(f=>vt(f,o)<0);c.splice(l+1,0,o),e.inReplyTos[o]=a}};n.forEach(s),n[0]&&s({id:t,in_reply_to_id:(i=n[n.length-1])==null?void 0:i.id}),r.forEach(s)},Vv=(e,t)=>{t.forEach(n=>{const r=e.inReplyTos[n],s=e.replies[n];if(r){const i=e.replies[r];i&&(e.replies[r]=i.filter(o=>o!==n))}s&&s.forEach(i=>{delete e.inReplyTos[i]}),delete e.inReplyTos[n],delete e.replies[n]})},up=(e,t,n)=>{const r=n.filter(s=>s.get("account")===t.id).map(s=>s.get("id"));Vv(e,r.toArray())},iR=(e,t)=>{var r,s;if(!t.in_reply_to_id)return;const n=(r=e.replies)[s=t.in_reply_to_id]??(r[s]=[]);e.inReplyTos[t.id]=t.in_reply_to_id,n.includes(t.id)||n.push(t.id)},oR=Gt(rR,e=>{e.addCase(Rv.fulfilled,(t,n)=>{sR(t,n.meta.arg.statusId,n.payload.context)}).addCase(Un,(t,n)=>{up(t,n.payload.relationship,n.payload.statuses)}).addCase(kn,(t,n)=>{up(t,n.payload.relationship,n.payload.statuses)}).addCase(rr,(t,n)=>{Vv(t,[n.payload.statusId])}).addMatcher(t=>t.type===Bl,(t,n)=>{iR(t,n.status)})}),Sa=Z("domain_blocks/block/SUCCESS"),aR=Z("domain_blocks/unblock/SUCCESS"),uR=q({items:X(),isLoading:!1,hasMore:!0,mounted:!1}),Gv=e=>q({id:e.id,unread:e.unread,accounts:X(e.accounts.map(t=>t.id)),last_status:e.last_status?e.last_status.id:null}),cR=(e,t)=>e.update("items",n=>{const r=n.findIndex(i=>i.get("id")===t.id),s=Gv(t);return r===-1?n.unshift(s):n.set(r,s)}),lR=(e,t,n,r)=>{let s=X(t.map(Gv));return e.withMutations(i=>{s.isEmpty()||i.update("items",o=>(o=o.map(a=>{const u=s.findIndex(l=>l.get("id")===a.get("id"));if(u===-1)return a;const c=s.get(u);return s=s.delete(u),c}),o=o.concat(s),o.sortBy(a=>a.get("last_status"),(a,u)=>a===null||u===null?-1:vt(a,u)*-1))),!n&&!r&&i.set("hasMore",!1),i.set("isLoading",!1)})},cp=(e,t)=>e.update("items",n=>n.filterNot(r=>r.get("accounts").some(s=>t.includes(s))));function fR(e=uR,t){switch(t.type){case yv:return e.set("isLoading",!0);case Ev:return e.set("isLoading",!1);case Sv:return lR(e,t.conversations,t.next,t.isLoadingRecent);case wv:return cR(e,t.conversation);case gv:return e.update("mounted",n=>n+1);case vv:return e.update("mounted",n=>n-1);case Tv:return e.update("items",n=>n.map(r=>r.get("id")===t.id?r.set("unread",!1):r));case Un.type:case kn.type:return cp(e,[t.payload.relationship.id]);case Sa.type:return cp(e,t.payload.accounts);case bv:return e.update("items",n=>n.filterNot(r=>r.get("id")===t.id));default:return e}}const dR=X([]);function pR(e=dR,t){return t.type===ng&&(e=me(t.custom_emojis),og("",{custom:wE(e)})),e}const hR=Z("dropdownMenu/open"),mR=Z("dropdownMenu/close"),_R={openId:null,keyboard:!1,scrollKey:void 0},gR=Gt(_R,e=>{e.addCase(hR,(t,{payload:{id:n,keyboard:r,scrollKey:s}})=>{t.openId=n,t.keyboard=r,t.scrollKey=s}).addCase(mR,(t,{payload:{id:n}})=>{t.openId===n&&(t.openId=null,t.scrollKey=void 0)})}),vR="FILTERS_FETCH_REQUEST",Kv="FILTERS_FETCH_SUCCESS",yR="FILTERS_FETCH_FAIL",SR="FILTERS_STATUS_CREATE_REQUEST",ER="FILTERS_STATUS_CREATE_SUCCESS",wR="FILTERS_STATUS_CREATE_FAIL",TR="FILTERS_CREATE_REQUEST",Qv="FILTERS_CREATE_SUCCESS",bR="FILTERS_CREATE_FAIL",bk=(e,{contextType:t})=>n=>n(qi({modalType:"FILTER",modalProps:{statusId:e==null?void 0:e.get("id"),contextType:t}})),Ok=()=>e=>{e({type:vR,skipLoading:!0}),F().get("/api/v2/filters").then(({data:t})=>e({type:Kv,filters:t,skipLoading:!0})).catch(t=>e({type:yR,err:t,skipLoading:!0,skipAlert:!0}))},Ck=(e,t,n)=>r=>{r(OR()),F().post(`/api/v2/filters/${e.filter_id}/statuses`,e).then(s=>{r(CR(s.data)),t&&t()}).catch(s=>{r(AR(s)),n&&n()})},OR=()=>({type:SR}),CR=e=>({type:ER,filter_status:e}),AR=e=>({type:wR,error:e}),Ak=(e,t,n)=>r=>{r(IR()),F().post("/api/v2/filters",e).then(s=>{r(RR(s.data)),t&&t(s.data)}).catch(s=>{r(NR(s)),n&&n()})},IR=()=>({type:TR}),RR=e=>({type:Qv,filter:e}),NR=e=>({type:bR,error:e}),Xv=(e,t)=>{const n=me({id:t.id,title:t.title,context:t.context,filter_action:t.filter_action,keywords:t.keywords,expires_at:t.expires_at?Date.parse(t.expires_at):null});return Me(e.get(t.id),n)?e:e.update(t.id,q(),r=>r.mergeWith((s,i)=>i===void 0?s:i,n))},lp=(e,t)=>(t.forEach(n=>{e=Xv(e,n)}),e);function LR(e=q(),t){switch(t.type){case Qv:return Xv(e,t.filter);case Kv:return lp(q(),t.filters);case m_:return lp(e,t.filters);default:return e}}const Yv="HEIGHT_CACHE_SET",Zv="HEIGHT_CACHE_CLEAR";function Ik(e,t,n){return{type:Yv,key:e,id:t,height:n}}function Rk(){return{type:Zv}}const xR=q(),MR=(e,t,n,r)=>e.update(t,q(),s=>s.set(n,r)),PR=()=>q();function FR(e=xR,t){switch(t.type){case Yv:return MR(e,t.key,t.id,t.height);case Zv:return PR();default:return e}}const Jv="HISTORY_FETCH_REQUEST",ey="HISTORY_FETCH_SUCCESS",ty="HISTORY_FETCH_FAIL",Nk=e=>(t,n)=>{n().getIn(["history",e,"loading"])||(t(UR(e)),F().get(`/api/v1/statuses/${e}/history`).then(({data:s})=>{t(ie(s.map(i=>i.account))),t(kR(e,s))}).catch(s=>t(DR(s))))},UR=e=>({type:Jv,statusId:e}),kR=(e,t)=>({type:ey,statusId:e,history:t}),DR=e=>({type:ty,error:e}),mu=q({loading:!1,items:X()}),qR=q();function $R(e=qR,t){switch(t.type){case Jv:return e.update(t.statusId,mu,n=>n.withMutations(r=>{r.set("loading",!0),r.set("items",X())}));case ey:return e.update(t.statusId,mu,n=>n.withMutations(r=>{r.set("loading",!1),r.set("items",me(t.history.map((s,i)=>({...s,account:s.account.id,original:i===0})).reverse()))}));case ty:return e.update(t.statusId,mu,n=>n.set("loading",!1));default:return e}}const jR=e=>an("v1/lists",e),HR=e=>Mc(`v1/lists/${e.id}`,e),BR=()=>Vt("v1/lists"),Lk=e=>Vt(`v1/lists/${e}/accounts`,{limit:0}),xk=e=>Vt(`v1/accounts/${e}/lists`),Mk=(e,t)=>an(`v1/lists/${e}/accounts`,{account_ids:[t]}),Pk=(e,t)=>nh(`v1/lists/${e}/accounts`,{account_ids:[t]}),zR=ce("list/create",e=>jR(e)),WR=ce("list/update",e=>HR(e)),VR=ce("lists/fetch",()=>BR()),GR=_e({id:"",title:"",exclusive:!1,replies_policy:"list"});function KR(e){return GR(e)}const QR="LIST_FETCH_REQUEST",ny="LIST_FETCH_SUCCESS",Zl="LIST_FETCH_FAIL",XR="LIST_DELETE_REQUEST",Jl="LIST_DELETE_SUCCESS",YR="LIST_DELETE_FAIL",Fk=e=>(t,n)=>{n().getIn(["lists",e])||(t(ZR(e)),F().get(`/api/v1/lists/${e}`).then(({data:r})=>t(JR(r))).catch(r=>t(eN(e,r))))},ZR=e=>({type:QR,id:e}),JR=e=>({type:ny,list:e}),eN=(e,t)=>({type:Zl,id:e,error:t}),Uk=e=>t=>{t(tN(e)),F().delete(`/api/v1/lists/${e}`).then(()=>t(nN(e))).catch(n=>t(rN(e,n)))},tN=e=>({type:XR,id:e}),nN=e=>({type:Jl,id:e}),rN=(e,t)=>({type:YR,id:e,error:t}),sN=q(),Ec=(e,t)=>e.set(t.id,KR(t)),iN=(e,t)=>(t.forEach(n=>{e=Ec(e,n)}),e),oN=(e=sN,t)=>{if(zR.fulfilled.match(t)||WR.fulfilled.match(t))return Ec(e,t.payload);if(VR.fulfilled.match(t))return iN(e,t.payload);switch(t.type){case ny:return Ec(e,t.list);case Jl:case Zl:return e.set(t.id,null);default:return e}},aN={home:"0",notifications:"0"},uN=Gt(aN,e=>{e.addCase(W_.fulfilled,(t,{payload:{home:n,notifications:r}})=>{n&&(t.home=n),r&&(t.notifications=r)}),e.addCase(V_.fulfilled,(t,{payload:{markers:{home:n,notifications:r}}})=>{n&&vt(n.last_read_id,t.home)>0&&(t.home=n.last_read_id),r&&vt(r.last_read_id,t.notifications)>0&&(t.notifications=r.last_read_id)})}),cN=q({accept_content_types:[]});function lN(e=cN,t){switch(t.type){case ps:return e.merge(t.state.get("media_attachments"));default:return e}}const fN=q({streaming_api_base_url:null,layout:Vh(),permissions:"0"});function dN(e=fN,t){switch(t.type){case ps:return e.merge(t.state.get("meta")).delete("access_token").set("permissions",t.state.getIn(["role","permissions"]));case eI.type:return e.set("layout",t.payload.layout);default:return e}}const fp=_e({modalType:"ACTIONS",modalProps:_e({})()}),pN=_e({ignoreFocus:!1,stack:us()})(),hN=(e,{modalType:t,ignoreFocus:n})=>{var r;return t===void 0||t===((r=e.get("stack").get(0))==null?void 0:r.get("modalType"))?e.set("ignoreFocus",!!n).update("stack",s=>s.shift()):e},mN=(e,t,n,r)=>e.withMutations(s=>{s.set("ignoreFocus",!1),s.update("stack",i=>{let o=i;if(r){const a=o.first();a&&(o=o.shift().unshift(fp({modalType:a.modalType,modalProps:{...a.modalProps,...r}})))}return o=o.unshift(fp({modalType:t,modalProps:n})),o})}),_N=(e=pN,t)=>qi.match(t)?mN(e,t.payload.modalType,t.payload.modalProps,t.payload.previousModalProps):QO.match(t)?hN(e,t.payload):rr.match(t)?e.update("stack",n=>n.filterNot(r=>r.get("modalProps").statusId===t.payload.statusId)):e,gN=Z("navigation/open"),vN=Z("navigation/close"),yN=Z("navigation/toggle"),SN={open:!1},EN=Gt(SN,e=>{e.addCase(gN,t=>{t.open=!0}).addCase(vN,t=>{t.open=!1}).addCase(yN,t=>{t.open=!t.open})}),ry=8;function sy(e){const{target_account:t,...n}=e;return{targetAccountId:t.id,...n}}function iy(e){const{target_account:t,...n}=e;return{targetAccountId:t.id,...n}}function oy(e){const{sample_account_ids:t,...n}=e;switch(n.type){case"favourite":case"reblog":case"status":case"mention":case"poll":case"update":{const{status_id:r,...s}=n;return{statusId:r??void 0,sampleAccountIds:t,partial:!1,...s}}case"admin.report":{const{report:r,...s}=n;return{report:sy(r),sampleAccountIds:t,partial:!1,...s}}case"severed_relationships":return{...n,partial:!1,event:n.event,sampleAccountIds:t};case"moderation_warning":{const{moderation_warning:r,...s}=n;return{...s,partial:!1,moderationWarning:iy(r),sampleAccountIds:t}}case"annual_report":{const{annual_report:r,...s}=n;return{...s,partial:!1,annualReport:r,sampleAccountIds:t}}default:return{sampleAccountIds:t,partial:!1,...n}}}function wN(e){var n;const t={sampleAccountIds:[e.account.id],group_key:e.group_key,notifications_count:1,most_recent_notification_id:e.id,page_min_id:e.id,page_max_id:e.id,latest_page_notification_at:e.created_at,partial:!0};switch(e.type){case"favourite":case"reblog":case"status":case"mention":case"poll":case"update":return{...t,type:e.type,statusId:(n=e.status)==null?void 0:n.id};case"admin.report":return{...t,type:e.type,report:sy(e.report)};case"severed_relationships":return{...t,type:e.type,event:e.event};case"moderation_warning":return{...t,type:e.type,moderationWarning:iy(e.moderation_warning)};default:return{...t,type:e.type}}}const dp=50,TN={groups:[],pendingGroups:[],scrolledToTop:!1,isLoading:!1,mergedNotifications:"ok",lastReadId:"0",readMarkerId:"0",mounted:0,isTabVisible:!0};function pp(e,t,n){return e=e.map(r=>{if(r.type!=="gap"&&(!n||r.type===n)){const s=r.sampleAccountIds.length;r.sampleAccountIds=r.sampleAccountIds.filter(a=>!t.includes(a));const i=r.sampleAccountIds.length,o=s-i;r.notifications_count-=o}return r}).filter(r=>r.type==="gap"||r.sampleAccountIds.length>0),Ea(e),e}function hp(e,t){return e=e.filter(n=>n.type==="gap"||!("statusId"in n)||n.statusId!==t),Ea(e),e}function so(e,t,n){e.groups=pp(e.groups,t,n),e.pendingGroups=pp(e.pendingGroups,t,n)}function bN(e,t){e.groups=hp(e.groups,t),e.pendingGroups=hp(e.pendingGroups,t)}function hi(e){return e.type!=="gap"}function Ea(e){for(let t=0;t<e.length;t++){const n=e[t];if((n==null?void 0:n.type)==="gap"){let r=n,s=t+1;for(;s<e.length;s++){const i=e[s];if((i==null?void 0:i.type)==="gap")r=i;else break}s-t>1&&e.splice(t,s-t,{type:"gap",maxId:n.maxId,sinceId:r.sinceId})}}}function ON(e,t){if(t>0){const n=e[t-1],r=e[t];(n==null?void 0:n.type)==="gap"&&(r==null?void 0:r.type)==="gap"&&e.splice(t-1,2,{type:"gap",maxId:n.maxId,sinceId:r.sinceId})}}function CN(e,t,n){var s;n.includes(t.type)||(t={...t,group_key:`ungrouped-${t.id}`});const r=e.findIndex(i=>i.type!=="gap"&&i.group_key===t.group_key);if(e.length>0&&((s=e[0])==null?void 0:s.type)==="gap"&&(e[0].maxId=t.id),r>-1){const i=e[r];i&&i.type!=="gap"&&!i.sampleAccountIds.includes(t.account.id)&&(i.sampleAccountIds.unshift(t.account.id)>ry&&i.sampleAccountIds.pop(),i.most_recent_notification_id=t.id,i.page_max_id=t.id,i.latest_page_notification_at=t.created_at,i.notifications_count+=1,e.splice(r,1),ON(e,r),e.unshift(i))}else e.unshift(wN(t))}function io(e){e.scrolledToTop&&e.groups.length>dp&&(e.groups.splice(dp),AN(e.groups))}function ay({isTabVisible:e,scrolledToTop:t,mounted:n,lastReadId:r,groups:s},i=!1){var l;const o=n>0,a=s.findLast(hi),c=!(((l=s.at(-1))==null?void 0:l.type)==="gap")||r==="0"||(a==null?void 0:a.page_min_id)&&vt(a.page_min_id,r)<=0;return e&&(i||t)&&o&&c}function lr(e,t=void 0){ay(e)&&(t=t??e.groups.find(hi),t!=null&&t.page_max_id&&vt(e.lastReadId,t.page_max_id)<0&&(e.lastReadId=t.page_max_id))}function mp(e){ay(e)&&(e.readMarkerId=e.lastReadId)}function _u(e,t,n){var c,l;const r=e.findIndex(f=>f.type==="gap"&&f.sinceId===t.sinceId&&f.maxId===t.maxId);if(r<0)return e;const s=(c=n.at(-1))==null?void 0:c.page_min_id,i=e.slice(0,r).filter(hi).map(f=>f.group_key),o=n.map(f=>oy(f)).filter(f=>!i.includes(f.group_key)),a=o.map(f=>f.group_key),u=t.sinceId;return n.length>0&&!(s&&u&&vt(s,u)<=0)&&o.push({type:"gap",maxId:(l=n.at(-1))==null?void 0:l.page_max_id,sinceId:u}),e=e.filter(f=>f.type!=="gap"&&!a.includes(f.group_key)),e.splice(r,1,...o),Ea(e),e}function _p(e){var t,n;if(((t=e[0])==null?void 0:t.type)==="gap")return e[0].maxId=void 0,e[0];{const r={type:"gap",sinceId:(n=e[0])==null?void 0:n.page_min_id};return e.unshift(r),r}}function AN(e){const t=e.at(-1);if((t==null?void 0:t.type)==="gap")return t.sinceId=void 0,t;{const n={type:"gap",maxId:t==null?void 0:t.page_min_id};return e.push(n),n}}const IN=Gt(TN,e=>{e.addCase(gr.fulfilled,(t,n)=>{t.groups=n.payload.map(r=>r.type==="gap"?r:oy(r)),t.isLoading=!1,t.mergedNotifications="ok",lr(t)}).addCase(ou.fulfilled,(t,n)=>{t.groups=_u(t.groups,n.meta.arg.gap,n.payload.notifications),t.isLoading=!1,lr(t)}).addCase(au.fulfilled,(t,n)=>{if(Gn){const r=_p(t.pendingGroups);t.pendingGroups=_u(t.pendingGroups,r,n.payload.notifications)}else{const r=_p(t.groups);t.groups=_u(t.groups,r,n.payload.notifications)}t.isLoading=!1,lr(t),io(t)}).addCase(cA.fulfilled,(t,n)=>{if(n.payload){const{notification:r,groupedTypes:s}=n.payload;CN(Gn?t.pendingGroups:t.groups,r,s),lr(t),io(t)}}).addCase(lg,(t,n)=>{var r,s;if(n.payload.timeline==="home"){const i=Gn?t.pendingGroups:t.groups;i.length>0&&((r=i[0])==null?void 0:r.type)!=="gap"&&i.unshift({type:"gap",sinceId:(s=i[0])==null?void 0:s.page_min_id})}}).addCase(rr,(t,n)=>{bN(t,n.payload.statusId)}).addCase(dA.pending,t=>{t.groups=[],t.pendingGroups=[]}).addCase(Un,(t,n)=>{so(t,[n.payload.relationship.id])}).addCase(kn,(t,n)=>{n.payload.relationship.muting_notifications&&so(t,[n.payload.relationship.id])}).addCase(Sa,(t,n)=>{so(t,n.payload.accounts.map(r=>r.id))}).addCase(lA,t=>{t.pendingGroups.forEach(n=>{if(n.type!=="gap"){const r=t.groups.findIndex(s=>hi(s)&&s.group_key===n.group_key);if(r>-1){const s=t.groups[r];s&&s.type!=="gap"&&(n.partial&&(n.notifications_count+=s.notifications_count,n.sampleAccountIds=n.sampleAccountIds.concat(s.sampleAccountIds).slice(0,ry)),t.groups.splice(r,1))}}}),t.groups=t.pendingGroups.concat(t.groups),t.pendingGroups=[],Ea(t.groups),io(t)}).addCase(fA.fulfilled,(t,n)=>{t.scrolledToTop=n.payload.top,lr(t),io(t)}).addCase(pA,t=>{const n=t.groups.find(hi);n!=null&&n.page_max_id&&vt(t.lastReadId,n.page_max_id)<0&&(t.lastReadId=n.page_max_id),t.readMarkerId=t.lastReadId}).addCase(V_.fulfilled,(t,n)=>{n.payload.markers.notifications&&vt(t.lastReadId,n.payload.markers.notifications.last_read_id)<0&&(t.lastReadId=n.payload.markers.notifications.last_read_id,t.readMarkerId=n.payload.markers.notifications.last_read_id)}).addCase(hA.fulfilled,t=>{t.mounted+=1,mp(t),lr(t)}).addCase(mA,t=>{t.mounted-=1}).addCase(ZA,t=>{t.isTabVisible=!0,mp(t),lr(t)}).addCase(JA,t=>{t.isTabVisible=!1}).addCase(_A.fulfilled,(t,n)=>{n.payload.deferredRefresh&&(t.mergedNotifications="needs-reload")}).addMatcher(Ve(da,pa),(t,n)=>{so(t,[n.payload.id],"follow_request")}).addMatcher(Ve(gr.pending,ou.pending,au.pending),t=>{t.isLoading=!0}).addMatcher(Ve(gr.rejected,ou.rejected,au.rejected),t=>{t.isLoading=!1})}),RN=()=>Vt("v2/notifications/policy"),NN=e=>Mc("v2/notifications/policy",e),LN=ce("notificationPolicy/fetch",()=>RN()),xN=ce("notificationPolicy/update",e=>NN(e)),ji=Z("notificationPolicy/decreasePendingRequestsCount"),MN=Gt(null,e=>{e.addCase(ji,(t,n)=>{t&&(t.summary.pending_requests_count-=n.payload)}).addMatcher(Ve(LN.fulfilled,xN.fulfilled),(t,n)=>n.payload)});function uy(e,t){const n=[],r=[];t.forEach(s=>{s.type==="admin.report"&&n.push(s.report.target_account),s.type==="moderation_warning"&&n.push(s.moderation_warning.target_account),"status"in s&&s.status&&r.push(s.status)}),n.length>0&&e(ie(n)),r.length>0&&e(je(r))}const gu=ce("notificationRequests/fetch",async(e,{getState:t})=>{var r;let n;return t().notificationRequests.items.length>0&&(n=(r=t().notificationRequests.items[0])==null?void 0:r.id),Cv({since_id:n})},({requests:e,links:t},{dispatch:n})=>{const r=t.refs.find(s=>s.rel==="next");return n(ie(e.map(s=>s.account))),{requests:e,next:r==null?void 0:r.uri}},{condition:(e,{getState:t})=>!t().notificationRequests.isLoading}),vu=ce("notificationRequest/fetch",async({id:e})=>eA(e),{condition:({id:e},{getState:t})=>{var n;return!(((n=t().notificationRequests.current.item)==null?void 0:n.id)===e||t().notificationRequests.current.isLoading)}}),yu=ce("notificationRequests/expand",async(e,{getState:t})=>{const n=t().notificationRequests.next;if(!n)throw new Error("missing URL");return Cv(void 0,n)},({requests:e,links:t},{dispatch:n})=>{const r=t.refs.find(s=>s.rel==="next");return n(ie(e.map(s=>s.account))),{requests:e,next:r==null?void 0:r.uri}},{condition:(e,{getState:t})=>!!t().notificationRequests.next&&!t().notificationRequests.isLoading}),Su=ce("notificationRequest/fetchNotifications",async({accountId:e},{getState:t})=>{var r;const n=(r=t().notificationRequests.current.notifications.items[0])==null?void 0:r.get("id");return Ov({since_id:n,account_id:e})},({notifications:e,links:t},{dispatch:n})=>{const r=t.refs.find(s=>s.rel==="next");return uy(n,e),{notifications:e,next:r==null?void 0:r.uri}},{condition:({accountId:e},{getState:t})=>{var r;const n=t().notificationRequests.current;return!(((r=n.item)==null?void 0:r.account_id)===e&&n.notifications.isLoading)}}),Eu=ce("notificationRequest/expandNotifications",async(e,{getState:t})=>{const n=t().notificationRequests.current.notifications.next;if(!n)throw new Error("missing URL");return Ov(void 0,n)},({notifications:e,links:t},{dispatch:n})=>{const r=t.refs.find(s=>s.rel==="next");return uy(n,e),{notifications:e,next:r==null?void 0:r.uri}},{condition:({accountId:e},{getState:t})=>{var r;return!!t().notificationRequests.current.notifications.next&&!t().notificationRequests.current.notifications.isLoading&&((r=t().notificationRequests.current.item)==null?void 0:r.account_id)===e}}),PN=ce("notificationRequest/accept",({id:e})=>tA(e),(e,{dispatch:t,discardLoadData:n})=>(t(ji(1)),n)),FN=ce("notificationRequest/dismiss",({id:e})=>nA(e),(e,{dispatch:t,discardLoadData:n})=>(t(ji(1)),n)),UN=ce("notificationRequests/acceptBulk",({ids:e})=>rA(e),(e,{dispatch:t,discardLoadData:n,actionArg:{ids:r}})=>(t(ji(r.length)),n)),kN=ce("notificationRequests/dismissBulk",({ids:e})=>sA(e),(e,{dispatch:t,discardLoadData:n,actionArg:{ids:r}})=>(t(ji(r.length)),n));function wu(e){const{account:t,notifications_count:n,...r}=e;return{account_id:t.id,notifications_count:+n,...r}}const DN=q({browserSupport:!1,browserPermission:"default"}),gp=e=>q({id:e.id,type:e.type,account:e.account.id,created_at:e.created_at,status:e.status?e.status.id:null,report:e.report?me(e.report):null,event:e.event?me(e.event):null,moderation_warning:e.moderation_warning?me(e.moderation_warning):null});function qN(e=DN,t){switch(t.type){case eg:return e.set("browserSupport",t.value);case tg:return e.set("browserPermission",t.value);default:return e}}const vp={items:[],isLoading:!1,next:null,current:{item:null,isLoading:!1,removed:!1,notifications:{isLoading:!1,items:[],next:null}}},yp=(e,t)=>{var n;((n=e.current.item)==null?void 0:n.id)===t&&(e.current.removed=!0),e.items=e.items.filter(r=>r.id!==t)},Sp=(e,t)=>{var n;((n=e.current.item)==null?void 0:n.account_id)===t&&(e.current.removed=!0),e.items=e.items.filter(r=>r.account_id!==t)},$N=Gt(vp,e=>{e.addCase(gu.fulfilled,(t,n)=>{t.items=n.payload.requests.map(wu).concat(t.items),t.isLoading=!1,t.next??(t.next=n.payload.next??null)}).addCase(yu.fulfilled,(t,n)=>{t.items=t.items.concat(n.payload.requests.map(wu)),t.isLoading=!1,t.next=n.payload.next??null}).addCase(Un,(t,n)=>{Sp(t,n.payload.relationship.id)}).addCase(kn,(t,n)=>{n.payload.relationship.muting_notifications&&Sp(t,n.payload.relationship.id)}).addCase(vu.pending,t=>{t.current={...vp.current,isLoading:!0}}).addCase(vu.rejected,t=>{t.current.isLoading=!1}).addCase(vu.fulfilled,(t,n)=>{t.current.isLoading=!1,t.current.item=wu(n.payload)}).addCase(Su.fulfilled,(t,n)=>{var r;t.current.notifications.isLoading=!1,t.current.notifications.items.unshift(...n.payload.notifications.map(gp)),(r=t.current.notifications).next??(r.next=n.payload.next??null)}).addCase(Eu.fulfilled,(t,n)=>{t.current.notifications.isLoading=!1,t.current.notifications.items.push(...n.payload.notifications.map(gp)),t.current.notifications.next=n.payload.next??null}).addMatcher(Ve(gu.pending,yu.pending),t=>{t.isLoading=!0}).addMatcher(Ve(gu.rejected,yu.rejected),t=>{t.isLoading=!1}).addMatcher(Ve(PN.pending,FN.pending),(t,n)=>{yp(t,n.meta.arg.id)}).addMatcher(Ve(UN.pending,kN.pending),(t,n)=>{n.meta.arg.ids.forEach(r=>{yp(t,r)})}).addMatcher(Ve(Su.pending,Eu.pending),t=>{t.current.notifications.isLoading=!0}).addMatcher(Ve(Su.rejected,Eu.rejected),t=>{t.current.notifications.isLoading=!1})}),jN=Z("pip/remove"),cy=Z("pip/deploy"),kk=It("pip/deploy",(e,{dispatch:t,getState:n})=>{const{statusId:r}=e;n().hasIn(["statuses",r])&&t(cy(e))}),Tu={type:null,muted:!1,volume:0,currentTime:0},HN=(e=Tu,t)=>cy.match(t)?{statusId:t.payload.statusId,accountId:t.payload.accountId,type:t.payload.playerType,...t.payload.props}:jN.match(t)||rr.match(t)&&e.type&&e.statusId===t.payload.statusId?Tu:e,BN={},zN=(e,t)=>{if(!t)return;const n=e[t.id];if(!n)return;const r=fs(n.emojis);t.options.forEach((s,i)=>{const o=n.options[i];o&&(o.translation=f_(s,r))})},WN=(e,t)=>{var n;(n=e[t])==null||n.options.forEach(r=>{r.translation=null})},VN=(e=BN,t)=>(p_.match(t)?t.payload.polls.forEach(n=>{e[n.id]=n}):t.type===Kl?zN(e,t.translation.poll):t.type===Ql&&WN(e,t.pollId),e),bu=q({subscription:null,alerts:q({follow:!1,follow_request:!1,favourite:!1,reblog:!1,mention:!1,poll:!1}),isSubscribed:!1,browserSupport:!1});function GN(e=bu,t){switch(t.type){case ps:{const n=t.state.get("push_subscription");return n?e.set("subscription",q({id:n.get("id"),endpoint:n.get("endpoint")})).set("alerts",n.get("alerts")||bu.get("alerts")).set("isSubscribed",!0):e}case Q_:return e.set("subscription",q({id:t.subscription.id,endpoint:t.subscription.endpoint})).set("alerts",q(t.subscription.alerts)).set("isSubscribed",!0);case K_:return e.set("browserSupport",t.value);case X_:return bu;case Y_:return e.setIn(t.path,t.value);default:return e}}const KN=_e({blocked_by:!1,blocking:!1,domain_blocking:!1,endorsed:!1,followed_by:!1,following:!1,id:"",languages:null,muting_notifications:!1,muting:!1,note:"",notifying:!1,requested_by:!1,requested:!1,showing_reblogs:!1});function QN(e){return KN(e)}const XN=ce("account_note/submit",({accountId:e,note:t})=>Y1(e,t),e=>({relationship:e})),YN=q(),ly=(e,t)=>e.set(t.id,QN(t)),ZN=(e,t)=>(t.forEach(n=>{e=ly(e,n)}),e),Ep=(e,t,n)=>e.withMutations(r=>{t.forEach(s=>{r.setIn([s,"domain_blocking"],n)})}),JN=(e=YN,t)=>da.match(t)?e.setIn([t.payload.id,"followed_by"],!0).setIn([t.payload.id,"requested_by"],!1):pa.match(t)?e.setIn([t.payload.id,"followed_by"],!1).setIn([t.payload.id,"requested_by"],!1):jl.match(t)?t.payload.notification.type==="follow_request"?e.setIn([t.payload.notification.account.id,"requested_by"],!0):e:__.match(t)?e.getIn([t.payload.id,"following"])?e:e.setIn([t.payload.id,t.payload.locked?"requested":"following"],!0):g_.match(t)?e.setIn([t.payload.id,t.payload.locked?"requested":"following"],!1):v_.match(t)?e.setIn([t.payload.id,"following"],!1):y_.match(t)?e.setIn([t.payload.id,"following"],!0):ql.match(t)||fa.match(t)||Un.match(t)||S_.match(t)||kn.match(t)||E_.match(t)||w_.match(t)||T_.match(t)||Io(XN)(t)||Io(ob)(t)?ly(e,t.payload.relationship):b_.match(t)?ZN(e,t.payload.relationships):Sa.match(t)?Ep(e,t.payload.accounts,!0):aR.match(t)?Ep(e,t.payload.accounts,!1):e,wp=e=>({accounts:e.accounts.map(t=>t.id),statuses:e.statuses.map(t=>t.id),hashtags:e.hashtags}),eL={recent:[],q:"",type:void 0,loading:!1,results:void 0},tL=Gt(eL,e=>{e.addCase(su.fulfilled,(t,n)=>{t.q=n.meta.arg.q,t.type=n.meta.arg.type,t.results=wp(n.payload),t.loading=!1}),e.addCase(iu.fulfilled,(t,n)=>{const r=n.meta.arg.type,s=wp(n.payload);t.type=r,t.results={accounts:t.results?[...t.results.accounts,...s.accounts]:s.accounts,statuses:t.results?[...t.results.statuses,...s.statuses]:s.statuses,hashtags:t.results?[...t.results.hashtags,...s.hashtags]:s.hashtags},t.loading=!1}),e.addCase(_a,(t,n)=>{t.recent=n.payload}),e.addMatcher(Ve(iu.pending,su.pending),(t,n)=>{t.type=n.meta.arg.type,t.loading=!0}),e.addMatcher(Ve(iu.rejected,su.rejected),t=>{t.loading=!1})}),fy="Server_FETCH_REQUEST",dy="Server_FETCH_SUCCESS",py="Server_FETCH_FAIL",hy="SERVER_TRANSLATION_LANGUAGES_FETCH_REQUEST",my="SERVER_TRANSLATION_LANGUAGES_FETCH_SUCCESS",_y="SERVER_TRANSLATION_LANGUAGES_FETCH_FAIL",gy="EXTENDED_DESCRIPTION_REQUEST",vy="EXTENDED_DESCRIPTION_SUCCESS",yy="EXTENDED_DESCRIPTION_FAIL",Sy="SERVER_DOMAIN_BLOCKS_FETCH_REQUEST",Ey="SERVER_DOMAIN_BLOCKS_FETCH_SUCCESS",wy="SERVER_DOMAIN_BLOCKS_FETCH_FAIL",Dk=()=>(e,t)=>{t().getIn(["server","server","isLoading"])||(e(nL()),F().get("/api/v2/instance").then(({data:n})=>{n.contact.account&&e(ds(n.contact.account)),e(rL(n))}).catch(n=>e(sL(n))))},nL=()=>({type:fy}),rL=e=>({type:dy,server:e}),sL=e=>({type:py,error:e}),qk=()=>e=>{e(iL()),F().get("/api/v1/instance/translation_languages").then(({data:t})=>{e(oL(t))}).catch(t=>e(aL(t)))},iL=()=>({type:hy}),oL=e=>({type:my,translationLanguages:e}),aL=e=>({type:_y,error:e}),$k=()=>(e,t)=>{t().getIn(["server","extendedDescription","isLoading"])||(e(uL()),F().get("/api/v1/instance/extended_description").then(({data:n})=>e(cL(n))).catch(n=>e(lL(n))))},uL=()=>({type:gy}),cL=e=>({type:vy,description:e}),lL=e=>({type:yy,error:e}),jk=()=>(e,t)=>{t().getIn(["server","domainBlocks","isLoading"])||(e(fL()),F().get("/api/v1/instance/domain_blocks").then(({data:n})=>e(Tp(!0,n))).catch(n=>{n.response.status===404?e(Tp(!1,[])):e(dL(n))}))},fL=()=>({type:Sy}),Tp=(e,t)=>({type:Ey,isAvailable:e,blocks:t}),dL=e=>({type:wy,error:e}),pL=q({server:q({isLoading:!1}),extendedDescription:q({isLoading:!1}),domainBlocks:q({isLoading:!1,isAvailable:!0,items:X()})});function hL(e=pL,t){switch(t.type){case fy:return e.setIn(["server","isLoading"],!0);case dy:return e.set("server",me(t.server)).setIn(["server","isLoading"],!1);case py:return e.setIn(["server","isLoading"],!1);case hy:return e.setIn(["translationLanguages","isLoading"],!0);case my:return e.setIn(["translationLanguages","items"],me(t.translationLanguages)).setIn(["translationLanguages","isLoading"],!1);case _y:return e.setIn(["translationLanguages","isLoading"],!1);case gy:return e.setIn(["extendedDescription","isLoading"],!0);case vy:return e.set("extendedDescription",me(t.description)).setIn(["extendedDescription","isLoading"],!1);case yy:return e.setIn(["extendedDescription","isLoading"],!1);case Sy:return e.setIn(["domainBlocks","isLoading"],!0);case Ey:return e.setIn(["domainBlocks","items"],me(t.blocks)).setIn(["domainBlocks","isLoading"],!1).setIn(["domainBlocks","isAvailable"],t.isAvailable);case wy:return e.setIn(["domainBlocks","isLoading"],!1);default:return e}}const Ty="COLUMN_ADD",by="COLUMN_REMOVE",Oy="COLUMN_MOVE",Cy="COLUMN_PARAMS_CHANGE";function Hk(e,t){return n=>{n({type:Ty,id:e,params:t}),n(Ir())}}function Bk(e){return t=>{t({type:by,uuid:e}),t(Ir())}}function zk(e,t){return n=>{n({type:Oy,uuid:e,direction:t}),n(Ir())}}function Wk(e,t,n){return r=>{r({type:Cy,uuid:e,path:t,value:n}),r(Ir())}}const mL=q({saved:!0,skinTone:1,trends:q({show:!0}),home:q({shows:q({quote:!0,reblog:!0,reply:!0}),regex:q({body:""})}),notifications:q({alerts:q({follow:!1,follow_request:!1,favourite:!1,reblog:!1,mention:!1,poll:!1,status:!1,update:!1,"admin.sign_up":!1,"admin.report":!1}),quickFilter:q({active:"all",show:!0,advanced:!1}),dismissPermissionBanner:!1,showUnread:!0,minimizeFilteredBanner:!1,shows:q({follow:!0,follow_request:!1,favourite:!0,reblog:!0,mention:!0,poll:!0,status:!0,update:!0,"admin.sign_up":!0,"admin.report":!0}),sounds:q({follow:!0,follow_request:!1,favourite:!0,reblog:!0,mention:!0,poll:!0,status:!0,update:!0,"admin.sign_up":!0,"admin.report":!0}),group:q({follow:!0})}),firehose:q({onlyMedia:!1}),community:q({regex:q({body:""})}),public:q({regex:q({body:""})}),direct:q({regex:q({body:""})}),dismissed_banners:q({public_timeline:!1,community_timeline:!1,"home/follow-suggestions":!1,"explore/links":!1,"explore/statuses":!1,"explore/tags":!1})}),_L=me([{id:"COMPOSE",uuid:Pe(),params:{}},{id:"HOME",uuid:Pe(),params:{}},{id:"NOTIFICATIONS",uuid:Pe(),params:{}}]),gL=(e,t)=>e.mergeDeep(t).update("columns",(n=_L)=>n),vL=(e,t,n)=>{const r=e.get("columns"),s=r.findIndex(a=>a.get("uuid")===t),i=s+n;let o;return o=r.splice(s,1),o=o.splice(i,0,r.get(s)),e.set("columns",o).set("saved",!1)},yL=(e,t,n,r)=>{const s=e.get("columns"),i=s.findIndex(a=>a.get("uuid")===t),o=s.update(i,a=>a.updateIn(["params",...n],()=>r));return e.set("columns",o).set("saved",!1)},SL=(e,t)=>e.update("frequentlyUsedEmojis",q(),n=>n.update(t.id,0,r=>r+1)).set("saved",!1),EL=(e,t)=>e.update("frequentlyUsedLanguages",q(),n=>n.update(t,0,r=>r+1)).set("saved",!1),bp=(e,t)=>e.update("columns",n=>n.filterNot(r=>r.get("id")==="LIST"&&r.get("params").get("id")===t));function wL(e=mL,t){switch(t.type){case ps:return gL(e,t.state.get("settings"));case J_:case ag:return e.setIn(t.path,t.value).set("saved",!1);case Ty:return e.update("columns",n=>n.push(me({id:t.id,uuid:Pe(),params:t.params}))).set("saved",!1);case by:return e.update("columns",n=>n.filterNot(r=>r.get("uuid")===t.uuid)).set("saved",!1);case Oy:return vL(e,t.uuid,t.direction);case Cy:return yL(e,t.uuid,t.path,t.value);case cg:return SL(e,t.emoji);case zl:return EL(e,t.language);case ug:return e.set("saved",!0);case Zl:return t.error.response.status===404?bp(e,t.id):e;case Jl:return bp(e,t.id);default:return e}}const Ay="BOOKMARKED_STATUSES_FETCH_REQUEST",Iy="BOOKMARKED_STATUSES_FETCH_SUCCESS",Ry="BOOKMARKED_STATUSES_FETCH_FAIL",Ny="BOOKMARKED_STATUSES_EXPAND_REQUEST",Ly="BOOKMARKED_STATUSES_EXPAND_SUCCESS",xy="BOOKMARKED_STATUSES_EXPAND_FAIL";function Vk(){return(e,t)=>{t().getIn(["status_lists","bookmarks","isLoading"])||(e(TL()),F().get("/api/v1/bookmarks").then(n=>{const r=Le(n).refs.find(s=>s.rel==="next");e(je(n.data)),e(bL(n.data,r?r.uri:null))}).catch(n=>{e(OL(n))}))}}function TL(){return{type:Ay}}function bL(e,t){return{type:Iy,statuses:e,next:t}}function OL(e){return{type:Ry,error:e}}function Gk(){return(e,t)=>{const n=t().getIn(["status_lists","bookmarks","next"],null);n===null||t().getIn(["status_lists","bookmarks","isLoading"])||(e(CL()),F().get(n).then(r=>{const s=Le(r).refs.find(i=>i.rel==="next");e(je(r.data)),e(AL(r.data,s?s.uri:null))}).catch(r=>{e(IL(r))}))}}function CL(){return{type:Ny}}function AL(e,t){return{type:Ly,statuses:e,next:t}}function IL(e){return{type:xy,error:e}}const My="FAVOURITED_STATUSES_FETCH_REQUEST",Py="FAVOURITED_STATUSES_FETCH_SUCCESS",Fy="FAVOURITED_STATUSES_FETCH_FAIL",Uy="FAVOURITED_STATUSES_EXPAND_REQUEST",ky="FAVOURITED_STATUSES_EXPAND_SUCCESS",Dy="FAVOURITED_STATUSES_EXPAND_FAIL";function Kk(){return(e,t)=>{t().getIn(["status_lists","favourites","isLoading"])||(e(RL()),F().get("/api/v1/favourites").then(n=>{const r=Le(n).refs.find(s=>s.rel==="next");e(je(n.data)),e(NL(n.data,r?r.uri:null))}).catch(n=>{e(LL(n))}))}}function RL(){return{type:My,skipLoading:!0}}function NL(e,t){return{type:Py,statuses:e,next:t,skipLoading:!0}}function LL(e){return{type:Fy,error:e,skipLoading:!0}}function Qk(){return(e,t)=>{const n=t().getIn(["status_lists","favourites","next"],null);n===null||t().getIn(["status_lists","favourites","isLoading"])||(e(xL()),F().get(n).then(r=>{const s=Le(r).refs.find(i=>i.rel==="next");e(je(r.data)),e(ML(r.data,s?s.uri:null))}).catch(r=>{e(PL(r))}))}}function xL(){return{type:Uy}}function ML(e,t){return{type:ky,statuses:e,next:t}}function PL(e){return{type:Dy,error:e}}const FL=(e,t)=>an(`v1/statuses/${e}/reblog`,{visibility:t}),UL=e=>an(`v1/statuses/${e}/unreblog`),wc=ce("status/reblog",({statusId:e,visibility:t})=>FL(e,t),(e,{dispatch:t,discardLoadData:n})=>(t(Nt(e.reblog)),n)),Tc=ce("status/unreblog",({statusId:e})=>UL(e),(e,{dispatch:t,discardLoadData:n})=>(t(Nt(e)),n)),qy="REBLOGS_EXPAND_REQUEST",$y="REBLOGS_EXPAND_SUCCESS",jy="REBLOGS_EXPAND_FAIL",Hy="FAVOURITE_REQUEST",By="FAVOURITE_SUCCESS",zy="FAVOURITE_FAIL",Wy="UNFAVOURITE_REQUEST",Vy="UNFAVOURITE_SUCCESS",Gy="UNFAVOURITE_FAIL",Ky="REBLOGS_FETCH_REQUEST",Qy="REBLOGS_FETCH_SUCCESS",Xy="REBLOGS_FETCH_FAIL",Yy="FAVOURITES_FETCH_REQUEST",Zy="FAVOURITES_FETCH_SUCCESS",Jy="FAVOURITES_FETCH_FAIL",eS="FAVOURITES_EXPAND_REQUEST",tS="FAVOURITES_EXPAND_SUCCESS",nS="FAVOURITES_EXPAND_FAIL",kL="PIN_REQUEST",rS="PIN_SUCCESS",DL="PIN_FAIL",qL="UNPIN_REQUEST",sS="UNPIN_SUCCESS",$L="UNPIN_FAIL",iS="BOOKMARK_REQUEST",oS="BOOKMARKED_SUCCESS",aS="BOOKMARKED_FAIL",uS="UNBOOKMARKED_REQUEST",cS="UNBOOKMARKED_SUCCESS",lS="UNBOOKMARKED_FAIL";function jL(e){return function(t){t(BL(e)),F().post(`/api/v1/statuses/${e.get("id")}/favourite`).then(function(n){t(Nt(n.data)),t(zL(e))}).catch(function(n){t(WL(e,n))})}}function HL(e){return t=>{t(VL(e)),F().post(`/api/v1/statuses/${e.get("id")}/unfavourite`).then(n=>{t(Nt(n.data)),t(GL(e))}).catch(n=>{t(KL(e,n))})}}function BL(e){return{type:Hy,status:e,skipLoading:!0}}function zL(e){return{type:By,status:e,skipLoading:!0}}function WL(e,t){return{type:zy,status:e,error:t,skipLoading:!0}}function VL(e){return{type:Wy,status:e,skipLoading:!0}}function GL(e){return{type:Vy,status:e,skipLoading:!0}}function KL(e,t){return{type:Gy,status:e,error:t,skipLoading:!0}}function Xk(e){return function(t){t(QL(e)),F().post(`/api/v1/statuses/${e.get("id")}/bookmark`).then(function(n){t(Nt(n.data)),t(XL(e,n.data))}).catch(function(n){t(YL(e,n))})}}function Yk(e){return t=>{t(ZL(e)),F().post(`/api/v1/statuses/${e.get("id")}/unbookmark`).then(n=>{t(Nt(n.data)),t(JL(e,n.data))}).catch(n=>{t(ex(e,n))})}}function QL(e){return{type:iS,status:e}}function XL(e,t){return{type:oS,status:e,response:t}}function YL(e,t){return{type:aS,status:e,error:t}}function ZL(e){return{type:uS,status:e}}function JL(e,t){return{type:cS,status:e,response:t}}function ex(e,t){return{type:lS,status:e,error:t}}function Zk(e){return t=>{t(tx(e)),F().get(`/api/v1/statuses/${e}/reblogged_by`).then(n=>{const r=Le(n).refs.find(s=>s.rel==="next");t(ie(n.data)),t(nx(e,n.data,r?r.uri:null)),t(He(n.data.map(s=>s.id)))}).catch(n=>{t(rx(e,n))})}}function tx(e){return{type:Ky,id:e}}function nx(e,t,n){return{type:Qy,id:e,accounts:t,next:n}}function rx(e,t){return{type:Xy,id:e,error:t}}function Jk(e){return(t,n)=>{const r=n().getIn(["user_lists","reblogged_by",e,"next"]);r!==null&&(t(sx(e)),F().get(r).then(s=>{const i=Le(s).refs.find(o=>o.rel==="next");t(ie(s.data)),t(ix(e,s.data,i?i.uri:null)),t(He(s.data.map(o=>o.id)))}).catch(s=>t(ox(e,s))))}}function sx(e){return{type:qy,id:e}}function ix(e,t,n){return{type:$y,id:e,accounts:t,next:n}}function ox(e,t){return{type:jy,id:e,error:t}}function e5(e){return t=>{t(ax(e)),F().get(`/api/v1/statuses/${e}/favourited_by`).then(n=>{const r=Le(n).refs.find(s=>s.rel==="next");t(ie(n.data)),t(ux(e,n.data,r?r.uri:null)),t(He(n.data.map(s=>s.id)))}).catch(n=>{t(cx(e,n))})}}function ax(e){return{type:Yy,id:e}}function ux(e,t,n){return{type:Zy,id:e,accounts:t,next:n}}function cx(e,t){return{type:Jy,id:e,error:t}}function t5(e){return(t,n)=>{const r=n().getIn(["user_lists","favourited_by",e,"next"]);r!==null&&(t(lx(e)),F().get(r).then(s=>{const i=Le(s).refs.find(o=>o.rel==="next");t(ie(s.data)),t(fx(e,s.data,i?i.uri:null)),t(He(s.data.map(o=>o.id)))}).catch(s=>t(dx(e,s))))}}function lx(e){return{type:eS,id:e}}function fx(e,t,n){return{type:tS,id:e,accounts:t,next:n}}function dx(e,t){return{type:nS,id:e,error:t}}function n5(e){return t=>{t(px(e)),F().post(`/api/v1/statuses/${e.get("id")}/pin`).then(n=>{t(Nt(n.data)),t(hx(e))}).catch(n=>{t(mx(e,n))})}}function px(e){return{type:kL,status:e,skipLoading:!0}}function hx(e){return{type:rS,status:e,skipLoading:!0}}function mx(e,t){return{type:DL,status:e,error:t,skipLoading:!0}}function r5(e){return t=>{t(_x(e)),F().post(`/api/v1/statuses/${e.get("id")}/unpin`).then(n=>{t(Nt(n.data)),t(gx(e))}).catch(n=>{t(vx(e,n))})}}function _x(e){return{type:qL,status:e,skipLoading:!0}}function gx(e){return{type:sS,status:e,skipLoading:!0}}function vx(e,t){return{type:$L,status:e,error:t,skipLoading:!0}}function Op(e,t){return n=>{e.get("reblogged")?n(Tc({statusId:e.get("id")})):n(wc({statusId:e.get("id"),visibility:t}))}}function s5(e,t=!1){return(n,r)=>{const s=r();let i=s.statuses.get(e);i&&(i=i.set("account",s.accounts.get(i.get("account"))),n(CE&&!t?qi({modalType:"BOOST",modalProps:{status:i,onReblog:(o,a)=>n(Op(o,a))}}):Op(i)))}}function i5(e){return(t,n)=>{const s=n().statuses.get(e);s&&(s.get("favourited")?t(HL(s)):t(jL(s)))}}const yx="PINNED_STATUSES_FETCH_REQUEST",fS="PINNED_STATUSES_FETCH_SUCCESS",Sx="PINNED_STATUSES_FETCH_FAIL";function o5(){return e=>{e(Ex()),F().get(`/api/v1/accounts/${ot}/statuses`,{params:{pinned:!0}}).then(t=>{e(je(t.data)),e(wx(t.data,null))}).catch(t=>{e(Tx(t))})}}function Ex(){return{type:yx}}function wx(e,t){return{type:fS,statuses:e,next:t}}function Tx(e){return{type:Sx,error:e}}const dS="TRENDS_TAGS_FETCH_REQUEST",pS="TRENDS_TAGS_FETCH_SUCCESS",hS="TRENDS_TAGS_FETCH_FAIL",mS="TRENDS_LINKS_FETCH_REQUEST",_S="TRENDS_LINKS_FETCH_SUCCESS",gS="TRENDS_LINKS_FETCH_FAIL",vS="TRENDS_STATUSES_FETCH_REQUEST",yS="TRENDS_STATUSES_FETCH_SUCCESS",SS="TRENDS_STATUSES_FETCH_FAIL",ES="TRENDS_STATUSES_EXPAND_REQUEST",wS="TRENDS_STATUSES_EXPAND_SUCCESS",TS="TRENDS_STATUSES_EXPAND_FAIL",a5=()=>e=>{e(bx()),F().get("/api/v1/trends/tags").then(({data:t})=>e(Ox(t))).catch(t=>e(Cx(t)))},bx=()=>({type:dS,skipLoading:!0}),Ox=e=>({type:pS,trends:e,skipLoading:!0}),Cx=e=>({type:hS,error:e,skipLoading:!0,skipAlert:!0}),u5=()=>e=>{e(Ax()),F().get("/api/v1/trends/links",{params:{limit:20}}).then(({data:t})=>{e(ie(t.flatMap(n=>n.authors.map(r=>r.account)).filter(n=>!!n))),e(Ix(t))}).catch(t=>e(Rx(t)))},Ax=()=>({type:mS,skipLoading:!0}),Ix=e=>({type:_S,trends:e,skipLoading:!0}),Rx=e=>({type:gS,error:e,skipLoading:!0,skipAlert:!0}),c5=()=>(e,t)=>{t().getIn(["status_lists","trending","isLoading"])||(e(Nx()),F().get("/api/v1/trends/statuses").then(n=>{const r=Le(n).refs.find(s=>s.rel==="next");e(je(n.data)),e(Lx(n.data,r?r.uri:null))}).catch(n=>e(xx(n))))},Nx=()=>({type:vS,skipLoading:!0}),Lx=(e,t)=>({type:yS,statuses:e,next:t,skipLoading:!0}),xx=e=>({type:SS,error:e,skipLoading:!0,skipAlert:!0}),l5=()=>(e,t)=>{const n=t().getIn(["status_lists","trending","next"],null);n===null||t().getIn(["status_lists","trending","isLoading"])||(e(Mx()),F().get(n).then(r=>{const s=Le(r).refs.find(i=>i.rel==="next");e(je(r.data)),e(Px(r.data,s?s.uri:null))}).catch(r=>{e(Fx(r))}))},Mx=()=>({type:ES}),Px=(e,t)=>({type:wS,statuses:e,next:t}),Fx=e=>({type:TS,error:e}),Ux=q({favourites:q({next:null,loaded:!1,items:Je()}),bookmarks:q({next:null,loaded:!1,items:Je()}),pins:q({next:null,loaded:!1,items:Je()}),trending:q({next:null,loaded:!1,items:Je()})}),oo=(e,t,n,r)=>e.update(t,s=>s.withMutations(i=>{i.set("next",r),i.set("loaded",!0),i.set("isLoading",!1),i.set("items",Je(n.map(o=>o.id)))})),Ou=(e,t,n,r)=>e.update(t,s=>s.withMutations(i=>{i.set("next",r),i.set("isLoading",!1),i.set("items",i.get("items").union(n.map(o=>o.id)))})),Cu=(e,t,n)=>e.updateIn([t,"items"],r=>r.includes(n.get("id"))?r:Je([n.get("id")]).union(r)),Au=(e,t,n)=>e.updateIn([t,"items"],r=>r.delete(n.get("id")));function kx(e=Ux,t){switch(t.type){case My:case Uy:return e.setIn(["favourites","isLoading"],!0);case Fy:case Dy:return e.setIn(["favourites","isLoading"],!1);case Py:return oo(e,"favourites",t.statuses,t.next);case ky:return Ou(e,"favourites",t.statuses,t.next);case Ay:case Ny:return e.setIn(["bookmarks","isLoading"],!0);case Ry:case xy:return e.setIn(["bookmarks","isLoading"],!1);case Iy:return oo(e,"bookmarks",t.statuses,t.next);case Ly:return Ou(e,"bookmarks",t.statuses,t.next);case vS:case ES:return e.setIn(["trending","isLoading"],!0);case SS:case TS:return e.setIn(["trending","isLoading"],!1);case yS:return oo(e,"trending",t.statuses,t.next);case wS:return Ou(e,"trending",t.statuses,t.next);case By:return Cu(e,"favourites",t.status);case Vy:return Au(e,"favourites",t.status);case oS:return Cu(e,"bookmarks",t.status);case cS:return Au(e,"bookmarks",t.status);case fS:return oo(e,"pins",t.statuses,t.next);case rS:return Cu(e,"pins",t.status);case sS:return Au(e,"pins",t.status);case Un.type:case kn.type:return e.updateIn(["trending","items"],Je(),n=>n.filterNot(r=>t.payload.statuses.getIn([r,"account"])===t.payload.relationship.id));default:return e}}const bS=(e,t)=>e.set(t.id,me(t)),Dx=(e,t)=>e.withMutations(n=>t.forEach(r=>bS(n,r))),OS=(e,t,n)=>(n.forEach(r=>{e=OS(e,r,[])}),e.delete(t)),qx=(e,t,n)=>e.withMutations(r=>{r.setIn([t,"translation"],me(tb(n,r.get(t))));const s=r.getIn([t,"media_attachments"]);n.media_attachments&&s&&n.media_attachments.forEach(i=>{const o=s.findIndex(a=>a.get("id")===i.id);r.setIn([t,"media_attachments",o,"translation"],me({description:i.description}))})}),$x=(e,t)=>e.withMutations(n=>{n.deleteIn([t,"translation"]),n.getIn([t,"media_attachments"]).forEach((r,s)=>n.deleteIn([t,"media_attachments",s,"translation"]))}),jx=q();function Hx(e=jx,t){switch(t.type){case Nv:return e.setIn([t.id,"isLoading"],!0);case Lv:return e.delete(t.id);case nb:return bS(e,t.status);case h_:return Dx(e,t.statuses);case Hy:return e.setIn([t.status.get("id"),"favourited"],!0);case zy:return e.get(t.status.get("id"))===void 0?e:e.setIn([t.status.get("id"),"favourited"],!1);case Wy:return e.setIn([t.status.get("id"),"favourited"],!1);case Gy:return e.get(t.status.get("id"))===void 0?e:e.setIn([t.status.get("id"),"favourited"],!0);case iS:return e.get(t.status.get("id"))===void 0?e:e.setIn([t.status.get("id"),"bookmarked"],!0);case aS:return e.get(t.status.get("id"))===void 0?e:e.setIn([t.status.get("id"),"bookmarked"],!1);case uS:return e.get(t.status.get("id"))===void 0?e:e.setIn([t.status.get("id"),"bookmarked"],!1);case lS:return e.get(t.status.get("id"))===void 0?e:e.setIn([t.status.get("id"),"bookmarked"],!0);case xv:return e.setIn([t.id,"muted"],!0);case Mv:return e.setIn([t.id,"muted"],!1);case Pv:return e.withMutations(n=>{t.ids.forEach(r=>{e.get(r)!==void 0&&n.setIn([r,"hidden"],!1)})});case Fv:return e.withMutations(n=>{t.ids.forEach(r=>{e.get(r)!==void 0&&n.setIn([r,"hidden"],!0)})});case Uv:return e.setIn([t.id,"collapsed"],t.isCollapsed);case rr.type:return OS(e,t.payload.statusId,t.payload.references);case Kl:return qx(e,t.id,t.translation);case Ql:return $x(e,t.id);default:return wc.pending.match(t)?e.setIn([t.meta.arg.statusId,"reblogged"],!0):wc.rejected.match(t)?e.get(t.meta.arg.statusId)===void 0?e:e.setIn([t.meta.arg.statusId,"reblogged"],!1):Tc.pending.match(t)?e.setIn([t.meta.arg.statusId,"reblogged"],!1):Tc.rejected.match(t)?e.get(t.meta.arg.statusId)===void 0?e:e.setIn([t.meta.arg.statusId,"reblogged"],!0):e}}const Bx=e=>Vt("v2/suggestions",{limit:e}),zx=e=>nh(`v1/suggestions/${e}`),Iu=ce("suggestions/fetch",()=>Bx(20),(e,{dispatch:t})=>(t(ie(e.map(n=>n.account))),t(He(e.map(n=>n.account.id))),e)),Wx=ce("suggestions/dismiss",({accountId:e})=>zx(e)),Vx=e=>({sources:e.sources,account_id:e.account.id}),Gx={items:[],isLoading:!1},Kx=Gt(Gx,e=>{e.addCase(Iu.pending,t=>{t.isLoading=!0}),e.addCase(Iu.fulfilled,(t,n)=>{t.items=n.payload.map(Vx),t.isLoading=!1}),e.addCase(Iu.rejected,t=>{t.isLoading=!1}),e.addCase(Wx.pending,(t,n)=>{t.items=t.items.filter(r=>r.account_id!==n.meta.arg.accountId)}),e.addCase(Sa,(t,n)=>{t.items=t.items.filter(r=>!n.payload.accounts.some(s=>s.id===r.account_id))}),e.addMatcher(Ve(Un,kn),(t,n)=>{t.items=t.items.filter(r=>r.account_id!==n.payload.relationship.id)})}),Qx=q(),Ut=q({unread:0,online:!1,top:!0,isLoading:!1,hasMore:!0,pendingItems:X(),items:X()}),Ru=e=>e===pi||e===Sg,Xx=(e,t,n,r,s,i,o)=>e.update(t,Ut,a=>a.withMutations(u=>{u.set("isLoading",!1),u.set("isPartial",s),!r&&!i&&u.set("hasMore",!1),t.endsWith(":pinned")?u.set("items",n.map(c=>c.get("id"))):n.isEmpty()||(o=i&&(o||!u.get("pendingItems").isEmpty()),u.update(o?"pendingItems":"items",X(),c=>{const l=n.map(h=>h.get("id")),f=c.findLastIndex(h=>!Ru(h)&&vt(h,l.last())>=0)+1,d=c.take(f).findLastIndex(h=>!Ru(h)&&vt(h,l.first())>0)+1;let p=Je(l).withMutations(h=>{const _=c.slice(d,f).filter(g=>!Ru(g)&&vt(g,l.last())<0);h.union(_),h.subtract(c.take(d),c.skip(f))}).toList();return s&&(d===0||c.get(d-1)!==pi)&&(p=p.unshift(pi)),c.take(d).concat(p,c.skip(f))}))})),Yx=(e,t,n,r)=>{const s=e.getIn([t,"top"]);if(r||!e.getIn([t,"pendingItems"]).isEmpty())return e.getIn([t,"pendingItems"],X()).includes(n.get("id"))||e.getIn([t,"items"],X()).includes(n.get("id"))?e:e.update(t,Ut,c=>c.update("pendingItems",l=>l.unshift(n.get("id"))).update("unread",l=>l+1));const i=e.getIn([t,"items"],X()),o=i.includes(n.get("id")),a=e.getIn([t,"unread"],0);if(o)return e;let u=i;return e.update(t,Ut,c=>c.withMutations(l=>{s||l.set("unread",a+1),s&&i.size>40&&(u=u.take(20)),l.set("items",u.unshift(n.get("id")))}))},ef=(e,t,n,r=null)=>(e.keySeq().forEach(s=>{if(r===null||s!==`account:${r}`&&!s.startsWith(`account:${r}:`)){const i=o=>o.filterNot(a=>a===t);e=e.updateIn([s,"items"],i).updateIn([s,"pendingItems"],i)}}),n.forEach(s=>{e=ef(e,s,[],r)}),e),Zx=(e,t)=>e.set(t,Ut),Jx=(e,t,n)=>{let r;return n.forEach(s=>{s.get("account")===t.id&&(r=n.filter(i=>i.get("reblog")===s.get("id")).map(i=>i.get("id")).valueSeq().toJSON(),e=ef(e,s.get("id"),r,t.id))}),e},eM=(e,t,n,r)=>{const s=i=>i.filterNot(o=>r.getIn([o,"account"])===n.id);return t.updateIn([e,"items"],X(),s).updateIn([e,"pendingItems"],X(),s)},tM=(e,t,n)=>e.update(t,Ut,r=>r.withMutations(s=>{n&&s.set("unread",s.get("pendingItems").size),s.set("top",n)})),nM=(e,t)=>e.get("online")?e:e.withMutations(n=>{n.update(t?"pendingItems":"items",r=>r.first()?r.unshift(pi):r),n.set("online",!0)});function rM(e=Qx,t){switch(t.type){case _g:return e.update(t.timeline,Ut,n=>n.update("items",r=>n.get("pendingItems").concat(r.take(40))).set("pendingItems",X()).set("unread",0));case dg:return e.update(t.timeline,Ut,n=>n.set("isLoading",!0));case hg:return e.update(t.timeline,Ut,n=>n.set("isLoading",!1));case pg:return Xx(e,t.timeline,me(t.statuses),t.next,t.partial,t.isLoadingRecent,t.usePendingItems);case Bl:return Yx(e,t.timeline,me(t.status),t.usePendingItems);case rr.type:return ef(e,t.payload.statusId,t.payload.references,t.payload.reblogOf);case fg:return Zx(e,t.timeline);case Un.type:case kn.type:return Jx(e,t.payload.relationship,t.payload.statuses);case fa.type:return eM("home",e,t.payload.relationship,t.payload.statuses);case mg:return tM(e,t.timeline,t.top);case gg:return e.update(t.timeline,Ut,n=>nM(n,t.usePendingItems));case lg.type:return e.update(t.payload.timeline,Ut,n=>n.set("online",!1).update(t.payload.usePendingItems?"pendingItems":"items",r=>r.first()?r.unshift(pi):r));case vg:return e.update(t.timeline,Ut,n=>n.set("isPartial",!0).set("items",X()).set("pendingItems",X()).set("unread",0));case yg:return e.update(t.timeline,Ut,n=>n.update("items",X(),r=>r.includes(t.key)?r:r.insert(t.index,t.key)));default:return e}}const sM=q({tags:q({items:X(),isLoading:!1}),links:q({items:X(),isLoading:!1})});function iM(e=sM,t){switch(t.type){case dS:return e.setIn(["tags","isLoading"],!0);case pS:return e.withMutations(n=>{n.setIn(["tags","items"],me(t.trends)),n.setIn(["tags","isLoading"],!1)});case hS:return e.setIn(["tags","isLoading"],!1);case mS:return e.setIn(["links","isLoading"],!0);case _S:return e.withMutations(n=>{n.setIn(["links","items"],me(t.trends)),n.setIn(["links","isLoading"],!1)});case gS:return e.setIn(["links","isLoading"],!1);default:return e}}const CS=(e,t=20)=>Vt("v1/directory",{...e,limit:t}),Nu=ce("directory/fetch",async e=>CS(e),(e,{dispatch:t})=>(t(ie(e)),t(He(e.map(n=>n.id))),{accounts:e})),Lu=ce("directory/expand",async(e,{getState:t})=>{const n=t().user_lists.getIn(["directory","items"]);return CS({...e,offset:n.size},20)},(e,{dispatch:t})=>(t(ie(e)),t(He(e.map(n=>n.id))),{accounts:e})),xu=ce("accounts/featured_tags",({accountId:e})=>J1(e)),AS="BLOCKS_FETCH_REQUEST",IS="BLOCKS_FETCH_SUCCESS",RS="BLOCKS_FETCH_FAIL",NS="BLOCKS_EXPAND_REQUEST",LS="BLOCKS_EXPAND_SUCCESS",xS="BLOCKS_EXPAND_FAIL";function f5(){return e=>{e(oM()),F().get("/api/v1/blocks").then(t=>{const n=Le(t).refs.find(r=>r.rel==="next");e(ie(t.data)),e(aM(t.data,n?n.uri:null)),e(He(t.data.map(r=>r.id)))}).catch(t=>e(uM(t)))}}function oM(){return{type:AS}}function aM(e,t){return{type:IS,accounts:e,next:t}}function uM(e){return{type:RS,error:e}}function d5(){return(e,t)=>{const n=t().getIn(["user_lists","blocks","next"]);n!==null&&(e(cM()),F().get(n).then(r=>{const s=Le(r).refs.find(i=>i.rel==="next");e(ie(r.data)),e(lM(r.data,s?s.uri:null)),e(He(r.data.map(i=>i.id)))}).catch(r=>e(fM(r))))}}function cM(){return{type:NS}}function lM(e,t){return{type:LS,accounts:e,next:t}}function fM(e){return{type:xS,error:e}}function p5(e){return t=>{t(qi({modalType:"BLOCK",modalProps:{accountId:e.get("id"),acct:e.get("acct")}}))}}const MS="MUTES_FETCH_REQUEST",PS="MUTES_FETCH_SUCCESS",FS="MUTES_FETCH_FAIL",US="MUTES_EXPAND_REQUEST",kS="MUTES_EXPAND_SUCCESS",DS="MUTES_EXPAND_FAIL";function h5(){return e=>{e(dM()),F().get("/api/v1/mutes").then(t=>{const n=Le(t).refs.find(r=>r.rel==="next");e(ie(t.data)),e(pM(t.data,n?n.uri:null)),e(He(t.data.map(r=>r.id)))}).catch(t=>e(hM(t)))}}function dM(){return{type:MS}}function pM(e,t){return{type:PS,accounts:e,next:t}}function hM(e){return{type:FS,error:e}}function m5(){return(e,t)=>{const n=t().getIn(["user_lists","mutes","next"]);n!==null&&(e(mM()),F().get(n).then(r=>{const s=Le(r).refs.find(i=>i.rel==="next");e(ie(r.data)),e(_M(r.data,s?s.uri:null)),e(He(r.data.map(i=>i.id)))}).catch(r=>e(gM(r))))}}function mM(){return{type:US}}function _M(e,t){return{type:kS,accounts:e,next:t}}function gM(e){return{type:DS,error:e}}function _5(e){return t=>{t(qi({modalType:"MUTE",modalProps:{accountId:e.get("id"),acct:e.get("acct")}}))}}const Hn=q({next:null,isLoading:!1,items:X()}),vM=q({followers:Hn,following:Hn,reblogged_by:Hn,favourited_by:Hn,follow_requests:Hn,blocks:Hn,mutes:Hn,featured_tags:Hn}),Rn=(e,t,n,r)=>e.setIn(t,q({next:r,items:X(n.map(s=>s.id)),isLoading:!1})),Bn=(e,t,n,r)=>e.updateIn(t,s=>s.set("next",r).set("isLoading",!1).update("items",i=>i.concat(n.map(o=>o.id)))),yM=(e,t)=>e.updateIn(["follow_requests","items"],n=>n.filterNot(r=>r===t.account.id).unshift(t.account.id)),SM=(e,t)=>{const n={...e,accountId:t};return me(n)},EM=(e,t,n,r)=>e.setIn(t,q({items:X(n.map(s=>SM(s,r)).sort((s,i)=>i.get("statuses_count")-s.get("statuses_count"))),isLoading:!1}));function wM(e=vM,t){switch(t.type){case A_:return Rn(e,["followers",t.id],t.accounts,t.next);case N_:return Bn(e,["followers",t.id],t.accounts,t.next);case C_:case R_:return e.setIn(["followers",t.id,"isLoading"],!0);case I_:case L_:return e.setIn(["followers",t.id,"isLoading"],!1);case M_:return Rn(e,["following",t.id],t.accounts,t.next);case U_:return Bn(e,["following",t.id],t.accounts,t.next);case x_:case F_:return e.setIn(["following",t.id,"isLoading"],!0);case P_:case k_:return e.setIn(["following",t.id,"isLoading"],!1);case Qy:return Rn(e,["reblogged_by",t.id],t.accounts,t.next);case $y:return Bn(e,["reblogged_by",t.id],t.accounts,t.next);case Ky:case qy:return e.setIn(["reblogged_by",t.id,"isLoading"],!0);case Xy:case jy:return e.setIn(["reblogged_by",t.id,"isLoading"],!1);case Zy:return Rn(e,["favourited_by",t.id],t.accounts,t.next);case tS:return Bn(e,["favourited_by",t.id],t.accounts,t.next);case Yy:case eS:return e.setIn(["favourited_by",t.id,"isLoading"],!0);case Jy:case nS:return e.setIn(["favourited_by",t.id,"isLoading"],!1);case jl.type:return t.payload.notification.type==="follow_request"?yM(e,t.payload.notification):e;case q_:return Rn(e,["follow_requests"],t.accounts,t.next);case H_:return Bn(e,["follow_requests"],t.accounts,t.next);case D_:case j_:return e.setIn(["follow_requests","isLoading"],!0);case $_:case B_:return e.setIn(["follow_requests","isLoading"],!1);case da.type:case pa.type:return e.updateIn(["follow_requests","items"],n=>n.filterNot(r=>r===t.payload.id));case IS:return Rn(e,["blocks"],t.accounts,t.next);case LS:return Bn(e,["blocks"],t.accounts,t.next);case AS:case NS:return e.setIn(["blocks","isLoading"],!0);case RS:case xS:return e.setIn(["blocks","isLoading"],!1);case PS:return Rn(e,["mutes"],t.accounts,t.next);case kS:return Bn(e,["mutes"],t.accounts,t.next);case MS:case US:return e.setIn(["mutes","isLoading"],!0);case FS:case DS:return e.setIn(["mutes","isLoading"],!1);default:return zs.fulfilled.match(t)?Rn(e,["featured_accounts",t.meta.arg.accountId],t.payload,void 0):zs.pending.match(t)?e.setIn(["featured_accounts",t.meta.arg.accountId,"isLoading"],!0):zs.rejected.match(t)?e.setIn(["featured_accounts",t.meta.arg.accountId,"isLoading"],!1):xu.fulfilled.match(t)?EM(e,["featured_tags",t.meta.arg.accountId],t.payload,t.meta.arg.accountId):xu.pending.match(t)?e.setIn(["featured_tags",t.meta.arg.accountId,"isLoading"],!0):xu.rejected.match(t)?e.setIn(["featured_tags",t.meta.arg.accountId,"isLoading"],!1):Nu.fulfilled.match(t)?Rn(e,["directory"],t.payload.accounts,void 0):Lu.fulfilled.match(t)?Bn(e,["directory"],t.payload.accounts,void 0):Nu.pending.match(t)||Lu.pending.match(t)?e.setIn(["directory","isLoading"],!0):Nu.rejected.match(t)||Lu.rejected.match(t)?e.setIn(["directory","isLoading"],!1):e}}const qS={announcements:kI,dropdownMenu:gR,timelines:rM,meta:dN,alerts:xI,loadingBar:Uo.loadingBarReducer,modal:_N,user_lists:wM,status_lists:kx,accounts:TI,accounts_map:RI,accounts_familiar_followers:CI,statuses:Hx,relationships:JN,settings:wL,push_notifications:GN,server:hL,contexts:oR,compose:nR,search:tL,media_attachments:lN,notifications:qN,notificationGroups:IN,height_cache:FR,custom_emojis:pR,lists:oN,filters:LR,conversations:fR,suggestions:Kx,polls:VN,trends:iM,markers:uN,picture_in_picture:HN,history:$R,notificationPolicy:MN,notificationRequests:$N,navigation:EN},TM=Object.fromEntries(Object.entries(qS).map(([e,t])=>[e,t(void 0,{})])),bM=_e(TM,"RootState"),OM=pI.combineReducers(qS,bM),CM="FAIL",AM=new RegExp(`${CM}$`,"g");function IM(e){return tl(e)&&cm(e)}function RM(e){return Ko(e)}const NM=({dispatch:e})=>t=>n=>{var r;if(IM(n)&&!n.payload.skipAlert)e(di(n.payload.error,n.payload.skipNotFound));else if(RM(n)&&!((r=n.payload)!=null&&r.skipAlert||n.skipAlert)&&n.type.match(AM)){const{error:s,skipNotFound:i}=n.payload??n;e(di(s,i))}return t(n)},LM=["PENDING","FULFILLED","REJECTED"];function xM(e){return Ko(e)&&"skipLoading"in e&&typeof e.skipLoading=="boolean"}const MM=(e={})=>{const t=e.promiseTypeSuffixes??LM;return({dispatch:n})=>r=>s=>{let i=!1,o=!1,a=!1;if(tl(s)&&"useLoadingBar"in s.meta&&s.meta.useLoadingBar)um(s)?i=!0:Io(s)?o=!0:Ao(s)&&(a=!0);else if(xM(s)&&!s.skipLoading&&typeof s.type=="string"){const[u,c,l]=t,f=new RegExp(`${u}$`,"g"),d=new RegExp(`${c}$`,"g"),p=new RegExp(`${l}$`,"g");s.type.match(f)?i=!0:s.type.match(d)?o=!0:s.type.match(p)&&(a=!0)}return i?n(Uo.showLoading()):(o||a)&&n(Uo.hideLoading()),r(s)}};function PM(e){return Ko(e)&&"meta"in e&&typeof e.meta=="object"&&!!e.meta&&"sound"in e.meta&&typeof e.meta.sound=="string"}const FM=e=>{const t=new Audio;return e.forEach(({type:n,src:r})=>{const s=document.createElement("source");s.type=n,s.src=r,t.appendChild(s)}),t},UM=e=>{e.paused||(e.pause(),typeof e.fastSeek=="function"?e.fastSeek(0):e.currentTime=0),e.play()},kM=()=>{const e={};return LE(()=>{e.boop=FM([{src:`${_f}/sounds/boop.ogg`,type:"audio/ogg"},{src:`${_f}/sounds/boop.mp3`,type:"audio/mpeg"}])}),()=>t=>n=>{if(PM(n)){const r=n.meta.sound;if(r){const s=e[r];s&&UM(s)}}return t(n)}},g5=H1({reducer:OM,middleware:e=>e({serializableCheck:!1,immutableCheck:!1}).concat(MM({promiseTypeSuffixes:["REQUEST","SUCCESS","FAIL"]})).concat(NM).concat(kM())});function Cp(){return m.useState(null)}const Ap=e=>!e||typeof e=="function"?e:t=>{e.current=t};function DM(e,t){const n=Ap(e),r=Ap(t);return s=>{n&&n(s),r&&r(s)}}function qM(e,t){return m.useMemo(()=>DM(e,t),[e,t])}var yt="top",zt="bottom",Wt="right",St="left",tf="auto",Hi=[yt,zt,Wt,St],Qr="start",mi="end",$M="clippingParents",$S="viewport",Rs="popper",jM="reference",Ip=Hi.reduce(function(e,t){return e.concat([t+"-"+Qr,t+"-"+mi])},[]),nf=[].concat(Hi,[tf]).reduce(function(e,t){return e.concat([t,t+"-"+Qr,t+"-"+mi])},[]),HM="beforeRead",BM="read",zM="afterRead",WM="beforeMain",VM="main",GM="afterMain",KM="beforeWrite",QM="write",XM="afterWrite",YM=[HM,BM,zM,WM,VM,GM,KM,QM,XM];function _n(e){return e.split("-")[0]}function At(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Tr(e){var t=At(e).Element;return e instanceof t||e instanceof Element}function gn(e){var t=At(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function rf(e){if(typeof ShadowRoot>"u")return!1;var t=At(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}var vr=Math.max,ko=Math.min,Xr=Math.round;function bc(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function jS(){return!/^((?!chrome|android).)*safari/i.test(bc())}function Yr(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var r=e.getBoundingClientRect(),s=1,i=1;t&&gn(e)&&(s=e.offsetWidth>0&&Xr(r.width)/e.offsetWidth||1,i=e.offsetHeight>0&&Xr(r.height)/e.offsetHeight||1);var o=Tr(e)?At(e):window,a=o.visualViewport,u=!jS()&&n,c=(r.left+(u&&a?a.offsetLeft:0))/s,l=(r.top+(u&&a?a.offsetTop:0))/i,f=r.width/s,d=r.height/i;return{width:f,height:d,top:l,right:c+f,bottom:l+d,left:c,x:c,y:l}}function sf(e){var t=Yr(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function HS(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&rf(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Jn(e){return e?(e.nodeName||"").toLowerCase():null}function Fn(e){return At(e).getComputedStyle(e)}function ZM(e){return["table","td","th"].indexOf(Jn(e))>=0}function sr(e){return((Tr(e)?e.ownerDocument:e.document)||window.document).documentElement}function wa(e){return Jn(e)==="html"?e:e.assignedSlot||e.parentNode||(rf(e)?e.host:null)||sr(e)}function Rp(e){return!gn(e)||Fn(e).position==="fixed"?null:e.offsetParent}function JM(e){var t=/firefox/i.test(bc()),n=/Trident/i.test(bc());if(n&&gn(e)){var r=Fn(e);if(r.position==="fixed")return null}var s=wa(e);for(rf(s)&&(s=s.host);gn(s)&&["html","body"].indexOf(Jn(s))<0;){var i=Fn(s);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||t&&i.willChange==="filter"||t&&i.filter&&i.filter!=="none")return s;s=s.parentNode}return null}function Bi(e){for(var t=At(e),n=Rp(e);n&&ZM(n)&&Fn(n).position==="static";)n=Rp(n);return n&&(Jn(n)==="html"||Jn(n)==="body"&&Fn(n).position==="static")?t:n||JM(e)||t}function of(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Vs(e,t,n){return vr(e,ko(t,n))}function eP(e,t,n){var r=Vs(e,t,n);return r>n?n:r}function BS(){return{top:0,right:0,bottom:0,left:0}}function zS(e){return Object.assign({},BS(),e)}function WS(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var tP=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,zS(typeof t!="number"?t:WS(t,Hi))};function nP(e){var t,n=e.state,r=e.name,s=e.options,i=n.elements.arrow,o=n.modifiersData.popperOffsets,a=_n(n.placement),u=of(a),c=[St,Wt].indexOf(a)>=0,l=c?"height":"width";if(!(!i||!o)){var f=tP(s.padding,n),d=sf(i),p=u==="y"?yt:St,h=u==="y"?zt:Wt,_=n.rects.reference[l]+n.rects.reference[u]-o[u]-n.rects.popper[l],g=o[u]-n.rects.reference[u],v=Bi(i),y=v?u==="y"?v.clientHeight||0:v.clientWidth||0:0,S=_/2-g/2,b=f[p],O=y-d[l]-f[h],N=y/2-d[l]/2+S,x=Vs(b,N,O),z=u;n.modifiersData[r]=(t={},t[z]=x,t.centerOffset=x-N,t)}}function rP(e){var t=e.state,n=e.options,r=n.element,s=r===void 0?"[data-popper-arrow]":r;s!=null&&(typeof s=="string"&&(s=t.elements.popper.querySelector(s),!s)||HS(t.elements.popper,s)&&(t.elements.arrow=s))}const sP={name:"arrow",enabled:!0,phase:"main",fn:nP,effect:rP,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Zr(e){return e.split("-")[1]}var iP={top:"auto",right:"auto",bottom:"auto",left:"auto"};function oP(e,t){var n=e.x,r=e.y,s=t.devicePixelRatio||1;return{x:Xr(n*s)/s||0,y:Xr(r*s)/s||0}}function Np(e){var t,n=e.popper,r=e.popperRect,s=e.placement,i=e.variation,o=e.offsets,a=e.position,u=e.gpuAcceleration,c=e.adaptive,l=e.roundOffsets,f=e.isFixed,d=o.x,p=d===void 0?0:d,h=o.y,_=h===void 0?0:h,g=typeof l=="function"?l({x:p,y:_}):{x:p,y:_};p=g.x,_=g.y;var v=o.hasOwnProperty("x"),y=o.hasOwnProperty("y"),S=St,b=yt,O=window;if(c){var N=Bi(n),x="clientHeight",z="clientWidth";if(N===At(n)&&(N=sr(n),Fn(N).position!=="static"&&a==="absolute"&&(x="scrollHeight",z="scrollWidth")),N=N,s===yt||(s===St||s===Wt)&&i===mi){b=zt;var j=f&&N===O&&O.visualViewport?O.visualViewport.height:N[x];_-=j-r.height,_*=u?1:-1}if(s===St||(s===yt||s===zt)&&i===mi){S=Wt;var H=f&&N===O&&O.visualViewport?O.visualViewport.width:N[z];p-=H-r.width,p*=u?1:-1}}var K=Object.assign({position:a},c&&iP),V=l===!0?oP({x:p,y:_},At(n)):{x:p,y:_};if(p=V.x,_=V.y,u){var Y;return Object.assign({},K,(Y={},Y[b]=y?"0":"",Y[S]=v?"0":"",Y.transform=(O.devicePixelRatio||1)<=1?"translate("+p+"px, "+_+"px)":"translate3d("+p+"px, "+_+"px, 0)",Y))}return Object.assign({},K,(t={},t[b]=y?_+"px":"",t[S]=v?p+"px":"",t.transform="",t))}function aP(e){var t=e.state,n=e.options,r=n.gpuAcceleration,s=r===void 0?!0:r,i=n.adaptive,o=i===void 0?!0:i,a=n.roundOffsets,u=a===void 0?!0:a,c={placement:_n(t.placement),variation:Zr(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:s,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,Np(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:u})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,Np(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const uP={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:aP,data:{}};var ao={passive:!0};function cP(e){var t=e.state,n=e.instance,r=e.options,s=r.scroll,i=s===void 0?!0:s,o=r.resize,a=o===void 0?!0:o,u=At(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&c.forEach(function(l){l.addEventListener("scroll",n.update,ao)}),a&&u.addEventListener("resize",n.update,ao),function(){i&&c.forEach(function(l){l.removeEventListener("scroll",n.update,ao)}),a&&u.removeEventListener("resize",n.update,ao)}}const lP={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:cP,data:{}};var fP={left:"right",right:"left",bottom:"top",top:"bottom"};function ho(e){return e.replace(/left|right|bottom|top/g,function(t){return fP[t]})}var dP={start:"end",end:"start"};function Lp(e){return e.replace(/start|end/g,function(t){return dP[t]})}function af(e){var t=At(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function uf(e){return Yr(sr(e)).left+af(e).scrollLeft}function pP(e,t){var n=At(e),r=sr(e),s=n.visualViewport,i=r.clientWidth,o=r.clientHeight,a=0,u=0;if(s){i=s.width,o=s.height;var c=jS();(c||!c&&t==="fixed")&&(a=s.offsetLeft,u=s.offsetTop)}return{width:i,height:o,x:a+uf(e),y:u}}function hP(e){var t,n=sr(e),r=af(e),s=(t=e.ownerDocument)==null?void 0:t.body,i=vr(n.scrollWidth,n.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),o=vr(n.scrollHeight,n.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),a=-r.scrollLeft+uf(e),u=-r.scrollTop;return Fn(s||n).direction==="rtl"&&(a+=vr(n.clientWidth,s?s.clientWidth:0)-i),{width:i,height:o,x:a,y:u}}function cf(e){var t=Fn(e),n=t.overflow,r=t.overflowX,s=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+s+r)}function VS(e){return["html","body","#document"].indexOf(Jn(e))>=0?e.ownerDocument.body:gn(e)&&cf(e)?e:VS(wa(e))}function Gs(e,t){var n;t===void 0&&(t=[]);var r=VS(e),s=r===((n=e.ownerDocument)==null?void 0:n.body),i=At(r),o=s?[i].concat(i.visualViewport||[],cf(r)?r:[]):r,a=t.concat(o);return s?a:a.concat(Gs(wa(o)))}function Oc(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function mP(e,t){var n=Yr(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function xp(e,t,n){return t===$S?Oc(pP(e,n)):Tr(t)?mP(t,n):Oc(hP(sr(e)))}function _P(e){var t=Gs(wa(e)),n=["absolute","fixed"].indexOf(Fn(e).position)>=0,r=n&&gn(e)?Bi(e):e;return Tr(r)?t.filter(function(s){return Tr(s)&&HS(s,r)&&Jn(s)!=="body"}):[]}function gP(e,t,n,r){var s=t==="clippingParents"?_P(e):[].concat(t),i=[].concat(s,[n]),o=i[0],a=i.reduce(function(u,c){var l=xp(e,c,r);return u.top=vr(l.top,u.top),u.right=ko(l.right,u.right),u.bottom=ko(l.bottom,u.bottom),u.left=vr(l.left,u.left),u},xp(e,o,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function GS(e){var t=e.reference,n=e.element,r=e.placement,s=r?_n(r):null,i=r?Zr(r):null,o=t.x+t.width/2-n.width/2,a=t.y+t.height/2-n.height/2,u;switch(s){case yt:u={x:o,y:t.y-n.height};break;case zt:u={x:o,y:t.y+t.height};break;case Wt:u={x:t.x+t.width,y:a};break;case St:u={x:t.x-n.width,y:a};break;default:u={x:t.x,y:t.y}}var c=s?of(s):null;if(c!=null){var l=c==="y"?"height":"width";switch(i){case Qr:u[c]=u[c]-(t[l]/2-n[l]/2);break;case mi:u[c]=u[c]+(t[l]/2-n[l]/2);break}}return u}function _i(e,t){t===void 0&&(t={});var n=t,r=n.placement,s=r===void 0?e.placement:r,i=n.strategy,o=i===void 0?e.strategy:i,a=n.boundary,u=a===void 0?$M:a,c=n.rootBoundary,l=c===void 0?$S:c,f=n.elementContext,d=f===void 0?Rs:f,p=n.altBoundary,h=p===void 0?!1:p,_=n.padding,g=_===void 0?0:_,v=zS(typeof g!="number"?g:WS(g,Hi)),y=d===Rs?jM:Rs,S=e.rects.popper,b=e.elements[h?y:d],O=gP(Tr(b)?b:b.contextElement||sr(e.elements.popper),u,l,o),N=Yr(e.elements.reference),x=GS({reference:N,element:S,placement:s}),z=Oc(Object.assign({},S,x)),j=d===Rs?z:N,H={top:O.top-j.top+v.top,bottom:j.bottom-O.bottom+v.bottom,left:O.left-j.left+v.left,right:j.right-O.right+v.right},K=e.modifiersData.offset;if(d===Rs&&K){var V=K[s];Object.keys(H).forEach(function(Y){var B=[Wt,zt].indexOf(Y)>=0?1:-1,w=[yt,zt].indexOf(Y)>=0?"y":"x";H[Y]+=V[w]*B})}return H}function vP(e,t){t===void 0&&(t={});var n=t,r=n.placement,s=n.boundary,i=n.rootBoundary,o=n.padding,a=n.flipVariations,u=n.allowedAutoPlacements,c=u===void 0?nf:u,l=Zr(r),f=l?a?Ip:Ip.filter(function(h){return Zr(h)===l}):Hi,d=f.filter(function(h){return c.indexOf(h)>=0});d.length===0&&(d=f);var p=d.reduce(function(h,_){return h[_]=_i(e,{placement:_,boundary:s,rootBoundary:i,padding:o})[_n(_)],h},{});return Object.keys(p).sort(function(h,_){return p[h]-p[_]})}function yP(e){if(_n(e)===tf)return[];var t=ho(e);return[Lp(e),t,Lp(t)]}function SP(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var s=n.mainAxis,i=s===void 0?!0:s,o=n.altAxis,a=o===void 0?!0:o,u=n.fallbackPlacements,c=n.padding,l=n.boundary,f=n.rootBoundary,d=n.altBoundary,p=n.flipVariations,h=p===void 0?!0:p,_=n.allowedAutoPlacements,g=t.options.placement,v=_n(g),y=v===g,S=u||(y||!h?[ho(g)]:yP(g)),b=[g].concat(S).reduce(function(ue,W){return ue.concat(_n(W)===tf?vP(t,{placement:W,boundary:l,rootBoundary:f,padding:c,flipVariations:h,allowedAutoPlacements:_}):W)},[]),O=t.rects.reference,N=t.rects.popper,x=new Map,z=!0,j=b[0],H=0;H<b.length;H++){var K=b[H],V=_n(K),Y=Zr(K)===Qr,B=[yt,zt].indexOf(V)>=0,w=B?"width":"height",A=_i(t,{placement:K,boundary:l,rootBoundary:f,altBoundary:d,padding:c}),I=B?Y?Wt:St:Y?zt:yt;O[w]>N[w]&&(I=ho(I));var U=ho(I),M=[];if(i&&M.push(A[V]<=0),a&&M.push(A[I]<=0,A[U]<=0),M.every(function(ue){return ue})){j=K,z=!1;break}x.set(K,M)}if(z)for(var Q=h?3:1,L=function(W){var ge=b.find(function(C){var ye=x.get(C);if(ye)return ye.slice(0,W).every(function(ve){return ve})});if(ge)return j=ge,"break"},se=Q;se>0;se--){var we=L(se);if(we==="break")break}t.placement!==j&&(t.modifiersData[r]._skip=!0,t.placement=j,t.reset=!0)}}const EP={name:"flip",enabled:!0,phase:"main",fn:SP,requiresIfExists:["offset"],data:{_skip:!1}};function Mp(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function Pp(e){return[yt,Wt,zt,St].some(function(t){return e[t]>=0})}function wP(e){var t=e.state,n=e.name,r=t.rects.reference,s=t.rects.popper,i=t.modifiersData.preventOverflow,o=_i(t,{elementContext:"reference"}),a=_i(t,{altBoundary:!0}),u=Mp(o,r),c=Mp(a,s,i),l=Pp(u),f=Pp(c);t.modifiersData[n]={referenceClippingOffsets:u,popperEscapeOffsets:c,isReferenceHidden:l,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":l,"data-popper-escaped":f})}const TP={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:wP};function bP(e,t,n){var r=_n(e),s=[St,yt].indexOf(r)>=0?-1:1,i=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,o=i[0],a=i[1];return o=o||0,a=(a||0)*s,[St,Wt].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}function OP(e){var t=e.state,n=e.options,r=e.name,s=n.offset,i=s===void 0?[0,0]:s,o=nf.reduce(function(l,f){return l[f]=bP(f,t.rects,i),l},{}),a=o[t.placement],u=a.x,c=a.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=u,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=o}const CP={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:OP};function AP(e){var t=e.state,n=e.name;t.modifiersData[n]=GS({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}const IP={name:"popperOffsets",enabled:!0,phase:"read",fn:AP,data:{}};function RP(e){return e==="x"?"y":"x"}function NP(e){var t=e.state,n=e.options,r=e.name,s=n.mainAxis,i=s===void 0?!0:s,o=n.altAxis,a=o===void 0?!1:o,u=n.boundary,c=n.rootBoundary,l=n.altBoundary,f=n.padding,d=n.tether,p=d===void 0?!0:d,h=n.tetherOffset,_=h===void 0?0:h,g=_i(t,{boundary:u,rootBoundary:c,padding:f,altBoundary:l}),v=_n(t.placement),y=Zr(t.placement),S=!y,b=of(v),O=RP(b),N=t.modifiersData.popperOffsets,x=t.rects.reference,z=t.rects.popper,j=typeof _=="function"?_(Object.assign({},t.rects,{placement:t.placement})):_,H=typeof j=="number"?{mainAxis:j,altAxis:j}:Object.assign({mainAxis:0,altAxis:0},j),K=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,V={x:0,y:0};if(N){if(i){var Y,B=b==="y"?yt:St,w=b==="y"?zt:Wt,A=b==="y"?"height":"width",I=N[b],U=I+g[B],M=I-g[w],Q=p?-z[A]/2:0,L=y===Qr?x[A]:z[A],se=y===Qr?-z[A]:-x[A],we=t.elements.arrow,ue=p&&we?sf(we):{width:0,height:0},W=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:BS(),ge=W[B],C=W[w],ye=Vs(0,x[A],ue[A]),ve=S?x[A]/2-Q-ye-ge-H.mainAxis:L-ye-ge-H.mainAxis,xe=S?-x[A]/2+Q+ye+C+H.mainAxis:se+ye+C+H.mainAxis,Ke=t.elements.arrow&&Bi(t.elements.arrow),Se=Ke?b==="y"?Ke.clientTop||0:Ke.clientLeft||0:0,oe=(Y=K==null?void 0:K[b])!=null?Y:0,un=I+ve-oe-Se,Be=I+xe-oe,rt=Vs(p?ko(U,un):U,I,p?vr(M,Be):M);N[b]=rt,V[b]=rt-I}if(a){var cn,ir=b==="x"?yt:St,or=b==="x"?zt:Wt,dt=N[O],Lt=O==="y"?"height":"width",ln=dt+g[ir],Dn=dt-g[or],En=[yt,St].indexOf(v)!==-1,xt=(cn=K==null?void 0:K[O])!=null?cn:0,wn=En?ln:dt-x[Lt]-z[Lt]-xt+H.altAxis,Tn=En?dt+x[Lt]+z[Lt]-xt-H.altAxis:Dn,bn=p&&En?eP(wn,dt,Tn):Vs(p?wn:ln,dt,p?Tn:Dn);N[O]=bn,V[O]=bn-dt}t.modifiersData[r]=V}}const LP={name:"preventOverflow",enabled:!0,phase:"main",fn:NP,requiresIfExists:["offset"]};function xP(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function MP(e){return e===At(e)||!gn(e)?af(e):xP(e)}function PP(e){var t=e.getBoundingClientRect(),n=Xr(t.width)/e.offsetWidth||1,r=Xr(t.height)/e.offsetHeight||1;return n!==1||r!==1}function FP(e,t,n){n===void 0&&(n=!1);var r=gn(t),s=gn(t)&&PP(t),i=sr(t),o=Yr(e,s,n),a={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(r||!r&&!n)&&((Jn(t)!=="body"||cf(i))&&(a=MP(t)),gn(t)?(u=Yr(t,!0),u.x+=t.clientLeft,u.y+=t.clientTop):i&&(u.x=uf(i))),{x:o.left+a.scrollLeft-u.x,y:o.top+a.scrollTop-u.y,width:o.width,height:o.height}}function UP(e){var t=new Map,n=new Set,r=[];e.forEach(function(i){t.set(i.name,i)});function s(i){n.add(i.name);var o=[].concat(i.requires||[],i.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var u=t.get(a);u&&s(u)}}),r.push(i)}return e.forEach(function(i){n.has(i.name)||s(i)}),r}function kP(e){var t=UP(e);return YM.reduce(function(n,r){return n.concat(t.filter(function(s){return s.phase===r}))},[])}function DP(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function qP(e){var t=e.reduce(function(n,r){var s=n[r.name];return n[r.name]=s?Object.assign({},s,r,{options:Object.assign({},s.options,r.options),data:Object.assign({},s.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var Fp={placement:"bottom",modifiers:[],strategy:"absolute"};function Up(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function $P(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,s=t.defaultOptions,i=s===void 0?Fp:s;return function(a,u,c){c===void 0&&(c=i);var l={placement:"bottom",orderedModifiers:[],options:Object.assign({},Fp,i),modifiersData:{},elements:{reference:a,popper:u},attributes:{},styles:{}},f=[],d=!1,p={state:l,setOptions:function(v){var y=typeof v=="function"?v(l.options):v;_(),l.options=Object.assign({},i,l.options,y),l.scrollParents={reference:Tr(a)?Gs(a):a.contextElement?Gs(a.contextElement):[],popper:Gs(u)};var S=kP(qP([].concat(r,l.options.modifiers)));return l.orderedModifiers=S.filter(function(b){return b.enabled}),h(),p.update()},forceUpdate:function(){if(!d){var v=l.elements,y=v.reference,S=v.popper;if(Up(y,S)){l.rects={reference:FP(y,Bi(S),l.options.strategy==="fixed"),popper:sf(S)},l.reset=!1,l.placement=l.options.placement,l.orderedModifiers.forEach(function(H){return l.modifiersData[H.name]=Object.assign({},H.data)});for(var b=0;b<l.orderedModifiers.length;b++){if(l.reset===!0){l.reset=!1,b=-1;continue}var O=l.orderedModifiers[b],N=O.fn,x=O.options,z=x===void 0?{}:x,j=O.name;typeof N=="function"&&(l=N({state:l,options:z,name:j,instance:p})||l)}}}},update:DP(function(){return new Promise(function(g){p.forceUpdate(),g(l)})}),destroy:function(){_(),d=!0}};if(!Up(a,u))return p;p.setOptions(c).then(function(g){!d&&c.onFirstUpdate&&c.onFirstUpdate(g)});function h(){l.orderedModifiers.forEach(function(g){var v=g.name,y=g.options,S=y===void 0?{}:y,b=g.effect;if(typeof b=="function"){var O=b({state:l,name:v,instance:p,options:S}),N=function(){};f.push(O||N)}})}function _(){f.forEach(function(g){return g()}),f=[]}return p}}var jP=$P({defaultModifiers:[TP,IP,uP,lP,CP,EP,LP,sP]});function HP(){const e=m.useRef(!0),t=m.useRef(()=>e.current);return m.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),t.current}function BP(e){const t=HP();return[e[0],m.useCallback(n=>{if(t())return e[1](n)},[t,e[1]])]}var kp=function(t){return{position:t,top:"0",left:"0",opacity:"0",pointerEvents:"none"}},zP={name:"applyStyles",enabled:!1},WP={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(t){var n=t.state;return function(){var r=n.elements,s=r.reference,i=r.popper;if("removeAttribute"in s){var o=(s.getAttribute("aria-describedby")||"").split(",").filter(function(a){return a.trim()!==i.id});o.length?s.setAttribute("aria-describedby",o.join(",")):s.removeAttribute("aria-describedby")}}},fn:function(t){var n,r=t.state,s=r.elements,i=s.popper,o=s.reference,a=(n=i.getAttribute("role"))==null?void 0:n.toLowerCase();if(i.id&&a==="tooltip"&&"setAttribute"in o){var u=o.getAttribute("aria-describedby");if(u&&u.split(",").indexOf(i.id)!==-1)return;o.setAttribute("aria-describedby",u?u+","+i.id:i.id)}}},VP=[];function GP(e,t,n){var r=n===void 0?{}:n,s=r.enabled,i=s===void 0?!0:s,o=r.placement,a=o===void 0?"bottom":o,u=r.strategy,c=u===void 0?"absolute":u,l=r.modifiers,f=l===void 0?VP:l,d=th(r,["enabled","placement","strategy","modifiers"]),p=m.useRef(),h=m.useCallback(function(){var b;(b=p.current)==null||b.update()},[]),_=m.useCallback(function(){var b;(b=p.current)==null||b.forceUpdate()},[]),g=BP(m.useState({placement:a,update:h,forceUpdate:_,attributes:{},styles:{popper:kp(c),arrow:{}}})),v=g[0],y=g[1],S=m.useMemo(function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(O){var N=O.state,x={},z={};Object.keys(N.elements).forEach(function(j){x[j]=N.styles[j],z[j]=N.attributes[j]}),y({state:N,styles:x,attributes:z,update:h,forceUpdate:_,placement:N.placement})}}},[h,_,y]);return m.useEffect(function(){!p.current||!i||p.current.setOptions({placement:a,strategy:c,modifiers:[].concat(f,[S,zP])})},[c,a,S,i]),m.useEffect(function(){if(!(!i||e==null||t==null))return p.current=jP(e,t,wt({},d,{placement:a,strategy:c,modifiers:[].concat(f,[WP,S])})),function(){p.current!=null&&(p.current.destroy(),p.current=void 0,y(function(b){return wt({},b,{attributes:{},styles:{popper:kp(c)}})}))}},[i,e,t]),v}function KP(e,t){if(e.contains)return e.contains(t);if(e.compareDocumentPosition)return e===t||!!(e.compareDocumentPosition(t)&16)}const QP=!!(typeof window<"u"&&window.document&&window.document.createElement);var Cc=!1,Ac=!1;try{var Mu={get passive(){return Cc=!0},get once(){return Ac=Cc=!0}};QP&&(window.addEventListener("test",Mu,Mu),window.removeEventListener("test",Mu,!0))}catch{}function XP(e,t,n,r){if(r&&typeof r!="boolean"&&!Ac){var s=r.once,i=r.capture,o=n;!Ac&&s&&(o=n.__once||function a(u){this.removeEventListener(t,a,i),n.call(this,u)},n.__once=o),e.addEventListener(t,o,Cc?r:i)}e.addEventListener(t,n,r)}function YP(e,t,n,r){var s=r&&typeof r!="boolean"?r.capture:r;e.removeEventListener(t,n,s),n.__once&&e.removeEventListener(t,n.__once,s)}function uo(e,t,n,r){return XP(e,t,n,r),function(){YP(e,t,n,r)}}function ZP(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e},[e]),t}function Dp(e){const t=ZP(e);return m.useCallback(function(...n){return t.current&&t.current(...n)},[t])}var Pu,qp;function JP(){if(qp)return Pu;qp=1;var e=function(){};return Pu=e,Pu}var eF=JP();const tF=Jr(eF);function KS(e){return e&&e.ownerDocument||document}function nF(e){return e&&"setState"in e?jh.findDOMNode(e):e??null}const rF=function(e){return KS(nF(e))};var sF=27,$p=function(){};function iF(e){return e.button===0}function oF(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}var jp=function(t){return t&&("current"in t?t.current:t)};function aF(e,t,n){var r=n===void 0?{}:n,s=r.disabled,i=r.clickTrigger,o=i===void 0?"click":i,a=m.useRef(!1),u=t||$p,c=m.useCallback(function(d){var p,h=jp(e);tF(!!h,"RootClose captured a close event but does not have a ref to compare it to. useRootClose(), should be passed a ref that resolves to a DOM node"),a.current=!h||oF(d)||!iF(d)||!!KP(h,(p=d.composedPath==null?void 0:d.composedPath()[0])!=null?p:d.target)},[e]),l=Dp(function(d){a.current||u(d)}),f=Dp(function(d){d.keyCode===sF&&u(d)});m.useEffect(function(){if(!(s||e==null)){var d=window.event,p=rF(jp(e)),h=uo(p,o,c,!0),_=uo(p,o,function(y){if(y===d){d=void 0;return}l(y)}),g=uo(p,"keyup",function(y){if(y===d){d=void 0;return}f(y)}),v=[];return"ontouchstart"in p.documentElement&&(v=[].slice.call(p.body.children).map(function(y){return uo(y,"mousemove",$p)})),function(){h(),_(),g(),v.forEach(function(y){return y()})}}},[e,s,o,c,l,f])}var Fu=function(t){var n;return typeof document>"u"?null:t==null?KS().body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),(n=t)!=null&&n.nodeType&&t||null)};function Hp(e,t){var n=m.useState(function(){return Fu(e)}),r=n[0],s=n[1];if(!r){var i=Fu(e);i&&s(i)}return m.useEffect(function(){},[t,r]),m.useEffect(function(){var o=Fu(e);o!==r&&s(o)},[e,r]),r}function uF(e){var t={};return Array.isArray(e)?(e==null||e.forEach(function(n){t[n.name]=n}),t):e||t}function cF(e){return e===void 0&&(e={}),Array.isArray(e)?e:Object.keys(e).map(function(t){return e[t].name=t,e[t]})}function lF(e){var t,n,r,s,i=e.enabled,o=e.enableEvents,a=e.placement,u=e.flip,c=e.offset,l=e.fixed,f=e.containerPadding,d=e.arrowElement,p=e.popperConfig,h=p===void 0?{}:p,_=uF(h.modifiers);return wt({},h,{placement:a,enabled:i,strategy:l?"fixed":h.strategy,modifiers:cF(wt({},_,{eventListeners:{enabled:o},preventOverflow:wt({},_.preventOverflow,{options:f?wt({padding:f},(t=_.preventOverflow)==null?void 0:t.options):(n=_.preventOverflow)==null?void 0:n.options}),offset:{options:wt({offset:c},(r=_.offset)==null?void 0:r.options)},arrow:wt({},_.arrow,{enabled:!!d,options:wt({},(s=_.arrow)==null?void 0:s.options,{element:d})}),flip:wt({enabled:!!u},_.flip)}))})}var QS=Hu.forwardRef(function(e,t){var n=e.flip,r=e.offset,s=e.placement,i=e.containerPadding,o=i===void 0?5:i,a=e.popperConfig,u=a===void 0?{}:a,c=e.transition,l=Cp(),f=l[0],d=l[1],p=Cp(),h=p[0],_=p[1],g=qM(d,t),v=Hp(e.container),y=Hp(e.target),S=m.useState(!e.show),b=S[0],O=S[1],N=GP(y,f,lF({placement:s,enableEvents:!!e.show,containerPadding:o||5,flip:n,offset:r,arrowElement:h,popperConfig:u})),x=N.styles,z=N.attributes,j=th(N,["styles","attributes"]);e.show?b&&O(!1):!e.transition&&!b&&O(!0);var H=function(){O(!0),e.onExited&&e.onExited.apply(e,arguments)},K=e.show||c&&!b;if(aF(f,e.onHide,{disabled:!e.rootClose||e.rootCloseDisabled,clickTrigger:e.rootCloseEvent}),!K)return null;var V=e.children(wt({},j,{show:!!e.show,props:wt({},z.popper,{style:x.popper,ref:g}),arrowProps:wt({},z.arrow,{style:x.arrow,ref:_})}));if(c){var Y=e.onExit,B=e.onExiting,w=e.onEnter,A=e.onEntering,I=e.onEntered;V=Hu.createElement(c,{in:e.show,appear:!0,onExit:Y,onExiting:B,onExited:H,onEnter:w,onEntering:A,onEntered:I},V)}return v?jh.createPortal(V,v):null});QS.displayName="Overlay";QS.propTypes={show:he.bool,placement:he.oneOf(nf),target:he.any,container:he.any,flip:he.bool,children:he.func.isRequired,containerPadding:he.number,popperConfig:he.object,rootClose:he.bool,rootCloseEvent:he.oneOf(["click","mousedown"]),rootCloseDisabled:he.bool,onHide:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];if(t.rootClose){var i;return(i=he.func).isRequired.apply(i,[t].concat(r))}return he.func.apply(he,[t].concat(r))},transition:he.elementType,onEnter:he.func,onEntering:he.func,onEntered:he.func,onExit:he.func,onExiting:he.func,onExited:he.func};const v5=e=>m.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:24,viewBox:"0 -960 960 960",width:24,...e},m.createElement("path",{d:"M382-240 154-468l57-57 171 171 367-367 57 57-424 424Z"})),fF=e=>m.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:24,viewBox:"0 -960 960 960",width:24,...e},m.createElement("path",{d:"M200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h560q33 0 56.5 23.5T840-760v560q0 33-23.5 56.5T760-120H200Zm0-80h560v-560H200v560Z"})),qt=({id:e,icon:t,className:n,title:r,...s})=>{if(!t){if(!NE())throw new Error(`<Icon id="${e}" className="${n}"> is missing an "icon" prop.`);t=fF}const i=r?void 0:!0,o=i?void 0:"img",a=r||"";return T.jsx(t,{className:Ze("icon",`icon-${e}`,n),title:a,"aria-hidden":i,role:o,...s})},dF=e=>{const[t,n]=m.useState(e??!1),r=m.useCallback(()=>{e||n(!0)},[e]),s=m.useCallback(()=>{e||n(!1)},[e]);return{hovering:t,handleMouseEnter:r,handleMouseLeave:s}},y5=({account:e,animate:t=AE,size:n=20,inline:r=!1,withLink:s=!1,style:i,className:o,counter:a,counterBorderColor:u})=>{const{hovering:c,handleMouseEnter:l,handleMouseLeave:f}=dF(t),[d,p]=m.useState(!0),[h,_]=m.useState(!1),g={...i,width:`${n}px`,height:`${n}px`},v=c||t?e==null?void 0:e.avatar:e==null?void 0:e.avatar_static,y=m.useCallback(()=>{p(!1)},[p]),S=m.useCallback(()=>{_(!0)},[_]),b=T.jsxs("div",{className:Ze(o,"account__avatar",{"account__avatar--inline":r,"account__avatar--loading":d}),onMouseEnter:l,onMouseLeave:f,style:g,children:[v&&!h&&T.jsx("img",{src:v,alt:"",onLoad:y,onError:S}),a&&T.jsx("div",{className:"account__avatar__counter",style:{borderColor:u},children:a})]});return s?T.jsx(gE,{to:`/@${e==null?void 0:e.acct}`,title:`@${e==null?void 0:e.acct}`,"data-hover-card-account":e==null?void 0:e.id,children:b}):b},S5=he.shape({signedIn:he.bool.isRequired,accountId:he.string,disabledAccountId:he.string}).isRequired,E5=e=>{var t;return{signedIn:!!e.meta.me,accountId:e.meta.me,disabledAccountId:e.meta.disabled_account_id,permissions:((t=e.role)==null?void 0:t.permissions)??0}},XS=m.createContext({signedIn:!1,permissions:0,accountId:void 0,disabledAccountId:void 0}),w5=()=>m.useContext(XS);function T5(e){const t=`withIdentity(${e.displayName??e.name})`,n=r=>{const{wrappedComponentRef:s,...i}=r;return T.jsx(XS.Consumer,{children:o=>T.jsx(e,{...i,identity:o,ref:s})})};return n.displayName=t,n.WrappedComponent=e,eh(n,e)}const b5=({size:e,strokeWidth:t})=>{const n=`0 0 ${e} ${e}`,r=(e-t)/2;return T.jsx("svg",{width:e,height:e,viewBox:n,className:"circular-progress",role:"progressbar",children:T.jsx("circle",{fill:"none",cx:e/2,cy:e/2,r,strokeWidth:`${t}px`})})},pF=e=>m.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:24,viewBox:"0 -960 960 960",width:24,...e},m.createElement("path",{d:"M480-320 280-520l56-58 104 104v-326h80v326l104-104 56 58-200 200ZM240-160q-33 0-56.5-23.5T160-240v-120h80v120h480v-120h80v120q0 33-23.5 56.5T720-160H240Z"})),YS=e=>m.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:24,viewBox:"0 -960 960 960",width:24,...e},m.createElement("path",{d:"M480-80q-75 0-140.5-28.5t-114-77q-48.5-48.5-77-114T120-440q0-75 28.5-140.5t77-114q48.5-48.5 114-77T480-800h6l-62-62 56-58 160 160-160 160-56-58 62-62h-6q-117 0-198.5 81.5T200-440q0 117 81.5 198.5T480-160q117 0 198.5-81.5T760-440h80q0 75-28.5 140.5t-77 114q-48.5 48.5-114 77T480-80ZM380-320v-60h120v-40H380v-140h180v60H440v40h80q17 0 28.5 11.5T560-420v60q0 17-11.5 28.5T520-320H380Z"})),Us=e=>m.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:24,viewBox:"0 -960 960 960",width:24,...e},m.createElement("path",{d:"M560-200v-560h160v560H560Zm-320 0v-560h160v560H240Z"})),ks=e=>m.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:24,viewBox:"0 -960 960 960",width:24,...e},m.createElement("path",{d:"M320-200v-560l440 280-440 280Z"})),ZS=e=>m.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:24,viewBox:"0 -960 960 960",width:24,...e},m.createElement("path",{d:"M480-80q-75 0-140.5-28.5t-114-77q-48.5-48.5-77-114T120-440h80q0 117 81.5 198.5T480-160q117 0 198.5-81.5T760-440q0-117-81.5-198.5T480-720h-6l62 62-56 58-160-160 160-160 56 58-62 62h6q75 0 140.5 28.5t114 77q48.5 48.5 77 114T840-440q0 75-28.5 140.5t-77 114q-48.5 48.5-114 77T480-80ZM380-320v-60h120v-40H380v-140h180v60H440v40h80q17 0 28.5 11.5T560-420v60q0 17-11.5 28.5T520-320H380Z"})),Ic=e=>m.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:24,viewBox:"0 -960 960 960",width:24,...e},m.createElement("path",{d:"M792-56 671-177q-25 16-53 27.5T560-131v-82q14-5 27.5-10t25.5-12L480-368v208L280-360H120v-240h128L56-792l56-56 736 736-56 56Zm-8-232-58-58q17-31 25.5-65t8.5-70q0-94-55-168T560-749v-82q124 28 202 125.5T840-481q0 53-14.5 102T784-288ZM650-422l-90-90v-130q47 22 73.5 66t26.5 96q0 15-2.5 29.5T650-422ZM480-592 376-696l104-104v208Z"})),mo=e=>m.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:24,viewBox:"0 -960 960 960",width:24,...e},m.createElement("path",{d:"M560-131v-82q90-26 145-100t55-168q0-94-55-168T560-749v-82q124 28 202 125.5T840-481q0 127-78 224.5T560-131ZM120-360v-240h160l200-200v640L280-360H120Zm440 40v-322q47 22 73.5 66t26.5 96q0 51-26.5 94.5T560-320Z"}));var hF=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","#","$","%","*","+",",","-",".",":",";","=","?","@","[","]","^","_","{","|","}","~"],Ds=e=>{let t=0;for(let n=0;n<e.length;n++){let r=e[n],s=hF.indexOf(r);t=t*83+s}return t},Uu=e=>{let t=e/255;return t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)},ku=e=>{let t=Math.max(0,Math.min(1,e));return t<=.0031308?Math.trunc(t*12.92*255+.5):Math.trunc((1.055*Math.pow(t,.4166666666666667)-.055)*255+.5)},mF=e=>e<0?-1:1,Du=(e,t)=>mF(e)*Math.pow(Math.abs(e),t),Bp=class extends Error{constructor(e){super(e),this.name="ValidationError",this.message=e}},_F=e=>{if(!e||e.length<6)throw new Bp("The blurhash string must be at least 6 characters");let t=Ds(e[0]),n=Math.floor(t/9)+1,r=t%9+1;if(e.length!==4+2*r*n)throw new Bp(`blurhash length mismatch: length is ${e.length} but it should be ${4+2*r*n}`)},gF=e=>{let t=e>>16,n=e>>8&255,r=e&255;return[Uu(t),Uu(n),Uu(r)]},vF=(e,t)=>{let n=Math.floor(e/361),r=Math.floor(e/19)%19,s=e%19;return[Du((n-9)/9,2)*t,Du((r-9)/9,2)*t,Du((s-9)/9,2)*t]},yF=(e,t,n,r)=>{_F(e),r=r|1;let s=Ds(e[0]),i=Math.floor(s/9)+1,o=s%9+1,a=(Ds(e[1])+1)/166,u=new Array(o*i);for(let f=0;f<u.length;f++)if(f===0){let d=Ds(e.substring(2,6));u[f]=gF(d)}else{let d=Ds(e.substring(4+f*2,6+f*2));u[f]=vF(d,a*r)}let c=t*4,l=new Uint8ClampedArray(c*n);for(let f=0;f<n;f++)for(let d=0;d<t;d++){let p=0,h=0,_=0;for(let S=0;S<i;S++)for(let b=0;b<o;b++){let O=Math.cos(Math.PI*d*b/t)*Math.cos(Math.PI*f*S/n),N=u[b+S*o];p+=N[0]*O,h+=N[1]*O,_+=N[2]*O}let g=ku(p),v=ku(h),y=ku(_);l[4*d+0+f*c]=g,l[4*d+1+f*c]=v,l[4*d+2+f*c]=y,l[4*d+3+f*c]=255}return l},SF=yF;const EF=({hash:e,width:t=32,height:n=t,dummy:r=!1,...s})=>{const i=m.useRef(null);return m.useEffect(()=>{const o=i.current;if(o.width=o.width,!(r||!e))try{const a=SF(e,t,n),u=o.getContext("2d"),c=new ImageData(a,t,n);u==null||u.putImageData(c,0,0)}catch(a){console.error("Blurhash decoding failure",{err:a,hash:e})}},[r,e,t,n]),T.jsx("canvas",{...s,ref:i,width:t,height:n})},JS=m.memo(EF),eE=({hidden:e=!1,sensitive:t,uncached:n=!1,matchedFilters:r,onClick:s})=>{let i,o;return n?(i=T.jsx(pn,{id:"status.uncached_media_warning",defaultMessage:"Preview not available"}),o=T.jsx(pn,{id:"status.media.open",defaultMessage:"Click to open"})):r?(i=T.jsx(pn,{id:"filter_warning.matches_filter",defaultMessage:"Matches filter “<span>{title}</span>”",values:{title:r.join(", "),span:a=>T.jsx("span",{className:"filter-name",children:a})}}),o=T.jsx(pn,{id:"status.media.show",defaultMessage:"Click to show"})):t?(i=T.jsx(pn,{id:"status.sensitive_warning",defaultMessage:"Sensitive content"}),o=T.jsx(pn,{id:"status.media.show",defaultMessage:"Click to show"})):(i=T.jsx(pn,{id:"status.media_hidden",defaultMessage:"Media hidden"}),o=T.jsx(pn,{id:"status.media.show",defaultMessage:"Click to show"})),T.jsx("div",{className:Ze("spoiler-button",{"spoiler-button--hidden":e,"spoiler-button--click-thru":n}),children:T.jsx("button",{type:"button",className:"spoiler-button__overlay",onClick:s,disabled:n,children:T.jsxs("span",{className:"spoiler-button__overlay__label",children:[i,T.jsx("span",{className:"spoiler-button__overlay__action",children:o})]})})})},qu=e=>m.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:24,viewBox:"0 -960 960 960",width:24,...e},m.createElement("path",{d:"M120-120v-200h80v120h120v80H120Zm520 0v-80h120v-120h80v200H640ZM120-640v-200h200v80H200v120h-80Zm640 0v-120H640v-80h200v200h-80Z"})),Ns=e=>m.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:24,viewBox:"0 -960 960 960",width:24,...e},m.createElement("path",{d:"M240-120v-120H120v-80h200v200h-80Zm400 0v-200h200v80H720v120h-80ZM120-640v-80h120v-120h80v200H120Zm520 0v-200h80v120h120v80H640Z"})),wF=e=>m.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:24,viewBox:"0 -960 960 960",width:24,...e},m.createElement("path",{d:"M80-160v-640h800v640H80Zm80-80h640v-480H160v480Zm0 0v-480 480Z"})),TF=e=>m.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:24,viewBox:"0 -960 960 960",width:24,...e},m.createElement("path",{d:"M200-360v-240h160l200-200v640L360-360H200Zm440 40v-322q45 21 72.5 65t27.5 97q0 53-27.5 96T640-320Z"})),Pr=()=>{const e=document;return!!(e.fullscreenElement??e.webkitFullscreenElement??e.mozFullScreenElement)},zp=()=>{const e=document;e.exitFullscreen?e.exitFullscreen():e.webkitExitFullscreen?e.webkitExitFullscreen():e.mozCancelFullScreen&&e.mozCancelFullScreen()},bF=e=>{e&&(e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.mozRequestFullScreen&&e.mozRequestFullScreen())},OF=e=>{const t=document;"onfullscreenchange"in t?t.addEventListener("fullscreenchange",e):"onwebkitfullscreenchange"in t?t.addEventListener("webkitfullscreenchange",e):"onmozfullscreenchange"in t&&t.addEventListener("mozfullscreenchange",e)},CF=e=>{const t=document;"onfullscreenchange"in t?t.removeEventListener("fullscreenchange",e):"onwebkitfullscreenchange"in t?t.removeEventListener("webkitfullscreenchange",e):"onmozfullscreenchange"in t&&t.removeEventListener("mozfullscreenchange",e)},AF=({events:e,onDismiss:t})=>{const n=Lc(),r=M0(e,{from:{opacity:0},keys:s=>s.key,enter:[{opacity:1}],leave:[{opacity:0}],onRest:(s,i,o)=>{t(o)}});return T.jsx(T.Fragment,{children:r((s,i)=>T.jsxs(Ye.div,{className:"video-player__hotkey-indicator",style:s,children:[T.jsx(qt,{id:"",icon:i.icon}),T.jsx("span",{className:"video-player__hotkey-indicator__label",children:n.formatMessage(i.label)})]}))})},fe=Do({play:{id:"video.play",defaultMessage:"Play"},pause:{id:"video.pause",defaultMessage:"Pause"},mute:{id:"video.mute",defaultMessage:"Mute"},unmute:{id:"video.unmute",defaultMessage:"Unmute"},hide:{id:"video.hide",defaultMessage:"Hide video"},expand:{id:"video.expand",defaultMessage:"Expand video"},close:{id:"video.close",defaultMessage:"Close video"},fullscreen:{id:"video.fullscreen",defaultMessage:"Full screen"},exit_fullscreen:{id:"video.exit_fullscreen",defaultMessage:"Exit full screen"},volumeUp:{id:"video.volume_up",defaultMessage:"Volume up"},volumeDown:{id:"video.volume_down",defaultMessage:"Volume down"},skipForward:{id:"video.skip_forward",defaultMessage:"Skip forward"},skipBackward:{id:"video.skip_backward",defaultMessage:"Skip backward"}}),IF=250,Wp=4e3,gi=e=>{const t=Math.floor(e/3600),n=Math.floor((e-t*3600)/60),r=e-t*3600-n*60,s=`${t<10?"0":""}${t}`,i=`${n<10?"0":""}${n}`,o=`${r<10?"0":""}${r}`;return(s==="00"?"":`${s}:`)+`${i}:${o}`},tE=e=>{const t=e.getBoundingClientRect(),n=document.documentElement,r=document.body,s=n.clientLeft||r.clientLeft||0,i=window.scrollX||r.scrollLeft,o=t.left+i-s,a=n.clientTop||r.clientTop||0,u=window.scrollY||r.scrollTop,c=t.top+u-a;return{left:Math.round(o),top:Math.round(c)}},vi=(e,t)=>{if(!e)return{y:0,x:0};const n=tE(e),r=e.offsetWidth,s=e.offsetHeight,i=n.top,o=n.left,{pageY:a,pageX:u}=t;return{y:Math.max(0,Math.min(1,(a-i)/s)),x:Math.max(0,Math.min(1,(u-o)/r))}},RF=e=>{const n=new URL(e).pathname,r=n.lastIndexOf("/");return n.slice(r+1)},NF=e=>e.includes("/")?e.split("/").map(t=>parseInt(t)).reduce((t,n)=>t/n):parseInt(e),LF=(e,t)=>{Zn.set("volume",e),Zn.set("muted",t)},xF=e=>{const t=Zn.get("volume")??.5,n=Zn.get("muted")??!1;e.volume=t,e.muted=n};let nE=0;const dn=(e,t)=>{e(()=>[{key:nE++,...t}])},Vp=({preview:e,frameRate:t="25",aspectRatio:n,src:r,alt:s="",lang:i,sensitive:o,onOpenVideo:a,onCloseVideo:u,detailed:c,editable:l,alwaysVisible:f,visible:d,onToggleVisibility:p,deployPictureInPicture:h,blurhash:_,startPlaying:g,startTime:v,startVolume:y,startMuted:S,matchedFilters:b})=>{const O=Lc(),[N,x]=m.useState(0),[z,j]=m.useState(0),[H,K]=m.useState(.5),[V,Y]=m.useState(!0),[B,w]=m.useState(!1),[A,I]=m.useState(!1),[U,M]=m.useState(!1),[Q,L]=m.useState(!1),[se,we]=m.useState(!1),[ue,W]=m.useState([]),ge=m.useRef(null),C=m.useRef(null),ye=m.useRef(null),ve=m.useRef(null),xe=m.useRef(),Ke=m.useRef(),[Se,oe]=Ur(()=>({progress:"0%",buffer:"0%",volume:"0%"})),un=m.useCallback(k=>{C.current&&!C.current.paused&&k===null&&(h==null||h("video",{src:r,currentTime:C.current.currentTime,muted:C.current.muted,volume:C.current.volume})),C.current=k,C.current&&(xF(C.current),K(C.current.volume),L(C.current.muted),oe.start({volume:`${C.current.volume*100}%`}))},[oe,K,L,r,h]),Be=m.useCallback(()=>{C.current&&(C.current.paused?C.current.play():C.current.pause())},[]),rt=m.useCallback(()=>{Pr()?zp():bF(ge.current)},[]),cn=m.useCallback(()=>{if(!C.current)return;C.current.muted||C.current.volume===0?(C.current.muted=!1,C.current.volume===0&&(C.current.volume=.05)):C.current.muted=!0},[]),ir=m.useCallback(k=>{k.stopPropagation()},[]),or=m.useCallback(()=>{xe.current?(clearTimeout(xe.current),xe.current=null,dn(W,{icon:Pr()?Ns:qu,label:Pr()?fe.exit_fullscreen:fe.fullscreen}),rt()):xe.current=setTimeout(()=>{var k,te;dn(W,{icon:(k=C.current)!=null&&k.paused?ks:Us,label:(te=C.current)!=null&&te.paused?fe.play:fe.pause}),Be(),xe.current=null},IF)},[W,Be,rt]),dt=m.useCallback(()=>{Y(!1)},[Y]),Lt=m.useCallback(()=>{Y(!0)},[Y]);m.useEffect(()=>{let k;const te=()=>{k=requestAnimationFrame(()=>{if(C.current){const le=C.current.currentTime/C.current.duration;oe.start({progress:isNaN(le)?"0%":`${le*100}%`,config:mr.stiff})}te()})};return te(),()=>{cancelAnimationFrame(k)}},[oe]),m.useEffect(()=>{C.current&&(C.current.volume=H,C.current.muted=Q)},[H,Q]),m.useEffect(()=>{we(typeof d<"u"?d:go==="show_all"||go!=="hide_all"&&!o)},[d,o]),m.useEffect(()=>{!se&&C.current&&C.current.pause()},[se]),m.useEffect(()=>{const k=()=>{I(Pr())},te=Pc(()=>{if(!C.current)return;const{top:le,height:Fe}=C.current.getBoundingClientRect(),Ue=le<=(window.innerHeight||document.documentElement.clientHeight)&&le+Fe>=0;!C.current.paused&&!Ue&&(C.current.pause(),h==null||h("video",{src:r,currentTime:C.current.currentTime,muted:C.current.muted,volume:C.current.volume}))},150,{trailing:!0});return OF(k),window.addEventListener("scroll",te),()=>{window.removeEventListener("scroll",te),CF(k)}},[Y,I,r,h]);const ln=m.useCallback(()=>{C.current&&x(C.current.currentTime)},[x]),Dn=m.useCallback(k=>{const te=()=>{document.removeEventListener("mousemove",le,!0),document.removeEventListener("mouseup",te,!0)},le=Fe=>{if(!ve.current||!C.current)return;const{x:Ue}=vi(ve.current,Fe);isNaN(Ue)||(C.current.volume=Ue,C.current.muted=!(Ue>0),oe.start({volume:`${Ue*100}%`,immediate:!0}))};document.addEventListener("mousemove",le,!0),document.addEventListener("mouseup",te,!0),le(k.nativeEvent),k.preventDefault(),k.stopPropagation()},[oe]),En=m.useCallback(k=>{var Fe;const te=()=>{var Ue;document.removeEventListener("mousemove",le,!0),document.removeEventListener("mouseup",te,!0),w(!1),(Ue=C.current)==null||Ue.play()},le=Ue=>{if(!ye.current||!C.current)return;const{x:Xt}=vi(ye.current,Ue),Nr=C.current.duration*Xt;isNaN(Nr)||(C.current.currentTime=Nr,oe.start({progress:`${Xt*100}%`,immediate:!0}))};document.addEventListener("mousemove",le,!0),document.addEventListener("mouseup",te,!0),w(!0),(Fe=C.current)==null||Fe.pause(),le(k.nativeEvent),k.preventDefault(),k.stopPropagation()},[w,oe]),xt=k=>{if(!C.current)return;const te=C.current.currentTime+k;isNaN(te)||(C.current.currentTime=te)},wn=k=>{if(!C.current)return;const te=C.current.volume+k;isNaN(te)||(C.current.volume=te,C.current.muted=!(te>0))},Tn=m.useCallback(k=>{var te,le;k.key===" "&&(k.preventDefault(),k.stopPropagation(),dn(W,{icon:(te=C.current)!=null&&te.paused?ks:Us,label:(le=C.current)!=null&&le.paused?fe.play:fe.pause}),Be())},[W,Be]),bn=m.useCallback(k=>{var le,Fe,Ue,Xt;const te=1/NF(t);switch(k.key){case"k":case" ":k.preventDefault(),k.stopPropagation(),dn(W,{icon:(le=C.current)!=null&&le.paused?ks:Us,label:(Fe=C.current)!=null&&Fe.paused?fe.play:fe.pause}),Be();break;case"m":k.preventDefault(),k.stopPropagation(),dn(W,{icon:(Ue=C.current)!=null&&Ue.muted?mo:Ic,label:(Xt=C.current)!=null&&Xt.muted?fe.unmute:fe.mute}),cn();break;case"f":k.preventDefault(),k.stopPropagation(),dn(W,{icon:Pr()?Ns:qu,label:Pr()?fe.exit_fullscreen:fe.fullscreen}),rt();break;case"j":case"ArrowLeft":k.preventDefault(),k.stopPropagation(),dn(W,{icon:ZS,label:fe.skipBackward}),xt(-5);break;case"l":case"ArrowRight":k.preventDefault(),k.stopPropagation(),dn(W,{icon:YS,label:fe.skipForward}),xt(5);break;case",":k.preventDefault(),k.stopPropagation(),xt(-te);break;case".":k.preventDefault(),k.stopPropagation(),xt(te);break;case"ArrowUp":k.preventDefault(),k.stopPropagation(),dn(W,{icon:mo,label:fe.volumeUp}),wn(.15);break;case"ArrowDown":k.preventDefault(),k.stopPropagation(),dn(W,{icon:TF,label:fe.volumeDown}),wn(-.15);break}A&&(k.preventDefault(),k.stopPropagation(),k.key==="Escape"&&(W(Nr=>[...Nr,{key:nE++,icon:Ns,label:fe.exit_fullscreen}]),zp()))},[W,Be,rt,cn,A,t]),ar=m.useCallback(()=>{M(!0),Ke.current&&clearTimeout(Ke.current),Ke.current=setTimeout(()=>{M(!1)},Wp)},[M]),ur=m.useCallback(()=>{M(!0),Ke.current&&clearTimeout(Ke.current),Ke.current=setTimeout(()=>{M(!1)},Wp)},[M]),fn=m.useCallback(()=>{M(!1)},[M]),Rr=m.useCallback(()=>{p?p():we(k=>!k)},[we,p]),pt=m.useCallback(()=>{C.current&&(j(C.current.duration),typeof v<"u"&&(C.current.currentTime=v),typeof y<"u"&&(C.current.volume=y),typeof S<"u"&&(C.current.muted=S),g&&C.current.play())},[j,v,y,S,g]),hs=m.useCallback(()=>{if(!C.current)return;const k=C.current.buffered.length-1;k>-1&&oe.start({buffer:`${Math.ceil(C.current.buffered.end(k)/C.current.duration)*100}%`})},[oe]),ms=m.useCallback(()=>{C.current&&(K(C.current.volume),L(C.current.muted),oe.start({volume:`${C.current.muted?0:C.current.volume*100}%`}),LF(C.current.volume,C.current.muted))},[oe,K,L]),_s=m.useCallback(()=>{if(!C.current)return;const k=C.current.paused;C.current.pause(),a==null||a({startTime:C.current.currentTime,autoPlay:!k,defaultVolume:C.current.volume})},[a]),gs=m.useCallback(()=>{C.current&&(C.current.pause(),u==null||u())},[u]),vs=m.useCallback(({key:k})=>{W(te=>te.filter(le=>le.key!==k))},[W]),ys=Math.min(N/z*100,100),qn=Q||H===0;let J;return v||A||B?J="auto":c?J="metadata":J="none",T.jsx("div",{children:T.jsxs("div",{role:"menuitem",className:Ze("video-player",{inactive:!se,detailed:c,fullscreen:A,editable:l}),style:{aspectRatio:n},ref:ge,onMouseEnter:ar,onMouseMove:ur,onMouseLeave:fn,onClick:ir,onKeyDownCapture:bn,tabIndex:0,children:[_&&T.jsx(JS,{hash:_,className:Ze("media-gallery__preview",{"media-gallery__preview--hidden":se}),dummy:!ih}),(se||l)&&T.jsx("video",{ref:un,src:r,poster:e,preload:J,role:"button",tabIndex:0,"aria-label":s,title:s,lang:i,onClick:or,onKeyDownCapture:Tn,onPlay:dt,onPause:Lt,onLoadedData:pt,onProgress:hs,onTimeUpdate:ln,onVolumeChange:ms,style:{width:"100%"}}),T.jsx(AF,{events:ue,onDismiss:vs}),T.jsx(eE,{hidden:se||l,sensitive:o??!1,onClick:Rr,matchedFilters:b}),!u&&!l&&!A&&!f&&se&&T.jsx("div",{className:Ze("media-gallery__actions",{active:V||U}),children:T.jsx("button",{className:"media-gallery__actions__pill",onClick:Rr,children:T.jsx(pn,{id:"media_gallery.hide",defaultMessage:"Hide"})})}),T.jsxs("div",{className:Ze("video-player__controls",{active:V||U}),children:[T.jsxs("div",{className:"video-player__seek",role:"slider","aria-valuemin":0,"aria-valuenow":ys,"aria-valuemax":100,onMouseDown:En,onKeyDown:Tn,tabIndex:0,ref:ye,children:[T.jsx(Ye.div,{className:"video-player__seek__buffer",style:{width:Se.buffer}}),T.jsx(Ye.div,{className:"video-player__seek__progress",style:{width:Se.progress}}),T.jsx(Ye.span,{className:Ze("video-player__seek__handle",{active:B}),style:{left:Se.progress}})]}),T.jsxs("div",{className:"video-player__buttons-bar",children:[T.jsxs("div",{className:"video-player__buttons left",children:[T.jsx("button",{type:"button",title:O.formatMessage(V?fe.play:fe.pause),"aria-label":O.formatMessage(V?fe.play:fe.pause),className:"player-button",onClick:Be,children:T.jsx(qt,{id:V?"play":"pause",icon:V?ks:Us})}),T.jsx("button",{type:"button",title:O.formatMessage(qn?fe.unmute:fe.mute),"aria-label":O.formatMessage(Q?fe.unmute:fe.mute),className:"player-button",onClick:cn,children:T.jsx(qt,{id:qn?"volume-off":"volume-up",icon:qn?Ic:mo})}),T.jsxs("div",{className:Ze("video-player__volume",{active:U}),role:"slider","aria-valuemin":0,"aria-valuenow":qn?0:H*100,"aria-valuemax":100,onMouseDown:Dn,ref:ve,tabIndex:0,children:[T.jsx(Ye.div,{className:"video-player__volume__current",style:{width:Se.volume}}),T.jsx(Ye.span,{className:Ze("video-player__volume__handle"),style:{left:Se.volume}})]}),(c||A)&&T.jsxs("span",{className:"video-player__time",children:[T.jsx("span",{className:"video-player__time-current",children:gi(Math.floor(N))}),T.jsx("span",{className:"video-player__time-sep",children:"/"}),T.jsx("span",{className:"video-player__time-total",children:gi(Math.floor(z))})]})]}),T.jsxs("div",{className:"video-player__buttons right",children:[!A&&a&&T.jsx("button",{type:"button",title:O.formatMessage(fe.expand),"aria-label":O.formatMessage(fe.expand),className:"player-button",onClick:_s,children:T.jsx(qt,{id:"expand",icon:wF})}),u&&T.jsx("button",{type:"button",title:O.formatMessage(fe.close),"aria-label":O.formatMessage(fe.close),className:"player-button",onClick:gs,children:T.jsx(qt,{id:"compress",icon:Ns})}),T.jsx("button",{type:"button",title:O.formatMessage(A?fe.exit_fullscreen:fe.fullscreen),"aria-label":O.formatMessage(A?fe.exit_fullscreen:fe.fullscreen),className:"player-button",onClick:rt,children:T.jsx(qt,{id:A?"compress":"arrows-alt",icon:A?Ns:qu})})]})]})]})]})})},O5=Object.freeze(Object.defineProperty({__proto__:null,Video:Vp,default:Vp,fileNameFromURL:RF,findElementPosition:tE,formatTime:gi,getPointerPosition:vi},Symbol.toStringTag,{value:"Module"})),MF=({audioElementRef:e})=>{const t=m.useRef(),n=m.useRef(),r=m.useRef();m.useEffect(()=>{if(!e.current)return;const o=t.current??new AudioContext,a=n.current??o.createMediaElementSource(e.current),u=o.createGain();return u.connect(o.destination),a.connect(u),t.current=o,r.current=u,n.current=a,()=>{o.state!=="closed"&&o.close()}},[e]);const s=m.useCallback(()=>{var o,a;(o=e.current)==null||o.play(),(a=t.current)==null||a.resume()},[e]),i=m.useCallback(()=>{var o,a;(o=e.current)==null||o.pause(),(a=t.current)==null||a.suspend()},[e]);return{audioContextRef:t,sourceRef:n,gainNodeRef:r,playAudio:s,pauseAudio:i}},PF=e=>new Array(...e).map(t=>t===-1/0?0:Math.sqrt(1-Math.max(-100,Math.min(-10,t))*-1/100)),FF=({audioContextRef:e,sourceRef:t,numBands:n})=>{const r=m.useRef(),[s,i]=m.useState(new Array(n).fill(0));return m.useEffect(()=>{e.current&&(r.current=e.current.createAnalyser(),r.current.smoothingTimeConstant=.6,r.current.fftSize=2048)},[e]),m.useEffect(()=>{r.current&&t.current&&t.current.connect(r.current);const o=t.current;return()=>{o&&r.current&&o.disconnect(r.current)}},[e,t]),m.useEffect(()=>{const o=r.current,a=e.current;if(!o||!a)return;const u=o.frequencyBinCount,c=new Float32Array(u),f=setInterval(()=>{o.getFloatFrequencyData(c);const d=PF(c.slice(100,600)),p=[],h=Math.ceil(d.length/n);for(let _=0;_<n;_++){const g=d.slice(_*h,(_+1)*h).reduce((v,y)=>v+y,0);p.push(g/h)}i(p)},15);return()=>{clearInterval(f)}},[n,e]),s},mt=Do({play:{id:"video.play",defaultMessage:"Play"},pause:{id:"video.pause",defaultMessage:"Pause"},mute:{id:"video.mute",defaultMessage:"Mute"},unmute:{id:"video.unmute",defaultMessage:"Unmute"},download:{id:"video.download",defaultMessage:"Download file"},hide:{id:"audio.hide",defaultMessage:"Hide audio"},skipForward:{id:"video.skip_forward",defaultMessage:"Skip forward"},skipBackward:{id:"video.skip_backward",defaultMessage:"Skip backward"}}),UF=(e,t)=>{Zn.set("volume",e),Zn.set("muted",t)},kF=e=>{const t=Zn.get("volume")??.5,n=Zn.get("muted")??!1;e.volume=t,e.muted=n},$u=4e3,Gp=({src:e,alt:t,lang:n,poster:r,duration:s,sensitive:i,editable:o,blurhash:a,visible:u,onToggleVisibility:c,backgroundColor:l="#000000",foregroundColor:f="#ffffff",accentColor:d="#ffffff",startTime:p,startPlaying:h,startVolume:_,startMuted:g,deployPictureInPicture:v,matchedFilters:y})=>{const S=Lc(),[b,O]=m.useState(0),[N,x]=m.useState(s??0),[z,j]=m.useState(!0),[H,K]=m.useState(!1),[V,Y]=m.useState(.5),[B,w]=m.useState(!1),[A,I]=m.useState(!1),[U,M]=m.useState(!1),Q=m.useRef(null),L=m.useRef(null),se=m.useRef(null),we=m.useRef(null),ue=m.useRef(),W=m.useId(),{audioContextRef:ge,sourceRef:C,gainNodeRef:ye,playAudio:ve,pauseAudio:xe}=MF({audioElementRef:L}),Ke=FF({audioContextRef:ge,sourceRef:C,numBands:3}),[Se,oe]=Ur(()=>({progress:"0%",buffer:"0%",volume:"0%"})),un=m.useCallback(J=>{L.current&&!L.current.paused&&J===null&&(v==null||v("audio",{src:e,poster:r,backgroundColor:l,foregroundColor:f,accentColor:d,currentTime:L.current.currentTime,muted:L.current.muted,volume:L.current.volume})),L.current=J,L.current&&(kF(L.current),Y(L.current.volume),K(L.current.muted),ye.current&&(ye.current.gain.value=L.current.volume),oe.start({volume:`${L.current.volume*100}%`}))},[v,e,r,l,f,d,ye,oe]);m.useEffect(()=>{L.current&&(L.current.volume=V,L.current.muted=H,ye.current&&(ye.current.gain.value=H?0:V))},[V,H,ye]),m.useEffect(()=>{M(typeof u<"u"?u:go==="show_all"||go!=="hide_all"&&!i)},[u,i]),m.useEffect(()=>{U||xe()},[xe,U]),m.useEffect(()=>{let J;const k=()=>{J=requestAnimationFrame(()=>{L.current&&L.current.duration>0&&oe.start({progress:`${L.current.currentTime/L.current.duration*100}%`,config:mr.stiff}),k()})};return k(),()=>{cancelAnimationFrame(J)}},[oe]);const Be=m.useCallback(()=>{L.current&&(L.current.paused?ve():xe())},[ve,xe]),rt=m.useCallback(()=>{j(!1)},[]),cn=m.useCallback(()=>{j(!0)},[]),ir=m.useCallback(()=>{if(!L.current)return;const J=L.current.buffered.length-1;J>-1&&oe.start({buffer:`${Math.ceil(L.current.buffered.end(J)/L.current.duration)*100}%`})},[oe]),or=m.useCallback(()=>{L.current&&(Y(L.current.volume),K(L.current.muted),oe.start({volume:`${L.current.muted?0:L.current.volume*100}%`}),UF(L.current.volume,L.current.muted))},[oe,Y,K]),dt=m.useCallback(()=>{L.current&&O(L.current.currentTime)},[O]),Lt=m.useCallback(()=>{if(!L.current)return;L.current.muted||L.current.volume===0?(L.current.muted=!1,L.current.volume===0&&(L.current.volume=.05)):L.current.muted=!0},[]),ln=m.useCallback(()=>{c?c():M(J=>!J)},[c,M]),Dn=m.useCallback(J=>{const k=()=>{document.removeEventListener("mousemove",te,!0),document.removeEventListener("mouseup",k,!0)},te=le=>{if(!we.current||!L.current)return;const{x:Fe}=vi(we.current,le);isNaN(Fe)||(L.current.volume=Fe,L.current.muted=!(Fe>0),oe.start({volume:`${Fe*100}%`,immediate:!0}))};document.addEventListener("mousemove",te,!0),document.addEventListener("mouseup",k,!0),te(J.nativeEvent),J.preventDefault(),J.stopPropagation()},[oe]),En=m.useCallback(J=>{var le;const k=()=>{document.removeEventListener("mousemove",te,!0),document.removeEventListener("mouseup",k,!0),I(!1),ve()},te=Fe=>{if(!se.current||!L.current)return;const{x:Ue}=vi(se.current,Fe),Xt=L.current.duration*Ue;isNaN(Xt)||(L.current.currentTime=Xt,oe.start({progress:`${Ue*100}%`,immediate:!0}))};document.addEventListener("mousemove",te,!0),document.addEventListener("mouseup",k,!0),I(!0),(le=L.current)==null||le.pause(),te(J.nativeEvent),J.preventDefault(),J.stopPropagation()},[ve,oe]),xt=m.useCallback(()=>{w(!0),ue.current&&clearTimeout(ue.current),ue.current=setTimeout(()=>{w(!1)},$u)},[w]),wn=m.useCallback(()=>{w(!0),ue.current&&clearTimeout(ue.current),ue.current=setTimeout(()=>{w(!1)},$u)},[w]),Tn=m.useCallback(()=>{w(!1),ue.current&&clearTimeout(ue.current)},[w]),bn=m.useCallback(()=>{w(!0),ue.current&&clearTimeout(ue.current),ue.current=setTimeout(()=>{w(!1)},$u)},[w]),ar=m.useCallback(()=>{L.current&&(x(L.current.duration),typeof p<"u"&&(L.current.currentTime=p),typeof _<"u"&&(L.current.volume=_),typeof g<"u"&&(L.current.muted=g))},[x,p,_,g]),ur=m.useCallback(()=>{h&&ve()},[h,ve]),fn=J=>{if(!L.current)return;const k=L.current.currentTime+J;isNaN(k)||(L.current.currentTime=k)},Rr=m.useCallback(J=>{J.key===" "&&(J.preventDefault(),J.stopPropagation(),Be())},[Be]),pt=m.useCallback(()=>{fn(-5)},[]),hs=m.useCallback(()=>{fn(5)},[]),ms=m.useCallback(J=>{const k=te=>{if(!L.current)return;const le=Math.max(0,L.current.volume+te);isNaN(le)||(L.current.volume=le,L.current.muted=!(le>0))};switch(J.key){case"k":case" ":J.preventDefault(),J.stopPropagation(),Be();break;case"m":J.preventDefault(),J.stopPropagation(),Lt();break;case"j":case"ArrowLeft":J.preventDefault(),J.stopPropagation(),fn(-5);break;case"l":case"ArrowRight":J.preventDefault(),J.stopPropagation(),fn(5);break;case"ArrowUp":J.preventDefault(),J.stopPropagation(),k(.15);break;case"ArrowDown":J.preventDefault(),J.stopPropagation(),k(-.15);break}},[Be,Lt]),_s=Ur({to:{r:50+(Ke[0]??0)*10},config:mr.wobbly}),gs=Ur({to:{r:50+(Ke[1]??0)*10},config:mr.wobbly}),vs=Ur({to:{r:50+(Ke[2]??0)*10},config:mr.wobbly}),ys=Math.min(b/N*100,100),qn=H||V===0;return T.jsxs("div",{className:Ze("audio-player",{inactive:!U}),ref:Q,style:{"--player-background-color":l,"--player-foreground-color":f,"--player-accent-color":d},onMouseEnter:xt,onMouseMove:wn,onMouseLeave:Tn,onTouchEnd:bn,role:"button",tabIndex:0,onKeyDownCapture:ms,"aria-label":t,lang:n,children:[a&&T.jsx(JS,{hash:a,className:Ze("media-gallery__preview",{"media-gallery__preview--hidden":U}),dummy:!ih}),T.jsx("audio",{src:e,ref:un,preload:h?"auto":"none",onPlay:rt,onPause:cn,onProgress:ir,onLoadedData:ar,onCanPlayThrough:ur,onTimeUpdate:dt,onVolumeChange:or,crossOrigin:"anonymous"}),T.jsxs("div",{className:"video-player__seek","aria-valuemin":0,"aria-valuenow":ys,"aria-valuemax":100,onMouseDown:En,onKeyDownCapture:Rr,ref:se,role:"slider",tabIndex:0,children:[T.jsx(Ye.div,{className:"video-player__seek__buffer",style:{width:Se.buffer}}),T.jsx(Ye.div,{className:"video-player__seek__progress",style:{width:Se.progress}}),T.jsx(Ye.span,{className:Ze("video-player__seek__handle",{active:A}),style:{left:Se.progress}})]}),T.jsxs("div",{className:"audio-player__controls",children:[T.jsx("div",{className:"audio-player__controls__play",children:T.jsx("button",{type:"button",title:S.formatMessage(mt.skipBackward),"aria-label":S.formatMessage(mt.skipBackward),className:"player-button",onClick:pt,children:T.jsx(qt,{id:"",icon:ZS})})}),T.jsxs("div",{className:"audio-player__controls__play",children:[T.jsxs("svg",{className:"audio-player__visualizer",viewBox:"0 0 124 124",xmlns:"http://www.w3.org/2000/svg",children:[T.jsx(Ye.circle,{opacity:.5,cx:57,cy:62.5,r:_s.r,fill:"var(--player-accent-color)"}),T.jsx(Ye.circle,{opacity:.5,cx:65,cy:57.5,r:gs.r,fill:"var(--player-accent-color)"}),T.jsx(Ye.circle,{opacity:.5,cx:63,cy:66.5,r:vs.r,fill:"var(--player-accent-color)"}),T.jsxs("g",{clipPath:`url(#${W}-clip)`,children:[T.jsx("rect",{x:14,y:14,width:96,height:96,fill:`url(#${W}-pattern)`}),T.jsx("rect",{x:14,y:14,width:96,height:96,fill:"var(--player-background-color",opacity:.45})]}),T.jsxs("defs",{children:[T.jsx("pattern",{id:`${W}-pattern`,patternContentUnits:"objectBoundingBox",width:"1",height:"1",children:T.jsx("use",{href:`#${W}-image`})}),T.jsx("clipPath",{id:`${W}-clip`,children:T.jsx("rect",{x:14,y:14,width:96,height:96,rx:48,fill:"white"})}),T.jsx("image",{id:`${W}-image`,href:r,width:1,height:1,preserveAspectRatio:"none"})]})]}),T.jsx("button",{type:"button",title:S.formatMessage(z?mt.play:mt.pause),"aria-label":S.formatMessage(z?mt.play:mt.pause),className:"player-button",onClick:Be,children:T.jsx(qt,{id:z?"play":"pause",icon:z?ks:Us})})]}),T.jsx("div",{className:"audio-player__controls__play",children:T.jsx("button",{type:"button",title:S.formatMessage(mt.skipForward),"aria-label":S.formatMessage(mt.skipForward),className:"player-button",onClick:hs,children:T.jsx(qt,{id:"",icon:YS})})})]}),T.jsx(eE,{hidden:U||o,sensitive:i??!1,onClick:ln,matchedFilters:y}),T.jsx("div",{className:Ze("video-player__controls",{active:B}),children:T.jsxs("div",{className:"video-player__buttons-bar",children:[T.jsxs("div",{className:"video-player__buttons left",children:[T.jsx("button",{type:"button",title:S.formatMessage(H?mt.unmute:mt.mute),"aria-label":S.formatMessage(H?mt.unmute:mt.mute),className:"player-button",onClick:Lt,children:T.jsx(qt,{id:H?"volume-off":"volume-up",icon:H?Ic:mo})}),T.jsxs("div",{className:"video-player__volume active",ref:we,onMouseDown:Dn,role:"slider","aria-valuemin":0,"aria-valuenow":qn?0:V*100,"aria-valuemax":100,tabIndex:0,children:[T.jsx(Ye.div,{className:"video-player__volume__current",style:{width:Se.volume}}),T.jsx(Ye.span,{className:Ze("video-player__volume__handle"),style:{left:Se.volume}})]}),T.jsxs("span",{className:"video-player__time",children:[T.jsx("span",{className:"video-player__time-current",children:gi(Math.floor(b))}),T.jsx("span",{className:"video-player__time-sep",children:"/"}),T.jsx("span",{className:"video-player__time-total",children:gi(Math.floor(N))})]})]}),T.jsx("div",{className:"video-player__buttons right",children:!o&&T.jsxs(T.Fragment,{children:[T.jsx("button",{type:"button",className:"player-button",onClick:ln,children:T.jsx(pn,{id:"media_gallery.hide",defaultMessage:"Hide"})}),T.jsx("a",{title:S.formatMessage(mt.download),"aria-label":S.formatMessage(mt.download),className:"video-player__download__icon player-button",href:e,download:!0,children:T.jsx(qt,{id:"download",icon:pF})})]})})]})})]})},C5=Object.freeze(Object.defineProperty({__proto__:null,Audio:Gp,default:Gp},Symbol.toStringTag,{value:"Module"})),A5=e=>m.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:24,viewBox:"0 -960 960 960",width:24,...e},m.createElement("path",{d:"M200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h280v80H200v560h560v-280h80v280q0 33-23.5 56.5T760-120H200Zm188-212-56-56 372-372H560v-80h280v280h-80v-144L388-332Z"})),I5=e=>m.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:24,viewBox:"0 -960 960 960",width:24,...e},m.createElement("path",{d:"M280-80 120-240l160-160 56 58-62 62h406v-160h80v240H274l62 62-56 58Zm-80-440v-240h486l-62-62 56-58 160 160-160 160-56-58 62-62H280v160h-80Z"})),R5=e=>m.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:24,viewBox:"0 -960 960 960",width:24,...e},m.createElement("path",{d:"M760-200v-160q0-50-35-85t-85-35H273l144 144-57 56-240-240 240-240 57 56-144 144h367q83 0 141.5 58.5T840-360v160h-80Z"})),N5=e=>m.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:24,viewBox:"0 -960 960 960",width:24,...e},m.createElement("path",{d:"M320-280 80-520l240-240 57 56-184 184 184 184-57 56Zm480 80v-160q0-50-35-85t-85-35H433l144 144-57 56-240-240 240-240 57 56-144 144h247q83 0 141.5 58.5T880-360v160h-80Z"})),L5=e=>m.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:24,viewBox:"0 -960 960 960",width:24,...e},m.createElement("path",{d:"m233-120 65-281L80-590l288-25 112-265 112 265 288 25-218 189 65 281-247-149-247 149Z"})),x5=e=>m.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:24,viewBox:"0 -960 960 960",width:24,...e},m.createElement("path",{d:"m354-287 126-76 126 77-33-144 111-96-146-13-58-136-58 135-146 13 111 97-33 143ZM233-120l65-281L80-590l288-25 112-265 112 265 288 25-218 189 65 281-247-149-247 149Zm247-350Z"})),M5=e=>m.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},m.createElement("path",{d:"M7 22L3 18L7 14L8.4 15.45L6.85 17H17V13H19V19H6.85L8.4 20.55L7 22ZM5 11V5H17.15L15.6 3.45L17 2L21 6L17 10L15.6 8.55L17.15 7H7V11H5Z"}),m.createElement("path",{d:"M9 9H15V15H9V9Z"})),P5=e=>m.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},m.createElement("path",{d:"M19 13V17.8787L17 15.8787V13H19Z"}),m.createElement("path",{d:"M2.41421 2.70711L1 4.12132L5 8.12132V11H7V10.1213L13.8787 17H6.85L8.4 15.45L7 14L3 18L7 22L8.4 20.55L6.85 19H15.8787L19.3848 22.5061L20.799 21.0919L2.41421 2.70711Z"}),m.createElement("path",{d:"M17.15 7H8.12132L6.12132 5H17.15L15.6 3.45L17 2L21 6L17 10L15.6 8.55L17.15 7Z"})),F5=e=>m.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},m.createElement("path",{d:"M8.4 15.45L7 14L3 18L7 22L8.4 20.55L6.85 19H13.5V18C13.5 17.6567 13.5638 17.3171 13.6988 17H6.85L8.4 15.45Z"}),m.createElement("path",{d:"M5 5V11H7V7H17.15L15.6 8.55L17 10L21 6L17 2L15.6 3.45L17.15 5H5Z"}),m.createElement("path",{d:"M16 22C15.7167 22 15.475 21.9083 15.275 21.725C15.0917 21.525 15 21.2833 15 21V18C15 17.7167 15.0917 17.4833 15.275 17.3C15.475 17.1 15.7167 17 16 17V16C16 15.45 16.1917 14.9833 16.575 14.6C16.975 14.2 17.45 14 18 14C18.55 14 19.0167 14.2 19.4 14.6C19.8 14.9833 20 15.45 20 16V17C20.2833 17 20.5167 17.1 20.7 17.3C20.9 17.4833 21 17.7167 21 18V21C21 21.2833 20.9 21.525 20.7 21.725C20.5167 21.9083 20.2833 22 20 22H16ZM17 17H19V16C19 15.7167 18.9 15.4833 18.7 15.3C18.5167 15.1 18.2833 15 18 15C17.7167 15 17.475 15.1 17.275 15.3C17.0917 15.4833 17 15.7167 17 16V17Z"})),U5=e=>m.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},m.createElement("path",{d:"M8.4 15.45L7 14L3 18L7 22L8.4 20.55L6.85 19H13.5V18C13.5 17.6567 13.5638 17.3171 13.6988 17H6.85L8.4 15.45Z"}),m.createElement("path",{d:"M15 14.1883C14.8435 14.443 14.7232 14.7147 14.6398 15H9V9H15V14.1883Z"}),m.createElement("path",{d:"M5 5V11H7V7H17.15L15.6 8.55L17 10L21 6L17 2L15.6 3.45L17.15 5H5Z"}),m.createElement("path",{d:"M16 22C15.7167 22 15.475 21.9083 15.275 21.725C15.0917 21.525 15 21.2833 15 21V18C15 17.7167 15.0917 17.4833 15.275 17.3C15.475 17.1 15.7167 17 16 17V16C16 15.45 16.1917 14.9833 16.575 14.6C16.975 14.2 17.45 14 18 14C18.55 14 19.0167 14.2 19.4 14.6C19.8 14.9833 20 15.45 20 16V17C20.2833 17 20.5167 17.1 20.7 17.3C20.9 17.4833 21 17.7167 21 18V21C21 21.2833 20.9 21.525 20.7 21.725C20.5167 21.9083 20.2833 22 20 22H16ZM17 17H19V16C19 15.7167 18.9 15.4833 18.7 15.3C18.5167 15.1 18.2833 15 18 15C17.7167 15 17.475 15.1 17.275 15.3C17.0917 15.4833 17 15.7167 17 16V17Z"})),DF=({value:e})=>{const[t,n]=m.useState(e),r=e>t?-1:1,[s,i]=Ur(()=>({from:{transform:`translateY(${100*r}%)`},to:{transform:"translateY(0%)"},onRest(){n(e)},config:{...mr.gentle,duration:200},immediate:!0}),[e,t]);return m.useEffect(()=>{e!==t&&i.start({reset:!0})},[i,t,e]),IE?T.jsx(xa,{value:e}):T.jsxs("span",{className:"animated-number",children:[T.jsx(Ye.span,{style:s,children:T.jsx(xa,{value:e})}),e!==t&&T.jsx(Ye.span,{style:{...s,position:"absolute",top:`${-100*r}%`},role:"presentation",children:T.jsx(xa,{value:t})})]})},qF=m.forwardRef(({className:e,expanded:t,icon:n,iconComponent:r,inverted:s,title:i,counter:o,href:a,style:u,activeStyle:c,onClick:l,onKeyDown:f,onKeyPress:d,onMouseDown:p,active:h=!1,disabled:_=!1,animate:g=!1,overlay:v=!1,tabIndex:y=0,ariaHidden:S=!1,ariaControls:b},O)=>{const[N,x]=m.useState(!1),[z,j]=m.useState(!1);m.useEffect(()=>{g&&(N&&!h?(x(!1),j(!0)):!N&&h&&(x(!0),j(!1)))},[x,j,g,h,N]);const H=m.useCallback(I=>{I.preventDefault(),_||l==null||l(I)},[_,l]),K=m.useCallback(I=>{_||d==null||d(I)},[_,d]),V=m.useCallback(I=>{_||p==null||p(I)},[_,p]),Y=m.useCallback(I=>{_||f==null||f(I)},[_,f]),B={...u,...h?c:{}},w=Ze(e,"icon-button",{active:h,disabled:_,inverted:s,activate:N,deactivate:z,overlayed:v,"icon-button--with-counter":typeof o<"u"});let A=T.jsxs(T.Fragment,{children:[T.jsx(qt,{id:n,icon:r,"aria-hidden":"true"})," ",typeof o<"u"&&T.jsx("span",{className:"icon-button__counter",children:T.jsx(DF,{value:o})})]});return a!=null&&(A=T.jsx("a",{href:a,target:"_blank",rel:"noopener noreferrer",children:A})),T.jsx("button",{type:"button","aria-label":i,"aria-expanded":t,"aria-hidden":S,"aria-controls":b,title:i,className:w,onClick:H,onMouseDown:V,onKeyDown:Y,onKeyPress:K,style:B,tabIndex:y,disabled:_,ref:O,children:A})});qF.displayName="IconButton";const k5={match:he.object.isRequired,location:he.object.isRequired,history:he.object.isRequired},D5={match:he.object,location:he.object,history:he.object};function q5(e){const t=`withRouter(${e.displayName??e.name})`,n=r=>{const{wrappedComponentRef:s,...i}=r;return T.jsx(vE.Consumer,{children:o=>o?T.jsx(e,{...i,...o,ref:s}):T.jsx(e,{...i,ref:s})})};return n.displayName=t,n.WrappedComponent=e,eh(n,e)}var ju,Kp;function $F(){if(Kp)return ju;Kp=1;var e=Xl,t="<<anonymous>>",n;{var r=function(){invariant(!1,"ImmutablePropTypes type checking code is stripped in production.")};r.isRequired=r;var s=function(){return r};n={listOf:s,mapOf:s,orderedMapOf:s,setOf:s,orderedSetOf:s,stackOf:s,iterableOf:s,recordOf:s,shape:s,contains:s,mapContains:s,orderedMapContains:s,list:r,map:r,orderedMap:r,set:r,orderedSet:r,stack:r,seq:r,record:r,iterable:r}}n.iterable.indexed=u("Indexed",e.Iterable.isIndexed),n.iterable.keyed=u("Keyed",e.Iterable.isKeyed);function i(c){var l=typeof c;return Array.isArray(c)?"array":c instanceof RegExp?"object":c instanceof e.Iterable?"Immutable."+c.toSource().split(" ")[0]:l}function o(c){function l(d,p,h,_,g,v){for(var y=arguments.length,S=Array(y>6?y-6:0),b=6;b<y;b++)S[b-6]=arguments[b];if(v=v||h,_=_||t,p[h]==null){var O=g;if(d)return new Error("Required "+O+" `"+v+"` was not specified in "+("`"+_+"`."))}else return c.apply(void 0,[p,h,_,g,v].concat(S))}var f=l.bind(null,!1);return f.isRequired=l.bind(null,!0),f}function a(c,l){function f(d,p,h,_,g){var v=d[p];if(!l(v)){var y=i(v);return new Error("Invalid "+_+" `"+g+"` of type `"+y+"` "+("supplied to `"+h+"`, expected `"+c+"`."))}return null}return o(f)}function u(c,l){return a("Iterable."+c,function(f){return e.Iterable.isIterable(f)&&l(f)})}return ju=n,ju}var jF=$F();const $5=Jr(jF);function _o(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_o=function(t){return typeof t}:_o=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_o(e)}function HF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function BF(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zF(e,t,n){return t&&BF(e.prototype,t),e}function WF(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function VF(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Qp(n,!0).forEach(function(r){WF(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qp(n).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function GF(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Nc(e,t)}function Rc(e){return Rc=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Rc(e)}function Nc(e,t){return Nc=Object.setPrototypeOf||function(r,s){return r.__proto__=s,r},Nc(e,t)}function KF(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function QF(e,t){return t&&(typeof t=="object"||typeof t=="function")?t:KF(e)}var Xp={};function XF(e){return e!==null&&_o(e)==="object"&&typeof e.get=="function"&&typeof e.has=="function"}function YF(e){return e==null}function ZF(e,t,n){return YF(e)?n:XF(e)?e.has(t)?e.get(t):n:hasOwnProperty.call(e,t)?e[t]:n}function Yp(e,t,n){for(var r=0;r!==t.length;)if(e=ZF(e,t[r++],Xp),e===Xp)return n;return e}function Zp(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=JF(t,n),s=e||Object.keys(VF({},n,{},t));return s.every(r)}function JF(e,t){return function(n){if(typeof n=="string")return Me(t[n],e[n]);if(Array.isArray(n))return Me(Yp(t,n),Yp(e,n));throw new TypeError("Invalid key: expected Array or string: "+n)}}var j5=function(e){GF(t,e);function t(){return HF(this,t),QF(this,Rc(t).apply(this,arguments))}return zF(t,[{key:"shouldComponentUpdate",value:function(r){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return!Zp(this.updateOnProps,this.props,r,"updateOnProps")||!Zp(this.updateOnStates,this.state,s,"updateOnStates")}}]),t}(Hu.Component);const H5=e=>m.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:24,viewBox:"0 -960 960 960",width:24,...e},m.createElement("path",{d:"M504-480 320-664l56-56 240 240-240 240-56-56 184-184Z"})),B5=(e,t=5)=>{const n=m.useRef(null),r=m.useCallback(i=>{n.current=[i.clientX,i.clientY]},[]),s=m.useCallback(i=>{if(!n.current)return;const[o,a]=n.current,[u,c]=[Math.abs(i.clientX-o),Math.abs(i.clientY-a)];let l=i.target;for(;l&&l instanceof HTMLElement;){if(l.localName==="button"||l.localName==="a"||l.localName==="label")return;l=l.parentNode}u+c<t&&(i.button===0||i.button===1)&&i.detail>=1&&e(i),n.current=null},[t,e]);return[r,s]};export{mU as $,y5 as A,T5 as B,jU as C,ZA as D,$l as E,JA as F,T2 as G,Yc as H,qt as I,Rk as J,eI as K,Vh as L,V_ as M,e2 as N,QS as O,gr as P,qk as Q,y2 as R,v5 as S,x2 as T,g5 as U,Vp as V,W2 as W,KU as X,E5 as Y,XS as Z,vU as _,SU as a,i5 as a$,rn as a0,VU as a1,dk as a2,vk as a3,WO as a4,Tk as a5,B5 as a6,b2 as a7,hu as a8,di as a9,cA as aA,YO as aB,mk as aC,XO as aD,lg as aE,h2 as aF,c2 as aG,f2 as aH,l2 as aI,d2 as aJ,au as aK,V2 as aL,YU as aM,Ir as aN,$h as aO,hU as aP,H5 as aQ,k5 as aR,S5 as aS,R5 as aT,N5 as aU,M5 as aV,U5 as aW,F5 as aX,P5 as aY,q5 as aZ,D5 as a_,vi as aa,I5 as ab,hk as ac,Uk as ad,Bk as ae,iC as af,pk as ag,OU as ah,dA as ai,w2 as aj,QO as ak,_e as al,_I as am,Jo as an,mR as ao,He as ap,pU as aq,hR as ar,b5 as as,jh as at,J2 as au,Y2 as av,G2 as aw,sk as ax,_A as ay,WU as az,qF as b,yk as b$,s5 as b0,A5 as b1,t1 as b2,dU as b3,JS as b4,dF as b5,H2 as b6,Io as b7,Ao as b8,bI as b9,C2 as bA,I2 as bB,O2 as bC,j2 as bD,F2 as bE,M2 as bF,_2 as bG,AU as bH,CU as bI,RU as bJ,_5 as bK,IU as bL,_U as bM,ql as bN,DU as bO,kU as bP,a5 as bQ,JP as bR,EU as bS,X0 as bT,KO as bU,Nk as bV,DF as bW,X as bX,eE as bY,gi as bZ,kk as b_,ok as ba,Iv as bb,oA as bc,vt as bd,Me as be,ks as bf,bU as bg,ce as bh,It as bi,p_ as bj,YT as bk,fs as bl,ts as bm,z2 as bn,B2 as bo,D2 as bp,k2 as bq,P2 as br,Zw as bs,tT as bt,v2 as bu,q as bv,L2 as bw,$2 as bx,q2 as by,A2 as bz,Gp as c,n2 as c$,gk as c0,_k as c1,bk as c2,p5 as c3,oC as c4,E2 as c5,Ek as c6,Sk as c7,r5 as c8,n5 as c9,hA as cA,mA as cB,fA as cC,ou as cD,lA as cE,Hk as cF,zk as cG,pA as cH,Ik as cI,OF as cJ,CF as cK,Pr as cL,xN as cM,M0 as cN,X2 as cO,Q2 as cP,K2 as cQ,Z2 as cR,ZU as cS,p2 as cT,Iu as cU,Wx as cV,pi as cW,Sg as cX,Wk as cY,t2 as cZ,HU as c_,Yk as ca,Xk as cb,Sa as cc,aR as cd,BU as ce,zU as cf,X_ as cg,K_ as ch,Q_ as ci,Y_ as cj,OO as ck,lk as cl,LN as cm,GU as cn,_r as co,fk as cp,g2 as cq,wk as cr,ry as cs,FU as ct,UU as cu,S2 as cv,$U as cw,ak as cx,uk as cy,ck as cz,w5 as d,FN as d$,JU as d0,u2 as d1,nk as d2,ik as d3,rk as d4,ek as d5,tk as d6,Fk as d7,o2 as d8,KA as d9,f5 as dA,d5 as dB,h5 as dC,m5 as dD,Je as dE,Va as dF,xk as dG,Mk as dH,Pk as dI,zR as dJ,Nu as dK,Lu as dL,Go as dM,qU as dN,m2 as dO,ie as dP,u5 as dQ,c5 as dR,l5 as dS,su as dT,iu as dU,Ck as dV,Ak as dW,Ok as dX,cs as dY,$k as dZ,jk as d_,GA as da,o5 as db,s2 as dc,rp as dd,r2 as de,TU as df,XN as dg,ob as dh,ib as di,i2 as dj,xu as dk,zs as dl,NU as dm,LU as dn,xU as dp,MU as dq,Zk as dr,Jk as ds,e5 as dt,t5 as du,PU as dv,Kk as dw,Qk as dx,Vk as dy,Gk as dz,Dk as e,PN as e0,yu as e1,gu as e2,UN as e3,kN as e4,Eu as e5,vu as e6,Su as e7,a2 as e8,je as e9,WR as ea,Lk as eb,me as ec,O5 as ed,C5 as ee,wU as f,Ur as g,mr as h,Ye as i,gU as j,U2 as k,N2 as l,R2 as m,VR as n,qi as o,vN as p,gN as q,jN as r,n1 as s,yN as t,yU as u,L5 as v,x5 as w,iO as x,j5 as y,$5 as z};
//# sourceMappingURL=useSelectableClick-DeaJbL2_.js.map
