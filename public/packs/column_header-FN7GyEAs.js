import{j as e}from"./client-wT6vtYO_.js";import{r as t,u as T,d as Y}from"./index-BdTwX--g.js";import{c as g}from"./index-DizoKcfL.js";import{S as $}from"./add-D8GR9P00.js";import{S as ee}from"./chevron_left-CnYIoVsW.js";import{aO as se,d as te,aP as R,I as r,aQ as ae}from"./useSelectableClick-DeaJbL2_.js";import{S as ne}from"./close-BsPe8EbX.js";import{M as j}from"./message-UFwkQlnu.js";const Z=t.createContext({tabsBarElement:null,multiColumn:!1,setTabsBarElement:()=>{}});function oe(){return t.useContext(Z)}const le=({children:s})=>{const{multiColumn:a,tabsBarElement:n}=oe();return a?s:n?se.createPortal(s,n):s},ve=({multiColumn:s,children:a})=>{const[n,m]=t.useState(null),l=t.useMemo(()=>({multiColumn:s,tabsBarElement:n,setTabsBarElement:m}),[s,n]);return e.jsx(Z.Provider,{value:l,children:a})},ce=s=>t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:24,viewBox:"0 -960 960 960",width:24,...s},t.createElement("path",{d:"m313-440 224 224-57 56-320-320 320-320 57 56-224 224h487v80H313Z"})),ie=s=>t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:24,viewBox:"0 -960 960 960",width:24,...s},t.createElement("path",{d:"m356-160-56-56 180-180 180 180-56 56-124-124-124 124Zm124-404L300-744l56-56 124 124 124-124 56 56-180 180Z"})),re=s=>t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:24,viewBox:"0 -960 960 960",width:24,...s},t.createElement("path",{d:"M480-120 300-300l58-58 122 122 122-122 58 58-180 180ZM358-598l-58-58 180-180 180 180-58 58-122-122-122 122Z"})),o=Y({show:{id:"column_header.show_settings",defaultMessage:"Show settings"},hide:{id:"column_header.hide_settings",defaultMessage:"Hide settings"},moveLeft:{id:"column_header.moveLeft_settings",defaultMessage:"Move column to the left"},moveRight:{id:"column_header.moveRight_settings",defaultMessage:"Move column to the right"},back:{id:"column_back_button.label",defaultMessage:"Back"}}),me=({onlyIcon:s})=>{const a=R(),n=T(),m=t.useCallback(()=>{var l;(l=a.location.state)!=null&&l.fromMastodon?a.goBack():a.push("/")},[a]);return e.jsxs("button",{onClick:m,className:g("column-header__back-button",{compact:s}),"aria-label":n.formatMessage(o.back),children:[e.jsx(r,{id:"chevron-left",icon:ce,className:"column-back-button__icon"}),!s&&e.jsx(j,{id:"column_back_button.label",defaultMessage:"Back"})]})},je=({title:s,icon:a,iconComponent:n,active:m,children:l,pinned:b,multiColumn:h,extraButton:y,showBackButton:A,placeholder:H,appendContent:U,collapseIssues:F,onClick:x,onMove:c,onPin:d})=>{var L;const u=T(),{signedIn:z}=te(),p=R(),[i,w]=t.useState(!0),[C,f]=t.useState(!1),D=t.useCallback(W=>{W.stopPropagation(),w(X=>!X),f(!0)},[w,f]),O=t.useCallback(()=>{x==null||x()},[x]),Q=t.useCallback(()=>{c==null||c(-1)},[c]),V=t.useCallback(()=>{c==null||c(1)},[c]),q=t.useCallback(()=>{f(!1)},[f]),k=t.useCallback(()=>{b||p.replace("/"),d==null||d()},[p,b,d]),G=g("column-header__wrapper",{active:m}),J=g("column-header",{active:m}),K=g("column-header__collapsible",{collapsed:i,animating:C}),P=g("column-header__button",{active:!i});let N,v,B,_,M;l&&(N=e.jsx("div",{className:"column-header__collapsible__extra",children:l},"extra-content")),h&&b?(v=e.jsxs("button",{className:"text-btn column-header__setting-btn",onClick:k,children:[e.jsx(r,{id:"times",icon:ne})," ",e.jsx(j,{id:"column_header.unpin",defaultMessage:"Unpin"})]}),B=e.jsxs("div",{className:"column-header__setting-arrows",children:[e.jsx("button",{title:u.formatMessage(o.moveLeft),"aria-label":u.formatMessage(o.moveLeft),className:"icon-button column-header__setting-btn",onClick:Q,children:e.jsx(r,{id:"chevron-left",icon:ee})}),e.jsx("button",{title:u.formatMessage(o.moveRight),"aria-label":u.formatMessage(o.moveRight),className:"icon-button column-header__setting-btn",onClick:V,children:e.jsx(r,{id:"chevron-right",icon:ae})})]})):h&&d&&(v=e.jsxs("button",{className:"text-btn column-header__setting-btn",onClick:k,children:[e.jsx(r,{id:"plus",icon:$})," ",e.jsx(j,{id:"column_header.pin",defaultMessage:"Pin"})]})),!b&&(h&&((L=p.location.state)!=null&&L.fromMastodon)||A)&&(_=e.jsx(me,{onlyIcon:!!s}));const E=[N];h&&E.push(e.jsxs("div",{className:"column-header__advanced-buttons",children:[v,B]},"buttons")),z&&(l||h&&d)&&(M=e.jsx("button",{className:P,title:u.formatMessage(i?o.show:o.hide),"aria-label":u.formatMessage(i?o.show:o.hide),onClick:D,children:e.jsxs("i",{className:"icon-with-badge",children:[e.jsx(r,{id:"sliders",icon:i?re:ie}),F&&e.jsx("i",{className:"icon-with-badge__issue-badge"})]})}));const S=a&&n&&s,I=e.jsxs("div",{className:G,children:[e.jsxs("h1",{className:J,children:[S&&e.jsxs(e.Fragment,{children:[_,e.jsxs("button",{onClick:O,className:"column-header__title",children:[!_&&e.jsx(r,{id:a,icon:n,className:"column-header__icon"}),s]})]}),!S&&_,e.jsxs("div",{className:"column-header__buttons",children:[y,M]})]}),e.jsx("div",{className:K,tabIndex:i?-1:void 0,onTransitionEnd:q,children:e.jsx("div",{className:"column-header__collapsible-inner",children:(!i||C)&&E})}),U]});return H?I:e.jsx(le,{children:I})};export{le as B,je as C,ce as S,ve as a,oe as u};
//# sourceMappingURL=column_header-FN7GyEAs.js.map
