var z=Object.defineProperty;var D=(o,s,t)=>s in o?z(o,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[s]=t;var n=(o,s,t)=>D(o,typeof s!="symbol"?s+"":s,t);import{j as e}from"./client-BG6VvM0b.js";import{P as a,L as E}from"./short_number--sxn3OKQ.js";import{i as h,d as f}from"./index-ykyyQSL-.js";import{H as B}from"./Helmet-D0DLVOv1.js";import{y as b,z as j,A as M,b as c,S as V,j as N,cu as y,ct as k,x as R,H as S,dv as A}from"./useSelectableClick-DBo53LOf.js";import{S as C}from"./person_add-BFk09DvP.js";import{S as I}from"./scrollable_list-DlG-2WSw.js";import{e as L}from"./initial_state-BP3UcUr4.js";import{C as T}from"./column-u9iYs8RL.js";import{D as P,ak as F}from"./content_warning-ZcoJE_cd.js";import{S as H}from"./close-DPVxbBbs.js";import{M as d}from"./message-Bb0z64dP.js";import"./numbers-CGZQWBYL.js";import"./api-uqk9CYtW.js";import"./index-lj9VQs0f.js";import"./ready-DpOgoWSg.js";import"./index-DHslUCy5.js";import"./load_locale-C-B7BkCQ.js";import"./index-guCj-HqV.js";import"./scroll_container-BQpJ36fQ.js";import"./react-router-scroll-4.es-6ieDtVAa.js";import"./interopRequireDefault-CdiRfGvq.js";import"./schedule_idle_task-CTsEu-tt.js";import"./load_more-BJ-OkDO5.js";import"./loading_indicator-BBuNQ1GS.js";import"./column_header-CtuyYpNB.js";import"./add-ZanakRnh.js";import"./chevron_left-R_fqLHXp.js";import"./scroll-BygYx8ga.js";import"./skeleton-_5CK2hDo.js";const p=f({authorize:{id:"follow_request.authorize",defaultMessage:"Authorize"},reject:{id:"follow_request.reject",defaultMessage:"Reject"}});class _ extends b{render(){const{intl:s,account:t,onAuthorize:i,onReject:r}=this.props,u={__html:t.get("note_emojified")};return e.jsxDEV("div",{className:"account-authorize__wrapper",children:[e.jsxDEV("div",{className:"account-authorize",children:[e.jsxDEV(E,{to:`/@${t.get("acct")}`,className:"detailed-status__display-name",children:[e.jsxDEV("div",{className:"account-authorize__avatar",children:e.jsxDEV(M,{account:t,size:48},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/follow_requests/components/account_authorize.jsx",lineNumber:39,columnNumber:56},this)},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/follow_requests/components/account_authorize.jsx",lineNumber:39,columnNumber:13},this),e.jsxDEV(P,{account:t},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/follow_requests/components/account_authorize.jsx",lineNumber:40,columnNumber:13},this)]},void 0,!0,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/follow_requests/components/account_authorize.jsx",lineNumber:38,columnNumber:11},this),e.jsxDEV("div",{className:"account__header__content translate",dangerouslySetInnerHTML:u},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/follow_requests/components/account_authorize.jsx",lineNumber:43,columnNumber:11},this)]},void 0,!0,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/follow_requests/components/account_authorize.jsx",lineNumber:37,columnNumber:9},this),e.jsxDEV("div",{className:"account--panel",children:[e.jsxDEV("div",{className:"account--panel__button",children:e.jsxDEV(c,{title:s.formatMessage(p.authorize),icon:"check",iconComponent:V,onClick:i},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/follow_requests/components/account_authorize.jsx",lineNumber:47,columnNumber:51},this)},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/follow_requests/components/account_authorize.jsx",lineNumber:47,columnNumber:11},this),e.jsxDEV("div",{className:"account--panel__button",children:e.jsxDEV(c,{title:s.formatMessage(p.reject),icon:"times",iconComponent:H,onClick:r},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/follow_requests/components/account_authorize.jsx",lineNumber:48,columnNumber:51},this)},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/follow_requests/components/account_authorize.jsx",lineNumber:48,columnNumber:11},this)]},void 0,!0,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/follow_requests/components/account_authorize.jsx",lineNumber:46,columnNumber:9},this)]},void 0,!0,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/follow_requests/components/account_authorize.jsx",lineNumber:36,columnNumber:7},this)}}n(_,"propTypes",{account:j.record.isRequired,onAuthorize:a.func.isRequired,onReject:a.func.isRequired,intl:a.object.isRequired});const $=h(_),W=()=>{const o=F();return(t,i)=>({account:o(t,i.id)})},G=(o,{id:s})=>({onAuthorize(){o(k(s))},onReject(){o(y(s))}}),K=N(W,G)($),U=f({heading:{id:"column.follow_requests",defaultMessage:"Follow requests"}}),Y=o=>({accountIds:o.getIn(["user_lists","follow_requests","items"]),isLoading:o.getIn(["user_lists","follow_requests","isLoading"],!0),hasMore:!!o.getIn(["user_lists","follow_requests","next"]),locked:!!o.getIn(["accounts",L,"locked"]),domain:o.getIn(["meta","domain"])});class x extends b{constructor(){super(...arguments);n(this,"handleLoadMore",S(()=>{this.props.dispatch(A())},300,{leading:!0}))}UNSAFE_componentWillMount(){this.props.dispatch(R())}render(){const{intl:t,accountIds:i,hasMore:r,multiColumn:u,locked:g,domain:v,isLoading:m}=this.props,w=e.jsxDEV(d,{id:"empty_column.follow_requests",defaultMessage:"You don't have any follow requests yet. When you receive one, it will show up here."},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/follow_requests/index.jsx",lineNumber:59,columnNumber:26},this),q=!g&&i.size>0&&e.jsxDEV("div",{className:"follow_requests-unlocked_explanation",children:e.jsxDEV(d,{id:"follow_requests.unlocked_explanation",defaultMessage:"Even though your account is not locked, the {domain} staff thought you might want to review follow requests from these accounts manually.",values:{domain:v}},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/follow_requests/index.jsx",lineNumber:62,columnNumber:9},this)},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/follow_requests/index.jsx",lineNumber:61,columnNumber:5},this);return e.jsxDEV(T,{bindToDocument:!u,icon:"user-plus",iconComponent:C,heading:t.formatMessage(U.heading),alwaysShowBackButton:!0,children:[e.jsxDEV(I,{scrollKey:"follow_requests",onLoadMore:this.handleLoadMore,hasMore:r,isLoading:m,showLoading:m&&i.size===0,emptyMessage:w,bindToDocument:!u,prepend:q,children:i.map(l=>e.jsxDEV(K,{id:l},l,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/follow_requests/index.jsx",lineNumber:83,columnNumber:11},this))},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/follow_requests/index.jsx",lineNumber:72,columnNumber:9},this),e.jsxDEV(B,{children:e.jsxDEV("meta",{name:"robots",content:"noindex"},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/follow_requests/index.jsx",lineNumber:88,columnNumber:11},this)},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/follow_requests/index.jsx",lineNumber:87,columnNumber:9},this)]},void 0,!0,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/follow_requests/index.jsx",lineNumber:71,columnNumber:7},this)}}n(x,"propTypes",{params:a.object.isRequired,dispatch:a.func.isRequired,hasMore:a.bool,isLoading:a.bool,accountIds:j.list,locked:a.bool,domain:a.string,intl:a.object.isRequired,multiColumn:a.bool});const De=N(Y)(h(x));export{De as default};
//# sourceMappingURL=follow_requests-index-Dg_LRFtB.js.map
