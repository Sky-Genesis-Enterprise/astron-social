import{g as ee,R as M}from"./index-ykyyQSL-.js";import{at as U}from"./useSelectableClick-DBo53LOf.js";import{P as S,w as ae}from"./short_number--sxn3OKQ.js";import{r as T}from"./interopRequireDefault-CdiRfGvq.js";var C,j;function se(){if(j)return C;j=1;var a=function(){};return a=function(e,n,r){var o=arguments.length;r=new Array(o>2?o-2:0);for(var s=2;s<o;s++)r[s-2]=arguments[s];if(n===void 0)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(n.length<10||/^[s\W]*$/.test(n))throw new Error("The warning format should be able to uniquely identify this warning. Please, use a more descriptive format than: "+n);if(!e){var l=0,i="Warning: "+n.replace(/%s/g,function(){return r[l++]});typeof console<"u"&&console.error(i);try{throw new Error(i)}catch{}}},C=a,C}var ue=se();const N=ee(ue);var P={exports:{}},R={exports:{}},W={exports:{}},F;function k(){return F||(F=1,function(a,e){e.__esModule=!0,e.default=void 0;var n=!!(typeof window<"u"&&window.document&&window.document.createElement);e.default=n,a.exports=e.default}(W,W.exports)),W.exports}var $;function ce(){return $||($=1,function(a,e){var n=T();e.__esModule=!0,e.default=void 0;var r=n(k()),o=function(){};r.default&&(o=function(){if(document.addEventListener)return function(l,i,v,c){return l.removeEventListener(i,v,c||!1)};if(document.attachEvent)return function(l,i,v){return l.detachEvent("on"+i,v)}}());var s=o;e.default=s,a.exports=e.default}(R,R.exports)),R.exports}var q={exports:{}},X;function fe(){return X||(X=1,function(a,e){var n=T();e.__esModule=!0,e.default=void 0;var r=n(k()),o=function(){};r.default&&(o=function(){if(document.addEventListener)return function(l,i,v,c){return l.addEventListener(i,v,c||!1)};if(document.attachEvent)return function(l,i,v){return l.attachEvent("on"+i,function(c){c=c||window.event,c.target=c.target||c.srcElement,c.currentTarget=l,v.call(l,c)})}}());var s=o;e.default=s,a.exports=e.default}(q,q.exports)),q.exports}var O={exports:{}},x={exports:{}},Y;function te(){return Y||(Y=1,function(a,e){e.__esModule=!0,e.default=n;function n(r){return r===r.window?r:r.nodeType===9?r.defaultView||r.parentWindow:!1}a.exports=e.default}(x,x.exports)),x.exports}var V;function de(){return V||(V=1,function(a,e){var n=T();e.__esModule=!0,e.default=o;var r=n(te());function o(s,l){var i=(0,r.default)(s);if(l===void 0)return i?"pageXOffset"in i?i.pageXOffset:i.document.documentElement.scrollLeft:s.scrollLeft;i?i.scrollTo(l,"pageYOffset"in i?i.pageYOffset:i.document.documentElement.scrollTop):s.scrollLeft=l}a.exports=e.default}(O,O.exports)),O.exports}var b={exports:{}},J;function ve(){return J||(J=1,function(a,e){var n=T();e.__esModule=!0,e.default=o;var r=n(te());function o(s,l){var i=(0,r.default)(s);if(l===void 0)return i?"pageYOffset"in i?i.pageYOffset:i.document.documentElement.scrollTop:s.scrollTop;i?i.scrollTo("pageXOffset"in i?i.pageXOffset:i.document.documentElement.scrollLeft,l):s.scrollTop=l}a.exports=e.default}(b,b.exports)),b.exports}var B={exports:{}},z;function he(){return z||(z=1,function(a,e){var n=T();e.__esModule=!0,e.default=void 0;var r=n(k()),o=["","webkit","moz","o","ms"],s="clearTimeout",l=y,i,v=function(f,d){return f+(f?d[0].toUpperCase()+d.substr(1):d)+"AnimationFrame"};r.default&&o.some(function(_){var f=v(_,"request");if(f in window)return s=v(_,"cancel"),l=function(t){return window[f](t)}});var c=new Date().getTime();function y(_){var f=new Date().getTime(),d=Math.max(0,16-(f-c)),t=setTimeout(_,d);return c=f,t}i=function(f){return l(f)},i.cancel=function(_){window[s]&&typeof window[s]=="function"&&window[s](_)};var E=i;e.default=E,a.exports=e.default}(B,B.exports)),B.exports}var L,G;function pe(){if(G)return L;G=1;var a=function(e,n,r,o,s,l,i,v){if(n===void 0)throw new Error("invariant requires an error message argument");if(!e){var c;if(n===void 0)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var y=[r,o,s,l,i,v],E=0;c=new Error(n.replace(/%s/g,function(){return y[E++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}};return L=a,L}var D={},Q;function _e(){if(Q)return D;Q=1,D.__esModule=!0,D.isMobileSafari=a;function a(){return/iPad|iPhone|iPod/.test(window.navigator.platform)&&/^((?!CriOS).)*Safari/.test(window.navigator.userAgent)}return D}var Z;function me(){return Z||(Z=1,function(a,e){e.__esModule=!0,e.default=void 0;var n=c(ce()),r=c(fe()),o=c(de()),s=c(ve()),l=c(he()),i=c(pe()),v=_e();function c(_){return _&&_.__esModule?_:{default:_}}var y=2,E=function(){function _(d){var t=this,u=d.addTransitionHook,p=d.stateStorage,m=d.getCurrentLocation,w=d.shouldUpdateScroll;if(this._restoreScrollRestoration=function(){if(t._oldScrollRestoration)try{window.history.scrollRestoration=t._oldScrollRestoration}catch{}},this._onWindowScroll=function(){if(!t._ignoreScrollEvents&&(t._saveWindowPositionHandle||(t._saveWindowPositionHandle=(0,l.default)(t._saveWindowPosition)),t._windowScrollTarget)){var h=t._windowScrollTarget,g=h[0],H=h[1],ie=(0,o.default)(window),le=(0,s.default)(window);ie===g&&le===H&&(t._windowScrollTarget=null,t._cancelCheckWindowScroll())}},this._saveWindowPosition=function(){t._saveWindowPositionHandle=null,t._savePosition(null,window)},this._checkWindowScrollPosition=function(){return t._checkWindowScrollHandle=null,t._windowScrollTarget?(t.scrollToTarget(window,t._windowScrollTarget),++t._numWindowScrollAttempts,t._numWindowScrollAttempts>=y?(t._windowScrollTarget=null,Promise.resolve()):new Promise(function(h){t._checkWindowScrollHandle=(0,l.default)(function(){return h(t._checkWindowScrollPosition())})})):Promise.resolve()},this._stateStorage=p,this._getCurrentLocation=m,this._shouldUpdateScroll=w,"scrollRestoration"in window.history&&!(0,v.isMobileSafari)()){this._oldScrollRestoration=window.history.scrollRestoration;try{window.history.scrollRestoration="manual",(0,r.default)(window,"beforeunload",this._restoreScrollRestoration)}catch{this._oldScrollRestoration=null}}else this._oldScrollRestoration=null;this._saveWindowPositionHandle=null,this._checkWindowScrollHandle=null,this._windowScrollTarget=null,this._numWindowScrollAttempts=0,this._ignoreScrollEvents=!1,this._scrollElements={},(0,r.default)(window,"scroll",this._onWindowScroll),this._removeTransitionHook=u(function(){l.default.cancel(t._saveWindowPositionHandle),t._saveWindowPositionHandle=null,Object.keys(t._scrollElements).forEach(function(h){var g=t._scrollElements[h];l.default.cancel(g.savePositionHandle),g.savePositionHandle=null,t._ignoreScrollEvents||t._saveElementPosition(h)})})}var f=_.prototype;return f.registerElement=function(t,u,p,m){var w=this;this._scrollElements[t]&&(0,i.default)(!1,"ScrollBehavior: There is already an element registered for `%s`.",t);var h=function(){w._saveElementPosition(t)},g={element:u,shouldUpdateScroll:p,savePositionHandle:null,onScroll:function(){!g.savePositionHandle&&!w._ignoreScrollEvents&&(g.savePositionHandle=(0,l.default)(h))}};!g.savePositionHandle&&!this._ignoreScrollEvents&&(g.savePositionHandle=(0,l.default)(h)),this._scrollElements[t]=g,(0,r.default)(u,"scroll",g.onScroll),this._updateElementScroll(t,null,m)},f.unregisterElement=function(t){this._scrollElements[t]||(0,i.default)(!1,"ScrollBehavior: There is no element registered for `%s`.",t);var u=this._scrollElements[t],p=u.element,m=u.onScroll,w=u.savePositionHandle;(0,n.default)(p,"scroll",m),l.default.cancel(w),delete this._scrollElements[t]},f.updateScroll=function(t,u){var p=this;this._updateWindowScroll(t,u).then(function(){p._saveWindowPositionHandle||(p._saveWindowPositionHandle=(0,l.default)(p._saveWindowPosition))}),Object.keys(this._scrollElements).forEach(function(m){p._updateElementScroll(m,t,u)})},f.stop=function(){this._restoreScrollRestoration(),(0,n.default)(window,"scroll",this._onWindowScroll),this._cancelCheckWindowScroll(),this._removeTransitionHook()},f.startIgnoringScrollEvents=function(){this._ignoreScrollEvents=!0},f.stopIgnoringScrollEvents=function(){this._ignoreScrollEvents=!1},f._cancelCheckWindowScroll=function(){l.default.cancel(this._checkWindowScrollHandle),this._checkWindowScrollHandle=null},f._saveElementPosition=function(t){var u=this._scrollElements[t];u.savePositionHandle=null,this._savePosition(t,u.element)},f._savePosition=function(t,u){this._stateStorage.save(this._getCurrentLocation(),t,[(0,o.default)(u),(0,s.default)(u)])},f._updateWindowScroll=function(t,u){return this._cancelCheckWindowScroll(),this._windowScrollTarget=this._getScrollTarget(null,this._shouldUpdateScroll,t,u),this._numWindowScrollAttempts=0,this._checkWindowScrollPosition()},f._updateElementScroll=function(t,u,p){var m=this._scrollElements[t],w=m.element,h=m.shouldUpdateScroll,g=this._getScrollTarget(t,h,u,p);g&&this.scrollToTarget(w,g)},f._getDefaultScrollTarget=function(t){var u=t.hash;return u&&u!=="#"?u.charAt(0)==="#"?u.slice(1):u:[0,0]},f._getScrollTarget=function(t,u,p,m){var w=u?u.call(this,p,m):!0;if(!w||Array.isArray(w)||typeof w=="string")return w;var h=this._getCurrentLocation();return this._getSavedScrollTarget(t,h)||this._getDefaultScrollTarget(h)},f._getSavedScrollTarget=function(t,u){return u.action==="PUSH"?null:this._stateStorage.read(u,t)},f.scrollToTarget=function(t,u){if(typeof u=="string"){var p=document.getElementById(u)||document.getElementsByName(u)[0];if(p){p.scrollIntoView();return}u=[0,0]}var m=u,w=m[0],h=m[1];(0,o.default)(t,w),(0,s.default)(t,h)},_}();e.default=E,a.exports=e.default}(P,P.exports)),P.exports}var we=me();const ge=ee(we);var K=function(a,e){if(!(a instanceof e))throw new TypeError("Cannot call a class as a function")},A=function(){function a(e,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,n,r){return n&&a(e.prototype,n),r&&a(e,r),e}}(),oe=function(a,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);a.prototype=Object.create(e&&e.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(a,e):a.__proto__=e)},re=function(a,e){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:a},Se={scrollKey:S.string.isRequired,shouldUpdateScroll:S.func,children:S.element.isRequired},ye={scrollBehavior:S.object},ne=function(a){oe(e,a);function e(n,r){K(this,e);var o=re(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r));return o.shouldUpdateScroll=function(s,l){var i=o.props.shouldUpdateScroll;return i?i.call(o.context.scrollBehavior.scrollBehavior,s,l):!0},o.scrollKey=n.scrollKey,o}return A(e,[{key:"componentDidMount",value:function(){this.context.scrollBehavior.registerElement(this.props.scrollKey,U.findDOMNode(this),this.shouldUpdateScroll),this.domNode=U.findDOMNode(this)}},{key:"componentWillReceiveProps",value:function(r){N(r.scrollKey===this.props.scrollKey,"<ScrollContainer> does not support changing scrollKey.")}},{key:"componentDidUpdate",value:function(){{var r=this.domNode;this.domNode=U.findDOMNode(this),N(this.domNode===r,"<ScrollContainer> does not support changing DOM node.")}}},{key:"componentWillUnmount",value:function(){this.context.scrollBehavior.unregisterElement(this.scrollKey)}},{key:"render",value:function(){return M.Children.only(this.props.children)}}]),e}(M.Component);ne.propTypes=Se;ne.contextTypes=ye;var Ee="@@scroll|",Te=function(){function a(){K(this,a)}return A(a,[{key:"read",value:function(n,r){var o=this.getStateKey(n,r);try{var s=sessionStorage.getItem(o);return JSON.parse(s)}catch{return{}}}},{key:"save",value:function(n,r,o){var s=this.getStateKey(n,r),l=JSON.stringify(o);try{sessionStorage.setItem(s,l)}catch{}}},{key:"getStateKey",value:function(n,r){var o=n.key,s=""+Ee+o;return r==null?s:s+"|"+r}}]),a}(),Pe={shouldUpdateScroll:S.func,children:S.element.isRequired,location:S.object.isRequired,history:S.object.isRequired,scrollBehavior:S.func},Re={scrollBehavior:S.object.isRequired},I=function(a){oe(e,a);function e(n,r){K(this,e);var o=re(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r));o.shouldUpdateScroll=function(i,v){var c=o.props.shouldUpdateScroll;return c?c.call(o.scrollBehavior,i,v):!0},o.registerElement=function(i,v,c){o.scrollBehavior.registerElement(i,v,c,o.getRouterProps())},o.unregisterElement=function(i){o.scrollBehavior.unregisterElement(i)};var s=n.history,l=o.props.scrollBehavior||ge;return o.scrollBehavior=new l({addTransitionHook:s.listen,stateStorage:new Te,getCurrentLocation:function(){return o.props.location},shouldUpdateScroll:o.shouldUpdateScroll}),o.scrollBehavior.updateScroll(null,o.getRouterProps()),o}return A(e,[{key:"getChildContext",value:function(){return{scrollBehavior:this}}},{key:"componentDidUpdate",value:function(r){var o=this.props,s=o.location,l=o.history,i=r.location;if(s!==i){var v={history:r.history,location:r.location};this.scrollBehavior.updateScroll(v,{history:l,location:s})}}},{key:"componentWillUnmount",value:function(){this.scrollBehavior.stop()}},{key:"getRouterProps",value:function(){var r=this.props,o=r.history,s=r.location;return{history:o,location:s}}},{key:"render",value:function(){return M.Children.only(this.props.children)}}]),e}(M.Component);I.propTypes=Pe;I.childContextTypes=Re;var be=ae(I);export{be as S,ne as a};
//# sourceMappingURL=react-router-scroll-4.es-6ieDtVAa.js.map
