var y=Object.defineProperty;var D=(o,t,i)=>t in o?y(o,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):o[t]=i;var u=(o,t,i)=>D(o,typeof t!="symbol"?t+"":t,i);import{j as a}from"./client-BG6VvM0b.js";import{P as s}from"./short_number--sxn3OKQ.js";import"./index-ykyyQSL-.js";import{j as _,dd as M,y as V,z as A,f as L,dp as T,df as x,H as C,dq as k,a as H}from"./useSelectableClick-DBo53LOf.js";import{A as P}from"./account-1vhP702Z.js";import{T as S}from"./timeline_hint-5iOue1yn.js";import{C as F,A as R,L as U}from"./limited_account_hint-BLPLzyiK.js";import{B as q}from"./bundle_column_error-BUenPHpF.js";import{g as z}from"./content_warning-ZcoJE_cd.js";import{L as K}from"./loading_indicator-BBuNQ1GS.js";import{S as G}from"./scrollable_list-DlG-2WSw.js";import{C as j}from"./column-u9iYs8RL.js";import{M as l}from"./message-Bb0z64dP.js";import"./numbers-CGZQWBYL.js";import"./api-uqk9CYtW.js";import"./index-lj9VQs0f.js";import"./initial_state-BP3UcUr4.js";import"./ready-DpOgoWSg.js";import"./index-DHslUCy5.js";import"./load_locale-C-B7BkCQ.js";import"./index-guCj-HqV.js";import"./index-JeRepxZU.js";import"./counters-BuwkZXvq.js";import"./follow_button-DdHXSblv.js";import"./skeleton-_5CK2hDo.js";import"./verified_badge-BOKoz3CJ.js";import"./column_header-CtuyYpNB.js";import"./add-ZanakRnh.js";import"./chevron_left-R_fqLHXp.js";import"./close-DPVxbBbs.js";import"./Helmet-D0DLVOv1.js";import"./notifications-CXGd1tL2.js";import"./notifications_active-fill-CAsA_fEC.js";import"./domain_blocks-DiDVA5xw.js";import"./reports-BY0N2xif.js";import"./group-D_XsjWSa.js";import"./person-BiDPmDpQ.js";import"./content_copy-BTldXt3w.js";import"./formatted_date-kPcGS90C.js";import"./react-textarea-autosize.browser.development.esm-B_jXmAxZ.js";import"./use-isomorphic-layout-effect.browser.esm-Bg5tPKmX.js";import"./permissions-Djze7cmB.js";import"./avatar_group-CaQvETuJ.js";import"./avatar_overlay-XCWEKsBg.js";import"./column-CXD4Tnpb.js";import"./scroll-BygYx8ga.js";import"./gif-CQLWVfmH.js";import"./scroll_container-BQpJ36fQ.js";import"./react-router-scroll-4.es-6ieDtVAa.js";import"./interopRequireDefault-CdiRfGvq.js";import"./schedule_idle_task-CTsEu-tt.js";import"./load_more-BJ-OkDO5.js";const J=(o,{params:{acct:t,id:i}})=>{const e=i||o.accounts_map[M(t)];return e?{accountId:e,remote:o.getIn(["accounts",e,"acct"])!==o.getIn(["accounts",e,"username"]),remoteUrl:o.getIn(["accounts",e,"url"]),isAccount:!!o.getIn(["accounts",e]),accountIds:o.getIn(["user_lists","following",e,"items"]),hasMore:!!o.getIn(["user_lists","following",e,"next"]),isLoading:o.getIn(["user_lists","following",e,"isLoading"],!0),suspended:o.getIn(["accounts",e,"suspended"],!1),hideCollections:o.getIn(["accounts",e,"hide_collections"],!1),hidden:z(o,e),blockedBy:o.getIn(["relationships",e,"blocked_by"],!1)}:{isLoading:!0}},N=({accountId:o,url:t})=>{const i=H(n=>{var m;return(m=n.accounts.get(o))==null?void 0:m.acct}),e=i?i.split("@")[1]:void 0;return a.jsxDEV(S,{url:t,message:a.jsxDEV(l,{id:"hints.profiles.follows_may_be_missing",defaultMessage:"Follows for this profile may be missing."},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/following/index.jsx",lineNumber:62,columnNumber:16},void 0),label:a.jsxDEV(l,{id:"hints.profiles.see_more_follows",defaultMessage:"See more follows on {domain}",values:{domain:a.jsxDEV("strong",{children:e},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/following/index.jsx",lineNumber:63,columnNumber:133},void 0)}},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/following/index.jsx",lineNumber:63,columnNumber:14},void 0)},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/following/index.jsx",lineNumber:60,columnNumber:5},void 0)};class v extends V{constructor(){super(...arguments);u(this,"handleLoadMore",C(()=>{this.props.dispatch(k(this.props.accountId))},300,{leading:!0}))}_load(){const{accountId:i,isAccount:e,dispatch:n}=this.props;e||n(L(i)),n(T(i))}componentDidMount(){const{params:{acct:i},accountId:e,dispatch:n}=this.props;e?this._load():n(x(i))}componentDidUpdate(i){const{params:{acct:e},accountId:n,dispatch:m}=this.props;i.accountId!==n&&n?this._load():i.params.acct!==e&&m(x(e))}render(){const{accountId:i,accountIds:e,hasMore:n,blockedBy:m,isAccount:w,multiColumn:d,isLoading:B,suspended:p,hidden:c,remote:f,remoteUrl:h,hideCollections:I}=this.props;if(!w)return a.jsxDEV(q,{multiColumn:d,errorType:"routing"},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/following/index.jsx",lineNumber:130,columnNumber:9},this);if(!e)return a.jsxDEV(j,{children:a.jsxDEV(K,{},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/following/index.jsx",lineNumber:137,columnNumber:11},this)},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/following/index.jsx",lineNumber:136,columnNumber:9},this);let r;const b=m||p||c;p?r=a.jsxDEV(l,{id:"empty_column.account_suspended",defaultMessage:"Account suspended"},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/following/index.jsx",lineNumber:147,columnNumber:22},this):c?r=a.jsxDEV(U,{accountId:i},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/following/index.jsx",lineNumber:149,columnNumber:22},this):m?r=a.jsxDEV(l,{id:"empty_column.account_unavailable",defaultMessage:"Profile unavailable"},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/following/index.jsx",lineNumber:151,columnNumber:22},this):I&&e.isEmpty()?r=a.jsxDEV(l,{id:"empty_column.account_hides_collections",defaultMessage:"This user has chosen to not make this information available"},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/following/index.jsx",lineNumber:153,columnNumber:22},this):f&&e.isEmpty()?r=a.jsxDEV(N,{accountId:i,url:h},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/following/index.jsx",lineNumber:155,columnNumber:22},this):r=a.jsxDEV(l,{id:"account.follows.empty",defaultMessage:"This user doesn't follow anyone yet."},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/following/index.jsx",lineNumber:157,columnNumber:22},this);const E=f?a.jsxDEV(N,{accountId:i,url:h},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/following/index.jsx",lineNumber:160,columnNumber:36},this):null;return a.jsxDEV(j,{children:[a.jsxDEV(F,{},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/following/index.jsx",lineNumber:164,columnNumber:9},this),a.jsxDEV(G,{scrollKey:"following",hasMore:!b&&n,isLoading:B,onLoadMore:this.handleLoadMore,prepend:a.jsxDEV(R,{accountId:this.props.accountId,hideTabs:!0},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/following/index.jsx",lineNumber:171,columnNumber:20},this),alwaysPrepend:!0,append:E,emptyMessage:r,bindToDocument:!d,children:b?[]:e.map(g=>a.jsxDEV(P,{id:g},g,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/following/index.jsx",lineNumber:178,columnNumber:11},this))},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/following/index.jsx",lineNumber:166,columnNumber:9},this)]},void 0,!0,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/following/index.jsx",lineNumber:163,columnNumber:7},this)}}u(v,"propTypes",{params:s.shape({acct:s.string,id:s.string}).isRequired,accountId:s.string,dispatch:s.func.isRequired,accountIds:A.list,hasMore:s.bool,isLoading:s.bool,blockedBy:s.bool,isAccount:s.bool,suspended:s.bool,hidden:s.bool,remote:s.bool,remoteUrl:s.string,multiColumn:s.bool});const Je=_(J)(v);export{Je as default};
//# sourceMappingURL=following-index-FQdtwGUu.js.map
