import{j as m}from"./client-BG6VvM0b.js";import{u as c,r as p,d as N}from"./index-ykyyQSL-.js";import{c as v}from"./index-guCj-HqV.js";import{u as M,d as k,a as b,ap as x,o as g,bg as _}from"./useSelectableClick-DBo53LOf.js";import{B as j}from"./index-JeRepxZU.js";import{L as y}from"./loading_indicator-BBuNQ1GS.js";import{e as n}from"./initial_state-BP3UcUr4.js";const i=N({unfollow:{id:"account.unfollow",defaultMessage:"Unfollow"},follow:{id:"account.follow",defaultMessage:"Follow"},followBack:{id:"account.follow_back",defaultMessage:"Follow back"},editProfile:{id:"account.edit_profile",defaultMessage:"Edit profile"}}),A=({accountId:o,compact:d})=>{const a=c(),t=M(),{signedIn:f}=k(),s=b(r=>o?r.accounts.get(o):void 0),e=b(r=>o?r.relationships.get(o):void 0),u=(e==null?void 0:e.following)||(e==null?void 0:e.requested);p.useEffect(()=>{o&&f&&t(x([o]))},[t,o,f]);const w=p.useCallback(()=>{f||t(g({modalType:"INTERACTION",modalProps:{type:"follow",accountId:o,url:s==null?void 0:s.url}})),!(!e||!o)&&o!==n&&(s&&(e.following||e.requested)?t(g({modalType:"CONFIRM_UNFOLLOW",modalProps:{account:s}})):t(_(o)))},[t,o,e,s,f]);let l;return f?o===n?l=a.formatMessage(i.editProfile):e?e.following||e.requested?l=a.formatMessage(i.unfollow):e.followed_by?l=a.formatMessage(i.followBack):l=a.formatMessage(i.follow):l=m.jsxDEV(y,{},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/components/follow_button.tsx",lineNumber:77,columnNumber:13},void 0):l=a.formatMessage(i.follow),o===n?m.jsxDEV("a",{href:"/settings/profile",target:"_blank",rel:"noopener",className:v("button button-secondary",{"button--compact":d}),children:l},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/components/follow_button.tsx",lineNumber:88,columnNumber:7},void 0):m.jsxDEV(j,{onClick:w,disabled:(e==null?void 0:e.blocked_by)||(e==null?void 0:e.blocking)||!(e!=null&&e.following||e!=null&&e.requested)&&((s==null?void 0:s.suspended)||!!(s!=null&&s.moved)),secondary:u,compact:d,className:u?"button--destructive":void 0,children:l},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/components/follow_button.tsx",lineNumber:102,columnNumber:5},void 0)};export{A as F};
//# sourceMappingURL=follow_button-DdHXSblv.js.map
