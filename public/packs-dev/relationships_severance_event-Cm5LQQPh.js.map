{"version":3,"file":"relationships_severance_event-Cm5LQQPh.js","sources":["../../app/javascript/material-icons/400-24px/flag-fill.svg?react","../../app/javascript/mastodon/features/notifications/components/moderation_warning.tsx","../../app/javascript/material-icons/400-24px/heart_broken-fill.svg?react","../../app/javascript/mastodon/features/notifications/components/relationships_severance_event.jsx"],"sourcesContent":["import * as React from \"react\";\nconst SvgFlagFill = (props) => /* @__PURE__ */ React.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", height: 24, viewBox: \"0 -960 960 960\", width: 24, ...props }, /* @__PURE__ */ React.createElement(\"path\", { d: \"M200-120v-680h360l16 80h224v400H520l-16-80H280v280h-80Z\" }));\nexport default SvgFlagFill;\n","import { defineMessages, FormattedMessage, useIntl } from 'react-intl';\n\nimport classNames from 'classnames';\n\nimport GavelIcon from '@/material-icons/400-24px/gavel.svg?react';\nimport { Icon } from 'mastodon/components/icon';\nimport type { AccountWarningAction } from 'mastodon/models/notification_group';\n\n// This needs to be kept in sync with app/models/account_warning.rb\nconst messages = defineMessages({\n  none: {\n    id: 'notification.moderation_warning.action_none',\n    defaultMessage: 'Your account has received a moderation warning.',\n  },\n  disable: {\n    id: 'notification.moderation_warning.action_disable',\n    defaultMessage: 'Your account has been disabled.',\n  },\n  mark_statuses_as_sensitive: {\n    id: 'notification.moderation_warning.action_mark_statuses_as_sensitive',\n    defaultMessage: 'Some of your posts have been marked as sensitive.',\n  },\n  delete_statuses: {\n    id: 'notification.moderation_warning.action_delete_statuses',\n    defaultMessage: 'Some of your posts have been removed.',\n  },\n  sensitive: {\n    id: 'notification.moderation_warning.action_sensitive',\n    defaultMessage: 'Your posts will be marked as sensitive from now on.',\n  },\n  silence: {\n    id: 'notification.moderation_warning.action_silence',\n    defaultMessage: 'Your account has been limited.',\n  },\n  suspend: {\n    id: 'notification.moderation_warning.action_suspend',\n    defaultMessage: 'Your account has been suspended.',\n  },\n});\n\ninterface Props {\n  action: AccountWarningAction;\n  id: string;\n  hidden?: boolean;\n  unread?: boolean;\n}\n\nexport const ModerationWarning: React.FC<Props> = ({\n  action,\n  id,\n  hidden,\n  unread,\n}) => {\n  const intl = useIntl();\n\n  if (hidden) {\n    return null;\n  }\n\n  return (\n    <div\n      role='button'\n      className={classNames(\n        'notification-group notification-group--link notification-group--moderation-warning focusable',\n        { 'notification-group--unread': unread },\n      )}\n      tabIndex={0}\n    >\n      <div className='notification-group__icon'>\n        <Icon id='warning' icon={GavelIcon} />\n      </div>\n\n      <div className='notification-group__main'>\n        <p>{intl.formatMessage(messages[action])}</p>\n        <a\n          href={`/disputes/strikes/${id}`}\n          target='_blank'\n          rel='noopener noreferrer'\n          className='link-button'\n        >\n          <FormattedMessage\n            id='notification.moderation-warning.learn_more'\n            defaultMessage='Learn more'\n          />\n        </a>\n      </div>\n    </div>\n  );\n};\n","import * as React from \"react\";\nconst SvgHeartBrokenFill = (props) => /* @__PURE__ */ React.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", height: 24, viewBox: \"0 -960 960 960\", width: 24, ...props }, /* @__PURE__ */ React.createElement(\"path\", { d: \"M481-83Q347-218 267.5-301t-121-138q-41.5-55-54-94T80-620q0-92 64-156t156-64q45 0 87 16.5t75 47.5l-62 216h120l-34 335 114-375H480l71-212q25-14 52.5-21t56.5-7q92 0 156 64t64 156q0 48-13 88t-55 95.5q-42 55.5-121 138T481-83Z\" }));\nexport default SvgHeartBrokenFill;\n","import PropTypes from 'prop-types';\n\nimport { defineMessages, FormattedMessage, useIntl } from 'react-intl';\n\nimport classNames from 'classnames';\n\nimport HeartBrokenIcon from '@/material-icons/400-24px/heart_broken-fill.svg?react';\nimport { Icon }  from 'mastodon/components/icon';\nimport { domain } from 'mastodon/initial_state';\n\n// This needs to be kept in sync with app/models/relationships_severance_event.rb\nconst messages = defineMessages({\n  account_suspension: { id: 'notification.relationships_severance_event.account_suspension', defaultMessage: 'An admin from {from} has suspended {target}, which means you can no longer receive updates from them or interact with them.' },\n  domain_block: { id: 'notification.relationships_severance_event.domain_block', defaultMessage: 'An admin from {from} has blocked {target}, including {followersCount} of your followers and {followingCount, plural, one {# account} other {# accounts}} you follow.' },\n  user_domain_block: { id: 'notification.relationships_severance_event.user_domain_block', defaultMessage: 'You have blocked {target}, removing {followersCount} of your followers and {followingCount, plural, one {# account} other {# accounts}} you follow.' },\n});\n\nexport const RelationshipsSeveranceEvent = ({ type, target, followingCount, followersCount, hidden, unread }) => {\n  const intl = useIntl();\n\n  if (hidden) {\n    return null;\n  }\n\n  return (\n    <div role='button' className={classNames('notification-group notification-group--link notification-group--relationships-severance-event focusable', { 'notification-group--unread': unread })} tabIndex='0'>\n      <div className='notification-group__icon'><Icon id='heart_broken' icon={HeartBrokenIcon} /></div>\n\n      <div className='notification-group__main'>\n        <p>{intl.formatMessage(messages[type], { from: <strong>{domain}</strong>, target: <strong>{target}</strong>, followingCount, followersCount })}</p>\n        <a href='/severed_relationships' target='_blank' rel='noopener' className='link-button'><FormattedMessage id='notification.relationships_severance_event.learn_more' defaultMessage='Learn more' /></a>\n      </div>\n    </div>\n  );\n};\n\nRelationshipsSeveranceEvent.propTypes = {\n  type: PropTypes.oneOf([\n    'account_suspension',\n    'domain_block',\n    'user_domain_block',\n  ]).isRequired,\n  target: PropTypes.string.isRequired,\n  followersCount: PropTypes.number.isRequired,\n  followingCount: PropTypes.number.isRequired,\n  hidden: PropTypes.bool,\n  unread: PropTypes.bool,\n};\n"],"names":["SvgFlagFill","props","React.createElement","messages","defineMessages","none","id","defaultMessage","disable","mark_statuses_as_sensitive","delete_statuses","sensitive","silence","suspend","ModerationWarning","action","hidden","unread","intl","useIntl","jsxDEV","classNames","Icon","GavelIcon","this","formatMessage","FormattedMessage","SvgHeartBrokenFill","account_suspension","domain_block","user_domain_block","RelationshipsSeveranceEvent","type","target","followingCount","followersCount","HeartBrokenIcon","from","domain"],"mappings":"8TACK,MAACA,EAAeC,GAA0BC,gBAAoB,MAAO,CAAE,MAAO,6BAA8B,OAAQ,GAAI,QAAS,iBAAkB,MAAO,GAAI,GAAGD,CAAK,EAAoBC,EAAAA,cAAoB,OAAQ,CAAE,EAAG,0DAA2D,CAAC,ECQtRC,EAAWC,EAAe,CAC9BC,KAAM,CACJC,GAAE,8CACFC,eAAc,iDAAA,EAEhBC,QAAS,CACPF,GAAE,iDACFC,eAAc,iCAAA,EAEhBE,2BAA4B,CAC1BH,GAAE,oEACFC,eAAc,mDAAA,EAEhBG,gBAAiB,CACfJ,GAAE,yDACFC,eAAc,uCAAA,EAEhBI,UAAW,CACTL,GAAE,mDACFC,eAAc,qDAAA,EAEhBK,QAAS,CACPN,GAAE,iDACFC,eAAc,gCAAA,EAEhBM,QAAS,CACPP,GAAE,iDACFC,eAAc,kCAAA,CAElB,CAAC,EASYO,EAAqCA,CAAC,CACjDC,OAAAA,EACAT,GAAAA,EACAU,OAAAA,EACAC,OAAAA,CACF,IAAM,CACJ,MAAMC,EAAOC,EAAAA,EAEb,OAAIH,EACK,KAIPI,EAAAA,OAAC,MAAA,CACC,KAAK,SACL,UAAWC,EACT,+FACA,CAAE,6BAA8BJ,CAAAA,CAAO,EAEzC,SAAU,EAEV,SAAA,CAAAG,EAAAA,OAAC,MAAA,CAAI,UAAU,2BACb,SAAAA,EAAAA,OAACE,GAAK,GAAG,UAAU,KAAMC,CAAAA,EAAzB,OAAA,GAAA,CAAA,SAAA,0HAAA,WAAA,GAAA,aAAA,CAAA,EAAAC,MAAmC,CAAA,EADrC,OAAA,GAAA,CAAA,SAAA,0HAAA,WAAA,GAAA,aAAA,CAAA,EAAAA,MAEA,EAEAJ,EAAAA,OAAC,MAAA,CAAI,UAAU,2BACb,SAAA,CAAAA,EAAAA,OAAC,KAAGF,SAAAA,EAAKO,cAActB,EAASY,CAAM,CAAC,GAAvC,OAAA,GAAA,CAAA,SAAA,0HAAA,WAAA,GAAA,aAAA,CAAA,EAAAS,MAAyC,EACzCJ,EAAAA,OAAC,IAAA,CACC,KAAM,qBAAqBd,CAAE,GAC7B,OAAO,SACP,IAAI,sBACJ,UAAU,cAEV,SAAAc,EAAAA,OAACM,EAAA,CACC,GAAE,6CACF,eAAe,YAAA,EAFjB,OAAA,GAAA,CAAA,SAAA,0HAAA,WAAA,GAAA,aAAA,EAAA,EAAAF,MAAA,CAE6B,EAR/B,OAAA,GAAA,CAAA,SAAA,0HAAA,WAAA,GAAA,aAAA,CAAA,EAAAA,MAAA,CAUA,CAAA,EAZF,OAAA,GAAA,CAAA,SAAA,0HAAA,WAAA,GAAA,aAAA,CAAA,EAAAA,MAaA,CAAA,CAAA,EAzBF,OAAA,GAAA,CAAA,SAAA,0HAAA,WAAA,GAAA,aAAA,CAAA,EAAAA,MAAA,CA4BJ,ECvFMG,EAAsB1B,GAA0BC,EAAAA,cAAoB,MAAO,CAAE,MAAO,6BAA8B,OAAQ,GAAI,QAAS,iBAAkB,MAAO,GAAI,GAAGD,GAAyBC,EAAAA,cAAoB,OAAQ,CAAE,EAAG,8NAA8N,CAAE,CAAC,ECUlcC,EAAWC,EAAe,CAC9BwB,mBAAoB,CAAEtB,GAAE,gEAAmEC,eAAc,6HAAA,EACzGsB,aAAc,CAAEvB,GAAE,0DAA6DC,eAAc,sKAAA,EAC7FuB,kBAAmB,CAAExB,kEAAoEC,qKAC3F,CAAC,EAEYwB,EAA8BA,CAAC,CAAEC,KAAAA,EAAMC,OAAAA,EAAQC,eAAAA,EAAgBC,eAAAA,EAAgBnB,OAAAA,EAAQC,OAAAA,KAAa,CAC/G,MAAMC,EAAOC,EAAAA,EAEb,OAAIH,EACK,KAIPI,EAAAA,OAAC,MAAA,CAAI,KAAK,SAAS,UAAWC,EAAW,0GAA2G,CAAE,6BAA8BJ,CAAAA,CAAQ,EAAG,SAAS,IACtM,SAAA,CAAAG,EAAAA,OAAC,MAAA,CAAI,UAAU,2BAA2B,SAAAA,EAAAA,OAACE,GAAK,GAAG,eAAe,KAAMc,CAAAA,EAA9B,OAAA,GAAA,CAAA,SAAA,qIAAA,WAAA,GAAA,aAAA,EAAA,EAAAZ,MAA8C,CAAA,EAAxF,OAAA,GAAA,CAAA,SAAA,qIAAA,WAAA,GAAA,aAAA,CAAA,EAAAA,MAA2F,EAE3FJ,EAAAA,OAAC,MAAA,CAAI,UAAU,2BACb,SAAA,CAAAA,EAAAA,OAAC,IAAA,CAAGF,SAAAA,EAAKO,cAActB,EAAS6B,CAAI,EAAG,CAAEK,KAAMjB,EAAAA,OAAC,SAAA,CAAQkB,SAAAA,CAAAA,EAAT,OAAA,GAAA,CAAA,SAAA,qIAAA,WAAA,GAAA,aAAA,EAAA,EAAAd,MAAgB,EAAWS,OAAQb,SAAC,SAAA,CAAQa,SAAAA,CAAAA,EAAT,OAAA,GAAA,CAAA,SAAA,qIAAA,WAAA,GAAA,aAAA,EAAA,EAAAT,MAAgB,EAAWU,eAAAA,EAAgBC,eAAAA,CAAAA,CAAgB,CAAA,EAA7I,OAAA,GAAA,CAAA,SAAA,qIAAA,WAAA,GAAA,aAAA,CAAA,EAAAX,MAA+I,EAC/IJ,SAAC,IAAA,CAAE,KAAK,yBAAyB,OAAO,SAAS,IAAI,WAAW,UAAU,cAAc,SAAAA,EAAAA,OAACM,EAAA,CAAiB,GAAE,wDAAyD,eAAe,YAAA,EAA5F,OAAA,GAAA,CAAA,SAAA,qIAAA,WAAA,GAAA,aAAA,EAAA,EAAAF,MAAwG,CAAA,EAAhM,OAAA,GAAA,CAAA,SAAA,qIAAA,WAAA,GAAA,aAAA,CAAA,EAAAA,MAAmM,CAAA,CAAA,EAFrM,OAAA,GAAA,CAAA,SAAA,qIAAA,WAAA,GAAA,aAAA,CAAA,EAAAA,MAGA,CAAA,CAAA,EANF,OAAA,GAAA,CAAA,SAAA,qIAAA,WAAA,GAAA,aAAA,CAAA,EAAAA,MAOA,CAEJ"}