var D=Object.defineProperty;var y=(o,t,s)=>t in o?D(o,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):o[t]=s;var u=(o,t,s)=>y(o,typeof t!="symbol"?t+"":t,s);import{j as a}from"./client-BG6VvM0b.js";import{P as i}from"./short_number--sxn3OKQ.js";import"./index-ykyyQSL-.js";import{j as _,dd as M,y as V,z as A,f as L,dm as C,df as j,H as T,dn as k,a as H}from"./useSelectableClick-DBo53LOf.js";import{A as P}from"./account-1vhP702Z.js";import{T as S}from"./timeline_hint-5iOue1yn.js";import{C as F,A as R,L as U}from"./limited_account_hint-BLPLzyiK.js";import{B as z}from"./bundle_column_error-BUenPHpF.js";import{g as q}from"./content_warning-ZcoJE_cd.js";import{L as K}from"./loading_indicator-BBuNQ1GS.js";import{S as G}from"./scrollable_list-DlG-2WSw.js";import{C as N}from"./column-u9iYs8RL.js";import{M as l}from"./message-Bb0z64dP.js";import"./numbers-CGZQWBYL.js";import"./api-uqk9CYtW.js";import"./index-lj9VQs0f.js";import"./initial_state-BP3UcUr4.js";import"./ready-DpOgoWSg.js";import"./index-DHslUCy5.js";import"./load_locale-C-B7BkCQ.js";import"./index-guCj-HqV.js";import"./index-JeRepxZU.js";import"./counters-BuwkZXvq.js";import"./follow_button-DdHXSblv.js";import"./skeleton-_5CK2hDo.js";import"./verified_badge-BOKoz3CJ.js";import"./column_header-CtuyYpNB.js";import"./add-ZanakRnh.js";import"./chevron_left-R_fqLHXp.js";import"./close-DPVxbBbs.js";import"./Helmet-D0DLVOv1.js";import"./notifications-CXGd1tL2.js";import"./notifications_active-fill-CAsA_fEC.js";import"./domain_blocks-DiDVA5xw.js";import"./reports-BY0N2xif.js";import"./group-D_XsjWSa.js";import"./person-BiDPmDpQ.js";import"./content_copy-BTldXt3w.js";import"./formatted_date-kPcGS90C.js";import"./react-textarea-autosize.browser.development.esm-B_jXmAxZ.js";import"./use-isomorphic-layout-effect.browser.esm-Bg5tPKmX.js";import"./permissions-Djze7cmB.js";import"./avatar_group-CaQvETuJ.js";import"./avatar_overlay-XCWEKsBg.js";import"./column-CXD4Tnpb.js";import"./scroll-BygYx8ga.js";import"./gif-CQLWVfmH.js";import"./scroll_container-BQpJ36fQ.js";import"./react-router-scroll-4.es-6ieDtVAa.js";import"./interopRequireDefault-CdiRfGvq.js";import"./schedule_idle_task-CTsEu-tt.js";import"./load_more-BJ-OkDO5.js";const J=(o,{params:{acct:t,id:s}})=>{const e=s||o.accounts_map[M(t)];return e?{accountId:e,remote:o.getIn(["accounts",e,"acct"])!==o.getIn(["accounts",e,"username"]),remoteUrl:o.getIn(["accounts",e,"url"]),isAccount:!!o.getIn(["accounts",e]),accountIds:o.getIn(["user_lists","followers",e,"items"]),hasMore:!!o.getIn(["user_lists","followers",e,"next"]),isLoading:o.getIn(["user_lists","followers",e,"isLoading"],!0),suspended:o.getIn(["accounts",e,"suspended"],!1),hideCollections:o.getIn(["accounts",e,"hide_collections"],!1),hidden:q(o,e),blockedBy:o.getIn(["relationships",e,"blocked_by"],!1)}:{isLoading:!0}},g=({accountId:o,url:t})=>{const s=H(r=>{var m;return(m=r.accounts.get(o))==null?void 0:m.acct}),e=s?s.split("@")[1]:void 0;return a.jsxDEV(S,{url:t,message:a.jsxDEV(l,{id:"hints.profiles.followers_may_be_missing",defaultMessage:"Followers for this profile may be missing."},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/followers/index.jsx",lineNumber:62,columnNumber:16},void 0),label:a.jsxDEV(l,{id:"hints.profiles.see_more_followers",defaultMessage:"See more followers on {domain}",values:{domain:a.jsxDEV("strong",{children:e},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/followers/index.jsx",lineNumber:63,columnNumber:137},void 0)}},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/followers/index.jsx",lineNumber:63,columnNumber:14},void 0)},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/followers/index.jsx",lineNumber:60,columnNumber:5},void 0)};class v extends V{constructor(){super(...arguments);u(this,"handleLoadMore",T(()=>{this.props.dispatch(k(this.props.accountId))},300,{leading:!0}))}_load(){const{accountId:s,isAccount:e,dispatch:r}=this.props;e||r(L(s)),r(C(s))}componentDidMount(){const{params:{acct:s},accountId:e,dispatch:r}=this.props;e?this._load():r(j(s))}componentDidUpdate(s){const{params:{acct:e},accountId:r,dispatch:m}=this.props;s.accountId!==r&&r?this._load():s.params.acct!==e&&m(j(e))}render(){const{accountId:s,accountIds:e,hasMore:r,blockedBy:m,isAccount:w,multiColumn:d,isLoading:B,suspended:p,hidden:c,remote:f,remoteUrl:h,hideCollections:I}=this.props;if(!w)return a.jsxDEV(z,{multiColumn:d,errorType:"routing"},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/followers/index.jsx",lineNumber:130,columnNumber:9},this);if(!e)return a.jsxDEV(N,{children:a.jsxDEV(K,{},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/followers/index.jsx",lineNumber:137,columnNumber:11},this)},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/followers/index.jsx",lineNumber:136,columnNumber:9},this);let n;const b=m||p||c;p?n=a.jsxDEV(l,{id:"empty_column.account_suspended",defaultMessage:"Account suspended"},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/followers/index.jsx",lineNumber:147,columnNumber:22},this):c?n=a.jsxDEV(U,{accountId:s},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/followers/index.jsx",lineNumber:149,columnNumber:22},this):m?n=a.jsxDEV(l,{id:"empty_column.account_unavailable",defaultMessage:"Profile unavailable"},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/followers/index.jsx",lineNumber:151,columnNumber:22},this):I&&e.isEmpty()?n=a.jsxDEV(l,{id:"empty_column.account_hides_collections",defaultMessage:"This user has chosen to not make this information available"},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/followers/index.jsx",lineNumber:153,columnNumber:22},this):f&&e.isEmpty()?n=a.jsxDEV(g,{accountId:s,url:h},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/followers/index.jsx",lineNumber:155,columnNumber:22},this):n=a.jsxDEV(l,{id:"account.followers.empty",defaultMessage:"No one follows this user yet."},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/followers/index.jsx",lineNumber:157,columnNumber:22},this);const E=f?a.jsxDEV(g,{accountId:s,url:h},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/followers/index.jsx",lineNumber:160,columnNumber:36},this):null;return a.jsxDEV(N,{children:[a.jsxDEV(F,{},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/followers/index.jsx",lineNumber:164,columnNumber:9},this),a.jsxDEV(G,{scrollKey:"followers",hasMore:!b&&r,isLoading:B,onLoadMore:this.handleLoadMore,prepend:a.jsxDEV(R,{accountId:this.props.accountId,hideTabs:!0},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/followers/index.jsx",lineNumber:171,columnNumber:20},this),alwaysPrepend:!0,append:E,emptyMessage:n,bindToDocument:!d,children:b?[]:e.map(x=>a.jsxDEV(P,{id:x},x,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/followers/index.jsx",lineNumber:178,columnNumber:11},this))},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/followers/index.jsx",lineNumber:166,columnNumber:9},this)]},void 0,!0,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/followers/index.jsx",lineNumber:163,columnNumber:7},this)}}u(v,"propTypes",{params:i.shape({acct:i.string,id:i.string}).isRequired,accountId:i.string,dispatch:i.func.isRequired,accountIds:A.list,hasMore:i.bool,isLoading:i.bool,blockedBy:i.bool,isAccount:i.bool,suspended:i.bool,hidden:i.bool,remote:i.bool,remoteUrl:i.string,multiColumn:i.bool});const Je=_(J)(v);export{Je as default};
//# sourceMappingURL=followers-index-C5jTy25N.js.map
