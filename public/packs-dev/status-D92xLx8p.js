var ls=Object.defineProperty;var cs=(t,a,e)=>a in t?ls(t,a,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[a]=e;var g=(t,a,e)=>cs(t,typeof a!="symbol"?a+"":a,e);import{j as c}from"./client-BG6VvM0b.js";import{L as z,w as ds,P as m}from"./short_number--sxn3OKQ.js";import{r as w,g as Hn,i as Vn,d as Fn}from"./index-ykyyQSL-.js";import{c as K}from"./index-guCj-HqV.js";import{u as ps,r as ms,I as Q,B as hs,j as fs,y as Ln,aR as gs,z as $,aS as vs,b as W,aT as fa,v as _s,w as bs,aU as ys,aV as Ns,aW as xs,ab as Kn,aX as qs,aY as Cs,a as Gn,aZ as js,a_ as Ms,A as Is}from"./useSelectableClick-DBo53LOf.js";import{i as Ca}from"./index.es-D--CQIAj.js";import{ab as As,ac as Ds,b as Rs,S as Es,W as ue,ad as Ts,ae as Ss,af as Ps,D as ws,ag as Bs,d as ks}from"./content_warning-ZcoJE_cd.js";import{M as B}from"./message-Bb0z64dP.js";import{C as Os}from"./card-v59kuVL6.js";import{e as ja,y as Ma}from"./initial_state-BP3UcUr4.js";import{A as Hs}from"./avatar_overlay-XCWEKsBg.js";import{f as Y,g as va,h as k,i as ee,j as Vs,k as Fs,m as _a,R as Ls}from"./index-DHslUCy5.js";import{r as O,a as Ks}from"./toString-CBWlLvSL.js";import{g as Gs,S as Us}from"./status_content-BS1khha6.js";import{P as Z,b as X}from"./permissions-Djze7cmB.js";import{V as zs}from"./visibility_icon-B5XmIQZP.js";const $s=({title:t,expanded:a,onClick:e})=>c.jsxDEV(As,{expanded:a,onClick:e,variant:Ds.Filter,children:c.jsxDEV(B,{id:"filter_warning.matches_filter",defaultMessage:"Matches filter “<span>{title}</span>”",values:{title:t,span:r=>c.jsxDEV("span",{className:"filter-name",children:r},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/components/filter_warning.tsx",lineNumber:20,columnNumber:25},void 0)}},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/components/filter_warning.tsx",lineNumber:15,columnNumber:5},void 0)},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/components/filter_warning.tsx",lineNumber:10,columnNumber:1},void 0),Ws=t=>w.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:24,viewBox:"0 -960 960 960",width:24,...t},w.createElement("path",{d:"M160-160q-33 0-56.5-23.5T80-240v-280h80v280h640v-480H440v-80h360q33 0 56.5 23.5T880-720v480q0 33-23.5 56.5T800-160H160Zm523-140 57-57-124-123h104v-80H480v240h80v-103l123 123ZM80-600v-200h280v200H80Zm400 120Z"})),Zs=({aspectRatio:t})=>{const a=ps(),e=w.useCallback(()=>{a(ms())},[a]),r=w.useCallback(n=>{(n.key==="Enter"||n.key===" ")&&(n.preventDefault(),n.stopPropagation(),e())},[e]);return c.jsxDEV("div",{className:"picture-in-picture-placeholder",style:{aspectRatio:t},role:"button",tabIndex:0,onClick:e,onKeyDownCapture:r,children:[c.jsxDEV(Q,{id:"",icon:Ws},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/components/picture_in_picture_placeholder.tsx",lineNumber:39,columnNumber:7},void 0),c.jsxDEV(B,{id:"picture_in_picture.restore",defaultMessage:"Put it back"},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/components/picture_in_picture_placeholder.tsx",lineNumber:40,columnNumber:7},void 0)]},void 0,!0,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/components/picture_in_picture_placeholder.tsx",lineNumber:31,columnNumber:5},void 0)},Un=w.createContext({hideMediaByDefault:!1}),pu=({hideMediaByDefault:t,children:a})=>{const e=w.useMemo(()=>({hideMediaByDefault:t}),[t]);return c.jsxDEV(Un.Provider,{value:e,children:a},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/ui/util/sensitive_media_context.tsx",lineNumber:24,columnNumber:5},void 0)};var le,Ia;function zn(){if(Ia)return le;Ia=1;var t=Y(),a=va(),e="[object AsyncFunction]",r="[object Function]",n="[object GeneratorFunction]",s="[object Proxy]";function i(o){if(!a(o))return!1;var l=t(o);return l==r||l==n||l==e||l==s}return le=i,le}var ce,Aa;function Xs(){if(Aa)return ce;Aa=1;var t=k(),a=t["__core-js_shared__"];return ce=a,ce}var de,Da;function Js(){if(Da)return de;Da=1;var t=Xs(),a=function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function e(r){return!!a&&a in r}return de=e,de}var pe,Ra;function $n(){if(Ra)return pe;Ra=1;var t=Function.prototype,a=t.toString;function e(r){if(r!=null){try{return a.call(r)}catch{}try{return r+""}catch{}}return""}return pe=e,pe}var me,Ea;function Qs(){if(Ea)return me;Ea=1;var t=zn(),a=Js(),e=va(),r=$n(),n=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,i=Function.prototype,o=Object.prototype,l=i.toString,d=o.hasOwnProperty,f=RegExp("^"+l.call(d).replace(n,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function h(b){if(!e(b)||a(b))return!1;var v=t(b)?f:s;return v.test(r(b))}return me=h,me}var he,Ta;function Ys(){if(Ta)return he;Ta=1;function t(a,e){return a==null?void 0:a[e]}return he=t,he}var fe,Sa;function V(){if(Sa)return fe;Sa=1;var t=Qs(),a=Ys();function e(r,n){var s=a(r,n);return t(s)?s:void 0}return fe=e,fe}var ge,Pa;function ei(){if(Pa)return ge;Pa=1;var t=V(),a=function(){try{var e=t(Object,"defineProperty");return e({},"",{}),e}catch{}}();return ge=a,ge}var ve,wa;function ti(){if(wa)return ve;wa=1;var t=ei();function a(e,r,n){r=="__proto__"&&t?t(e,r,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[r]=n}return ve=a,ve}var _e,Ba;function ai(){if(Ba)return _e;Ba=1;function t(a,e,r,n){for(var s=-1,i=a==null?0:a.length;++s<i;){var o=a[s];e(n,o,r(o),a)}return n}return _e=t,_e}var be,ka;function ri(){if(ka)return be;ka=1;function t(a){return function(e,r,n){for(var s=-1,i=Object(e),o=n(e),l=o.length;l--;){var d=o[a?l:++s];if(r(i[d],d,i)===!1)break}return e}}return be=t,be}var ye,Oa;function ni(){if(Oa)return ye;Oa=1;var t=ri(),a=t();return ye=a,ye}var Ne,Ha;function si(){if(Ha)return Ne;Ha=1;function t(a,e){for(var r=-1,n=Array(a);++r<a;)n[r]=e(r);return n}return Ne=t,Ne}var xe,Va;function ii(){if(Va)return xe;Va=1;var t=Y(),a=ee(),e="[object Arguments]";function r(n){return a(n)&&t(n)==e}return xe=r,xe}var qe,Fa;function Wn(){if(Fa)return qe;Fa=1;var t=ii(),a=ee(),e=Object.prototype,r=e.hasOwnProperty,n=e.propertyIsEnumerable,s=t(function(){return arguments}())?t:function(i){return a(i)&&r.call(i,"callee")&&!n.call(i,"callee")};return qe=s,qe}var G={exports:{}},Ce,La;function oi(){if(La)return Ce;La=1;function t(){return!1}return Ce=t,Ce}G.exports;var Ka;function Zn(){return Ka||(Ka=1,function(t,a){var e=k(),r=oi(),n=a&&!a.nodeType&&a,s=n&&!0&&t&&!t.nodeType&&t,i=s&&s.exports===n,o=i?e.Buffer:void 0,l=o?o.isBuffer:void 0,d=l||r;t.exports=d}(G,G.exports)),G.exports}var je,Ga;function Xn(){if(Ga)return je;Ga=1;var t=9007199254740991,a=/^(?:0|[1-9]\d*)$/;function e(r,n){var s=typeof r;return n=n??t,!!n&&(s=="number"||s!="symbol"&&a.test(r))&&r>-1&&r%1==0&&r<n}return je=e,je}var Me,Ua;function ba(){if(Ua)return Me;Ua=1;var t=9007199254740991;function a(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=t}return Me=a,Me}var Ie,za;function ui(){if(za)return Ie;za=1;var t=Y(),a=ba(),e=ee(),r="[object Arguments]",n="[object Array]",s="[object Boolean]",i="[object Date]",o="[object Error]",l="[object Function]",d="[object Map]",f="[object Number]",h="[object Object]",b="[object RegExp]",v="[object Set]",I="[object String]",_="[object WeakMap]",p="[object ArrayBuffer]",u="[object DataView]",y="[object Float32Array]",A="[object Float64Array]",q="[object Int8Array]",M="[object Int16Array]",N="[object Int32Array]",x="[object Uint8Array]",D="[object Uint8ClampedArray]",R="[object Uint16Array]",E="[object Uint32Array]",j={};j[y]=j[A]=j[q]=j[M]=j[N]=j[x]=j[D]=j[R]=j[E]=!0,j[r]=j[n]=j[p]=j[s]=j[u]=j[i]=j[o]=j[l]=j[d]=j[f]=j[h]=j[b]=j[v]=j[I]=j[_]=!1;function P(S){return e(S)&&a(S.length)&&!!j[t(S)]}return Ie=P,Ie}var Ae,$a;function li(){if($a)return Ae;$a=1;function t(a){return function(e){return a(e)}}return Ae=t,Ae}var U={exports:{}};U.exports;var Wa;function ci(){return Wa||(Wa=1,function(t,a){var e=Vs(),r=a&&!a.nodeType&&a,n=r&&!0&&t&&!t.nodeType&&t,s=n&&n.exports===r,i=s&&e.process,o=function(){try{var l=n&&n.require&&n.require("util").types;return l||i&&i.binding&&i.binding("util")}catch{}}();t.exports=o}(U,U.exports)),U.exports}var De,Za;function Jn(){if(Za)return De;Za=1;var t=ui(),a=li(),e=ci(),r=e&&e.isTypedArray,n=r?a(r):t;return De=n,De}var Re,Xa;function di(){if(Xa)return Re;Xa=1;var t=si(),a=Wn(),e=O(),r=Zn(),n=Xn(),s=Jn(),i=Object.prototype,o=i.hasOwnProperty;function l(d,f){var h=e(d),b=!h&&a(d),v=!h&&!b&&r(d),I=!h&&!b&&!v&&s(d),_=h||b||v||I,p=_?t(d.length,String):[],u=p.length;for(var y in d)(f||o.call(d,y))&&!(_&&(y=="length"||v&&(y=="offset"||y=="parent")||I&&(y=="buffer"||y=="byteLength"||y=="byteOffset")||n(y,u)))&&p.push(y);return p}return Re=l,Re}var Ee,Ja;function pi(){if(Ja)return Ee;Ja=1;var t=Object.prototype;function a(e){var r=e&&e.constructor,n=typeof r=="function"&&r.prototype||t;return e===n}return Ee=a,Ee}var Te,Qa;function mi(){if(Qa)return Te;Qa=1;function t(a,e){return function(r){return a(e(r))}}return Te=t,Te}var Se,Ya;function hi(){if(Ya)return Se;Ya=1;var t=mi(),a=t(Object.keys,Object);return Se=a,Se}var Pe,er;function fi(){if(er)return Pe;er=1;var t=pi(),a=hi(),e=Object.prototype,r=e.hasOwnProperty;function n(s){if(!t(s))return a(s);var i=[];for(var o in Object(s))r.call(s,o)&&o!="constructor"&&i.push(o);return i}return Pe=n,Pe}var we,tr;function Qn(){if(tr)return we;tr=1;var t=zn(),a=ba();function e(r){return r!=null&&a(r.length)&&!t(r)}return we=e,we}var Be,ar;function ya(){if(ar)return Be;ar=1;var t=di(),a=fi(),e=Qn();function r(n){return e(n)?t(n):a(n)}return Be=r,Be}var ke,rr;function gi(){if(rr)return ke;rr=1;var t=ni(),a=ya();function e(r,n){return r&&t(r,n,a)}return ke=e,ke}var Oe,nr;function vi(){if(nr)return Oe;nr=1;var t=Qn();function a(e,r){return function(n,s){if(n==null)return n;if(!t(n))return e(n,s);for(var i=n.length,o=r?i:-1,l=Object(n);(r?o--:++o<i)&&s(l[o],o,l)!==!1;);return n}}return Oe=a,Oe}var He,sr;function _i(){if(sr)return He;sr=1;var t=gi(),a=vi(),e=a(t);return He=e,He}var Ve,ir;function bi(){if(ir)return Ve;ir=1;var t=_i();function a(e,r,n,s){return t(e,function(i,o,l){r(s,i,n(i),l)}),s}return Ve=a,Ve}var Fe,or;function yi(){if(or)return Fe;or=1;function t(){this.__data__=[],this.size=0}return Fe=t,Fe}var Le,ur;function Yn(){if(ur)return Le;ur=1;function t(a,e){return a===e||a!==a&&e!==e}return Le=t,Le}var Ke,lr;function te(){if(lr)return Ke;lr=1;var t=Yn();function a(e,r){for(var n=e.length;n--;)if(t(e[n][0],r))return n;return-1}return Ke=a,Ke}var Ge,cr;function Ni(){if(cr)return Ge;cr=1;var t=te(),a=Array.prototype,e=a.splice;function r(n){var s=this.__data__,i=t(s,n);if(i<0)return!1;var o=s.length-1;return i==o?s.pop():e.call(s,i,1),--this.size,!0}return Ge=r,Ge}var Ue,dr;function xi(){if(dr)return Ue;dr=1;var t=te();function a(e){var r=this.__data__,n=t(r,e);return n<0?void 0:r[n][1]}return Ue=a,Ue}var ze,pr;function qi(){if(pr)return ze;pr=1;var t=te();function a(e){return t(this.__data__,e)>-1}return ze=a,ze}var $e,mr;function Ci(){if(mr)return $e;mr=1;var t=te();function a(e,r){var n=this.__data__,s=t(n,e);return s<0?(++this.size,n.push([e,r])):n[s][1]=r,this}return $e=a,$e}var We,hr;function ae(){if(hr)return We;hr=1;var t=yi(),a=Ni(),e=xi(),r=qi(),n=Ci();function s(i){var o=-1,l=i==null?0:i.length;for(this.clear();++o<l;){var d=i[o];this.set(d[0],d[1])}}return s.prototype.clear=t,s.prototype.delete=a,s.prototype.get=e,s.prototype.has=r,s.prototype.set=n,We=s,We}var Ze,fr;function ji(){if(fr)return Ze;fr=1;var t=ae();function a(){this.__data__=new t,this.size=0}return Ze=a,Ze}var Xe,gr;function Mi(){if(gr)return Xe;gr=1;function t(a){var e=this.__data__,r=e.delete(a);return this.size=e.size,r}return Xe=t,Xe}var Je,vr;function Ii(){if(vr)return Je;vr=1;function t(a){return this.__data__.get(a)}return Je=t,Je}var Qe,_r;function Ai(){if(_r)return Qe;_r=1;function t(a){return this.__data__.has(a)}return Qe=t,Qe}var Ye,br;function Na(){if(br)return Ye;br=1;var t=V(),a=k(),e=t(a,"Map");return Ye=e,Ye}var et,yr;function re(){if(yr)return et;yr=1;var t=V(),a=t(Object,"create");return et=a,et}var tt,Nr;function Di(){if(Nr)return tt;Nr=1;var t=re();function a(){this.__data__=t?t(null):{},this.size=0}return tt=a,tt}var at,xr;function Ri(){if(xr)return at;xr=1;function t(a){var e=this.has(a)&&delete this.__data__[a];return this.size-=e?1:0,e}return at=t,at}var rt,qr;function Ei(){if(qr)return rt;qr=1;var t=re(),a="__lodash_hash_undefined__",e=Object.prototype,r=e.hasOwnProperty;function n(s){var i=this.__data__;if(t){var o=i[s];return o===a?void 0:o}return r.call(i,s)?i[s]:void 0}return rt=n,rt}var nt,Cr;function Ti(){if(Cr)return nt;Cr=1;var t=re(),a=Object.prototype,e=a.hasOwnProperty;function r(n){var s=this.__data__;return t?s[n]!==void 0:e.call(s,n)}return nt=r,nt}var st,jr;function Si(){if(jr)return st;jr=1;var t=re(),a="__lodash_hash_undefined__";function e(r,n){var s=this.__data__;return this.size+=this.has(r)?0:1,s[r]=t&&n===void 0?a:n,this}return st=e,st}var it,Mr;function Pi(){if(Mr)return it;Mr=1;var t=Di(),a=Ri(),e=Ei(),r=Ti(),n=Si();function s(i){var o=-1,l=i==null?0:i.length;for(this.clear();++o<l;){var d=i[o];this.set(d[0],d[1])}}return s.prototype.clear=t,s.prototype.delete=a,s.prototype.get=e,s.prototype.has=r,s.prototype.set=n,it=s,it}var ot,Ir;function wi(){if(Ir)return ot;Ir=1;var t=Pi(),a=ae(),e=Na();function r(){this.size=0,this.__data__={hash:new t,map:new(e||a),string:new t}}return ot=r,ot}var ut,Ar;function Bi(){if(Ar)return ut;Ar=1;function t(a){var e=typeof a;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?a!=="__proto__":a===null}return ut=t,ut}var lt,Dr;function ne(){if(Dr)return lt;Dr=1;var t=Bi();function a(e,r){var n=e.__data__;return t(r)?n[typeof r=="string"?"string":"hash"]:n.map}return lt=a,lt}var ct,Rr;function ki(){if(Rr)return ct;Rr=1;var t=ne();function a(e){var r=t(this,e).delete(e);return this.size-=r?1:0,r}return ct=a,ct}var dt,Er;function Oi(){if(Er)return dt;Er=1;var t=ne();function a(e){return t(this,e).get(e)}return dt=a,dt}var pt,Tr;function Hi(){if(Tr)return pt;Tr=1;var t=ne();function a(e){return t(this,e).has(e)}return pt=a,pt}var mt,Sr;function Vi(){if(Sr)return mt;Sr=1;var t=ne();function a(e,r){var n=t(this,e),s=n.size;return n.set(e,r),this.size+=n.size==s?0:1,this}return mt=a,mt}var ht,Pr;function xa(){if(Pr)return ht;Pr=1;var t=wi(),a=ki(),e=Oi(),r=Hi(),n=Vi();function s(i){var o=-1,l=i==null?0:i.length;for(this.clear();++o<l;){var d=i[o];this.set(d[0],d[1])}}return s.prototype.clear=t,s.prototype.delete=a,s.prototype.get=e,s.prototype.has=r,s.prototype.set=n,ht=s,ht}var ft,wr;function Fi(){if(wr)return ft;wr=1;var t=ae(),a=Na(),e=xa(),r=200;function n(s,i){var o=this.__data__;if(o instanceof t){var l=o.__data__;if(!a||l.length<r-1)return l.push([s,i]),this.size=++o.size,this;o=this.__data__=new e(l)}return o.set(s,i),this.size=o.size,this}return ft=n,ft}var gt,Br;function es(){if(Br)return gt;Br=1;var t=ae(),a=ji(),e=Mi(),r=Ii(),n=Ai(),s=Fi();function i(o){var l=this.__data__=new t(o);this.size=l.size}return i.prototype.clear=a,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=n,i.prototype.set=s,gt=i,gt}var vt,kr;function Li(){if(kr)return vt;kr=1;var t="__lodash_hash_undefined__";function a(e){return this.__data__.set(e,t),this}return vt=a,vt}var _t,Or;function Ki(){if(Or)return _t;Or=1;function t(a){return this.__data__.has(a)}return _t=t,_t}var bt,Hr;function Gi(){if(Hr)return bt;Hr=1;var t=xa(),a=Li(),e=Ki();function r(n){var s=-1,i=n==null?0:n.length;for(this.__data__=new t;++s<i;)this.add(n[s])}return r.prototype.add=r.prototype.push=a,r.prototype.has=e,bt=r,bt}var yt,Vr;function Ui(){if(Vr)return yt;Vr=1;function t(a,e){for(var r=-1,n=a==null?0:a.length;++r<n;)if(e(a[r],r,a))return!0;return!1}return yt=t,yt}var Nt,Fr;function zi(){if(Fr)return Nt;Fr=1;function t(a,e){return a.has(e)}return Nt=t,Nt}var xt,Lr;function ts(){if(Lr)return xt;Lr=1;var t=Gi(),a=Ui(),e=zi(),r=1,n=2;function s(i,o,l,d,f,h){var b=l&r,v=i.length,I=o.length;if(v!=I&&!(b&&I>v))return!1;var _=h.get(i),p=h.get(o);if(_&&p)return _==o&&p==i;var u=-1,y=!0,A=l&n?new t:void 0;for(h.set(i,o),h.set(o,i);++u<v;){var q=i[u],M=o[u];if(d)var N=b?d(M,q,u,o,i,h):d(q,M,u,i,o,h);if(N!==void 0){if(N)continue;y=!1;break}if(A){if(!a(o,function(x,D){if(!e(A,D)&&(q===x||f(q,x,l,d,h)))return A.push(D)})){y=!1;break}}else if(!(q===M||f(q,M,l,d,h))){y=!1;break}}return h.delete(i),h.delete(o),y}return xt=s,xt}var qt,Kr;function $i(){if(Kr)return qt;Kr=1;var t=k(),a=t.Uint8Array;return qt=a,qt}var Ct,Gr;function Wi(){if(Gr)return Ct;Gr=1;function t(a){var e=-1,r=Array(a.size);return a.forEach(function(n,s){r[++e]=[s,n]}),r}return Ct=t,Ct}var jt,Ur;function Zi(){if(Ur)return jt;Ur=1;function t(a){var e=-1,r=Array(a.size);return a.forEach(function(n){r[++e]=n}),r}return jt=t,jt}var Mt,zr;function Xi(){if(zr)return Mt;zr=1;var t=Fs(),a=$i(),e=Yn(),r=ts(),n=Wi(),s=Zi(),i=1,o=2,l="[object Boolean]",d="[object Date]",f="[object Error]",h="[object Map]",b="[object Number]",v="[object RegExp]",I="[object Set]",_="[object String]",p="[object Symbol]",u="[object ArrayBuffer]",y="[object DataView]",A=t?t.prototype:void 0,q=A?A.valueOf:void 0;function M(N,x,D,R,E,j,P){switch(D){case y:if(N.byteLength!=x.byteLength||N.byteOffset!=x.byteOffset)return!1;N=N.buffer,x=x.buffer;case u:return!(N.byteLength!=x.byteLength||!j(new a(N),new a(x)));case l:case d:case b:return e(+N,+x);case f:return N.name==x.name&&N.message==x.message;case v:case _:return N==x+"";case h:var S=n;case I:var L=R&i;if(S||(S=s),N.size!=x.size&&!L)return!1;var F=P.get(N);if(F)return F==x;R|=o,P.set(N,x);var H=r(S(N),S(x),R,E,j,P);return P.delete(N),H;case p:if(q)return q.call(N)==q.call(x)}return!1}return Mt=M,Mt}var It,$r;function Ji(){if($r)return It;$r=1;function t(a,e){for(var r=-1,n=e.length,s=a.length;++r<n;)a[s+r]=e[r];return a}return It=t,It}var At,Wr;function Qi(){if(Wr)return At;Wr=1;var t=Ji(),a=O();function e(r,n,s){var i=n(r);return a(r)?i:t(i,s(r))}return At=e,At}var Dt,Zr;function Yi(){if(Zr)return Dt;Zr=1;function t(a,e){for(var r=-1,n=a==null?0:a.length,s=0,i=[];++r<n;){var o=a[r];e(o,r,a)&&(i[s++]=o)}return i}return Dt=t,Dt}var Rt,Xr;function eo(){if(Xr)return Rt;Xr=1;function t(){return[]}return Rt=t,Rt}var Et,Jr;function to(){if(Jr)return Et;Jr=1;var t=Yi(),a=eo(),e=Object.prototype,r=e.propertyIsEnumerable,n=Object.getOwnPropertySymbols,s=n?function(i){return i==null?[]:(i=Object(i),t(n(i),function(o){return r.call(i,o)}))}:a;return Et=s,Et}var Tt,Qr;function ao(){if(Qr)return Tt;Qr=1;var t=Qi(),a=to(),e=ya();function r(n){return t(n,e,a)}return Tt=r,Tt}var St,Yr;function ro(){if(Yr)return St;Yr=1;var t=ao(),a=1,e=Object.prototype,r=e.hasOwnProperty;function n(s,i,o,l,d,f){var h=o&a,b=t(s),v=b.length,I=t(i),_=I.length;if(v!=_&&!h)return!1;for(var p=v;p--;){var u=b[p];if(!(h?u in i:r.call(i,u)))return!1}var y=f.get(s),A=f.get(i);if(y&&A)return y==i&&A==s;var q=!0;f.set(s,i),f.set(i,s);for(var M=h;++p<v;){u=b[p];var N=s[u],x=i[u];if(l)var D=h?l(x,N,u,i,s,f):l(N,x,u,s,i,f);if(!(D===void 0?N===x||d(N,x,o,l,f):D)){q=!1;break}M||(M=u=="constructor")}if(q&&!M){var R=s.constructor,E=i.constructor;R!=E&&"constructor"in s&&"constructor"in i&&!(typeof R=="function"&&R instanceof R&&typeof E=="function"&&E instanceof E)&&(q=!1)}return f.delete(s),f.delete(i),q}return St=n,St}var Pt,en;function no(){if(en)return Pt;en=1;var t=V(),a=k(),e=t(a,"DataView");return Pt=e,Pt}var wt,tn;function so(){if(tn)return wt;tn=1;var t=V(),a=k(),e=t(a,"Promise");return wt=e,wt}var Bt,an;function io(){if(an)return Bt;an=1;var t=V(),a=k(),e=t(a,"Set");return Bt=e,Bt}var kt,rn;function oo(){if(rn)return kt;rn=1;var t=V(),a=k(),e=t(a,"WeakMap");return kt=e,kt}var Ot,nn;function uo(){if(nn)return Ot;nn=1;var t=no(),a=Na(),e=so(),r=io(),n=oo(),s=Y(),i=$n(),o="[object Map]",l="[object Object]",d="[object Promise]",f="[object Set]",h="[object WeakMap]",b="[object DataView]",v=i(t),I=i(a),_=i(e),p=i(r),u=i(n),y=s;return(t&&y(new t(new ArrayBuffer(1)))!=b||a&&y(new a)!=o||e&&y(e.resolve())!=d||r&&y(new r)!=f||n&&y(new n)!=h)&&(y=function(A){var q=s(A),M=q==l?A.constructor:void 0,N=M?i(M):"";if(N)switch(N){case v:return b;case I:return o;case _:return d;case p:return f;case u:return h}return q}),Ot=y,Ot}var Ht,sn;function lo(){if(sn)return Ht;sn=1;var t=es(),a=ts(),e=Xi(),r=ro(),n=uo(),s=O(),i=Zn(),o=Jn(),l=1,d="[object Arguments]",f="[object Array]",h="[object Object]",b=Object.prototype,v=b.hasOwnProperty;function I(_,p,u,y,A,q){var M=s(_),N=s(p),x=M?f:n(_),D=N?f:n(p);x=x==d?h:x,D=D==d?h:D;var R=x==h,E=D==h,j=x==D;if(j&&i(_)){if(!i(p))return!1;M=!0,R=!1}if(j&&!R)return q||(q=new t),M||o(_)?a(_,p,u,y,A,q):e(_,p,x,u,y,A,q);if(!(u&l)){var P=R&&v.call(_,"__wrapped__"),S=E&&v.call(p,"__wrapped__");if(P||S){var L=P?_.value():_,F=S?p.value():p;return q||(q=new t),A(L,F,u,y,q)}}return j?(q||(q=new t),r(_,p,u,y,A,q)):!1}return Ht=I,Ht}var Vt,on;function as(){if(on)return Vt;on=1;var t=lo(),a=ee();function e(r,n,s,i,o){return r===n?!0:r==null||n==null||!a(r)&&!a(n)?r!==r&&n!==n:t(r,n,s,i,e,o)}return Vt=e,Vt}var Ft,un;function co(){if(un)return Ft;un=1;var t=es(),a=as(),e=1,r=2;function n(s,i,o,l){var d=o.length,f=d,h=!l;if(s==null)return!f;for(s=Object(s);d--;){var b=o[d];if(h&&b[2]?b[1]!==s[b[0]]:!(b[0]in s))return!1}for(;++d<f;){b=o[d];var v=b[0],I=s[v],_=b[1];if(h&&b[2]){if(I===void 0&&!(v in s))return!1}else{var p=new t;if(l)var u=l(I,_,v,s,i,p);if(!(u===void 0?a(_,I,e|r,l,p):u))return!1}}return!0}return Ft=n,Ft}var Lt,ln;function rs(){if(ln)return Lt;ln=1;var t=va();function a(e){return e===e&&!t(e)}return Lt=a,Lt}var Kt,cn;function po(){if(cn)return Kt;cn=1;var t=rs(),a=ya();function e(r){for(var n=a(r),s=n.length;s--;){var i=n[s],o=r[i];n[s]=[i,o,t(o)]}return n}return Kt=e,Kt}var Gt,dn;function ns(){if(dn)return Gt;dn=1;function t(a,e){return function(r){return r==null?!1:r[a]===e&&(e!==void 0||a in Object(r))}}return Gt=t,Gt}var Ut,pn;function mo(){if(pn)return Ut;pn=1;var t=co(),a=po(),e=ns();function r(n){var s=a(n);return s.length==1&&s[0][2]?e(s[0][0],s[0][1]):function(i){return i===n||t(i,n,s)}}return Ut=r,Ut}var zt,mn;function qa(){if(mn)return zt;mn=1;var t=O(),a=_a(),e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function n(s,i){if(t(s))return!1;var o=typeof s;return o=="number"||o=="symbol"||o=="boolean"||s==null||a(s)?!0:r.test(s)||!e.test(s)||i!=null&&s in Object(i)}return zt=n,zt}var $t,hn;function ho(){if(hn)return $t;hn=1;var t=xa(),a="Expected a function";function e(r,n){if(typeof r!="function"||n!=null&&typeof n!="function")throw new TypeError(a);var s=function(){var i=arguments,o=n?n.apply(this,i):i[0],l=s.cache;if(l.has(o))return l.get(o);var d=r.apply(this,i);return s.cache=l.set(o,d)||l,d};return s.cache=new(e.Cache||t),s}return e.Cache=t,$t=e,$t}var Wt,fn;function fo(){if(fn)return Wt;fn=1;var t=ho(),a=500;function e(r){var n=t(r,function(i){return s.size===a&&s.clear(),i}),s=n.cache;return n}return Wt=e,Wt}var Zt,gn;function go(){if(gn)return Zt;gn=1;var t=fo(),a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,e=/\\(\\)?/g,r=t(function(n){var s=[];return n.charCodeAt(0)===46&&s.push(""),n.replace(a,function(i,o,l,d){s.push(l?d.replace(e,"$1"):o||i)}),s});return Zt=r,Zt}var Xt,vn;function ss(){if(vn)return Xt;vn=1;var t=O(),a=qa(),e=go(),r=Ks();function n(s,i){return t(s)?s:a(s,i)?[s]:e(r(s))}return Xt=n,Xt}var Jt,_n;function se(){if(_n)return Jt;_n=1;var t=_a();function a(e){if(typeof e=="string"||t(e))return e;var r=e+"";return r=="0"&&1/e==-1/0?"-0":r}return Jt=a,Jt}var Qt,bn;function is(){if(bn)return Qt;bn=1;var t=ss(),a=se();function e(r,n){n=t(n,r);for(var s=0,i=n.length;r!=null&&s<i;)r=r[a(n[s++])];return s&&s==i?r:void 0}return Qt=e,Qt}var Yt,yn;function vo(){if(yn)return Yt;yn=1;var t=is();function a(e,r,n){var s=e==null?void 0:t(e,r);return s===void 0?n:s}return Yt=a,Yt}var ea,Nn;function _o(){if(Nn)return ea;Nn=1;function t(a,e){return a!=null&&e in Object(a)}return ea=t,ea}var ta,xn;function bo(){if(xn)return ta;xn=1;var t=ss(),a=Wn(),e=O(),r=Xn(),n=ba(),s=se();function i(o,l,d){l=t(l,o);for(var f=-1,h=l.length,b=!1;++f<h;){var v=s(l[f]);if(!(b=o!=null&&d(o,v)))break;o=o[v]}return b||++f!=h?b:(h=o==null?0:o.length,!!h&&n(h)&&r(v,h)&&(e(o)||a(o)))}return ta=i,ta}var aa,qn;function yo(){if(qn)return aa;qn=1;var t=_o(),a=bo();function e(r,n){return r!=null&&a(r,n,t)}return aa=e,aa}var ra,Cn;function No(){if(Cn)return ra;Cn=1;var t=as(),a=vo(),e=yo(),r=qa(),n=rs(),s=ns(),i=se(),o=1,l=2;function d(f,h){return r(f)&&n(h)?s(i(f),h):function(b){var v=a(b,f);return v===void 0&&v===h?e(b,f):t(h,v,o|l)}}return ra=d,ra}var na,jn;function xo(){if(jn)return na;jn=1;function t(a){return a}return na=t,na}var sa,Mn;function qo(){if(Mn)return sa;Mn=1;function t(a){return function(e){return e==null?void 0:e[a]}}return sa=t,sa}var ia,In;function Co(){if(In)return ia;In=1;var t=is();function a(e){return function(r){return t(r,e)}}return ia=a,ia}var oa,An;function jo(){if(An)return oa;An=1;var t=qo(),a=Co(),e=qa(),r=se();function n(s){return e(s)?t(r(s)):a(s)}return oa=n,oa}var ua,Dn;function os(){if(Dn)return ua;Dn=1;var t=mo(),a=No(),e=xo(),r=O(),n=jo();function s(i){return typeof i=="function"?i:i==null?e:typeof i=="object"?r(i)?a(i[0],i[1]):t(i):n(i)}return ua=s,ua}var la,Rn;function Mo(){if(Rn)return la;Rn=1;var t=ai(),a=bi(),e=os(),r=O();function n(s,i){return function(o,l){var d=r(o)?t:a,f=i?i():{};return d(o,s,e(l,2),f)}}return la=n,la}var ca,En;function Io(){if(En)return ca;En=1;var t=ti(),a=Mo(),e=Object.prototype,r=e.hasOwnProperty,n=a(function(s,i,o){r.call(s,o)?s[o].push(i):t(s,o,[i])});return ca=n,ca}var Ao=Io();const Do=Hn(Ao);var da,Tn;function Ro(){if(Tn)return da;Tn=1;var t=_a();function a(e,r,n){for(var s=-1,i=e.length;++s<i;){var o=e[s],l=r(o);if(l!=null&&(d===void 0?l===l&&!t(l):n(l,d)))var d=l,f=o}return f}return da=a,da}var pa,Sn;function Eo(){if(Sn)return pa;Sn=1;function t(a,e){return a<e}return pa=t,pa}var ma,Pn;function To(){if(Pn)return ma;Pn=1;var t=Ro(),a=os(),e=Eo();function r(n,s){return n&&n.length?t(n,a(s,2),e):void 0}return ma=r,ma}var So=To();const Po=Hn(So),ha=3;function wn(t){return(t&&t.startsWith("#")?t.slice(1):t).normalize("NFKC")}function Bn(t){var a,e,r;return t instanceof HTMLAnchorElement&&(((a=t.textContent)==null?void 0:a[0])==="#"||((r=(e=t.previousSibling)==null?void 0:e.textContent)==null?void 0:r[t.previousSibling.textContent.length-1])==="#")}function wo(t){const a=Do(t,e=>e.normalize("NFKD").toLowerCase());return Object.values(a).map(e=>{const r=e[0];return e.length===1?r:Po(e,s=>{const i=Array.from(s).reduce((l,d)=>l+=d.toUpperCase()===d?1:0,0),o=s.length-i;return Math.abs(o-i)})??r})}const Bo=new Intl.Collator(void 0,{sensitivity:"base"});function J(t,a){const e=a.normalize("NFKC");return!!t.find(r=>Bo.compare(r.normalize("NFKC"),e)===0)}function ko(t){let a=Gs(t);const e=t.get("tags").map(_=>_.get("name")).toJS(),r={statusContentProps:{statusContent:a},hashtagsInBar:[]};if(e.length===0)return r;const n=document.createElement("template");n.innerHTML=a.trim();const s=n.content.lastChild;if(!s||s.nodeType===Node.TEXT_NODE)return r;n.content.removeChild(s);const i=n,o=Array.from(i.content.querySelectorAll("a[href]")).reduce((_,p)=>(Bn(p)&&p.textContent&&_.push(wn(p.textContent)),_),[]),l=[];let d=!0;const f=e.map(_=>_.normalize("NFKC"));Array.from(s.childNodes).forEach(_=>{var p;if(Bn(_)&&_.textContent){const u=wn(_.textContent);if(!J(f,u)){d=!1;return}J(o,u)||l.push(u)}else(_.nodeType!==Node.TEXT_NODE||(p=_.nodeValue)!=null&&p.trim())&&(d=!1)});const h=e.filter(_=>{const p=_.normalize("NFKC");return!J(o,p)&&!J(l,p)}),b=i.content.childElementCount===0,v=t.get("media_attachments").size>0,I=!!t.get("spoiler_text");return d&&(v&&!I||!b)&&(a=i.innerHTML,h.push(...l)),{statusContentProps:{statusContent:a},hashtagsInBar:wo(h)}}function Oo(t){const{statusContentProps:a,hashtagsInBar:e}=ko(t);return{statusContentProps:a,hashtagBar:c.jsxDEV(Ho,{hashtags:e,accountId:t.getIn(["account","id"])},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/components/hashtag_bar.tsx",lineNumber:200,columnNumber:5},this)}}const Ho=({hashtags:t,accountId:a})=>{const[e,r]=w.useState(!1),n=w.useCallback(()=>{r(!0)},[]);if(t.length===0)return null;const s=e?t:t.slice(0,ha);return c.jsxDEV("div",{className:"hashtag-bar",children:[s.map(i=>c.jsxDEV(z,{to:`/tags/${i}`,"data-menu-hashtag":a,children:["#",c.jsxDEV("span",{children:i},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/components/hashtag_bar.tsx",lineNumber:233,columnNumber:12},void 0)]},i,!0,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/components/hashtag_bar.tsx",lineNumber:228,columnNumber:7},void 0)),!e&&t.length>ha&&c.jsxDEV("button",{className:"link-button",onClick:n,children:c.jsxDEV(B,{id:"hashtags.and_other",defaultMessage:"…and {count, plural, other {# more}}",values:{count:t.length-ha}},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/components/hashtag_bar.tsx",lineNumber:239,columnNumber:11},void 0)},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/components/hashtag_bar.tsx",lineNumber:238,columnNumber:7},void 0)]},void 0,!0,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/components/hashtag_bar.tsx",lineNumber:226,columnNumber:5},void 0)},Vo=t=>w.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:24,viewBox:"0 -960 960 960",width:24,...t},w.createElement("path",{d:"M200-120v-640q0-33 23.5-56.5T280-840h400q33 0 56.5 23.5T760-760v640L480-240 200-120Z"})),Fo=t=>w.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:24,viewBox:"0 -960 960 960",width:24,...t},w.createElement("path",{d:"M200-120v-640q0-33 23.5-56.5T280-840h400q33 0 56.5 23.5T760-760v640L480-240 200-120Zm80-122 200-86 200 86v-518H280v518Zm0-518h400-400Z"})),C=Fn({delete:{id:"status.delete",defaultMessage:"Delete"},redraft:{id:"status.redraft",defaultMessage:"Delete & re-draft"},edit:{id:"status.edit",defaultMessage:"Edit"},direct:{id:"status.direct",defaultMessage:"Privately mention @{name}"},mention:{id:"status.mention",defaultMessage:"Mention @{name}"},mute:{id:"account.mute",defaultMessage:"Mute @{name}"},block:{id:"account.block",defaultMessage:"Block @{name}"},reply:{id:"status.reply",defaultMessage:"Reply"},share:{id:"status.share",defaultMessage:"Share"},more:{id:"status.more",defaultMessage:"More"},replyAll:{id:"status.replyAll",defaultMessage:"Reply to thread"},reblog:{id:"status.reblog",defaultMessage:"Boost"},reblog_private:{id:"status.reblog_private",defaultMessage:"Boost with original visibility"},cancel_reblog_private:{id:"status.cancel_reblog_private",defaultMessage:"Unboost"},cannot_reblog:{id:"status.cannot_reblog",defaultMessage:"This post cannot be boosted"},favourite:{id:"status.favourite",defaultMessage:"Favorite"},removeFavourite:{id:"status.remove_favourite",defaultMessage:"Remove from favorites"},bookmark:{id:"status.bookmark",defaultMessage:"Bookmark"},removeBookmark:{id:"status.remove_bookmark",defaultMessage:"Remove bookmark"},open:{id:"status.open",defaultMessage:"Expand this status"},report:{id:"status.report",defaultMessage:"Report @{name}"},muteConversation:{id:"status.mute_conversation",defaultMessage:"Mute conversation"},unmuteConversation:{id:"status.unmute_conversation",defaultMessage:"Unmute conversation"},pin:{id:"status.pin",defaultMessage:"Pin on profile"},unpin:{id:"status.unpin",defaultMessage:"Unpin from profile"},embed:{id:"status.embed",defaultMessage:"Get embed code"},admin_account:{id:"status.admin_account",defaultMessage:"Open moderation interface for @{name}"},admin_status:{id:"status.admin_status",defaultMessage:"Open this post in the moderation interface"},admin_domain:{id:"status.admin_domain",defaultMessage:"Open moderation interface for {domain}"},copy:{id:"status.copy",defaultMessage:"Copy link to post"},blockDomain:{id:"account.block_domain",defaultMessage:"Block domain {domain}"},unblockDomain:{id:"account.unblock_domain",defaultMessage:"Unblock domain {domain}"},unmute:{id:"account.unmute",defaultMessage:"Unmute @{name}"},unblock:{id:"account.unblock",defaultMessage:"Unblock @{name}"},filter:{id:"status.filter",defaultMessage:"Filter this post"},openOriginalPage:{id:"account.open_original_page",defaultMessage:"Open original page"}}),Lo=(t,{status:a})=>({relationship:t.getIn(["relationships",a.getIn(["account","id"])])});class us extends Ln{constructor(){super(...arguments);g(this,"updateOnProps",["status","relationship","withDismiss"]);g(this,"handleReplyClick",()=>{const{signedIn:e}=this.props.identity;e?this.props.onReply(this.props.status):this.props.onInteractionModal("reply",this.props.status)});g(this,"handleShareClick",()=>{navigator.share({url:this.props.status.get("url")}).catch(e=>{e.name!=="AbortError"&&console.error(e)})});g(this,"handleFavouriteClick",()=>{const{signedIn:e}=this.props.identity;e?this.props.onFavourite(this.props.status):this.props.onInteractionModal("favourite",this.props.status)});g(this,"handleReblogClick",e=>{const{signedIn:r}=this.props.identity;r?this.props.onReblog(this.props.status,e):this.props.onInteractionModal("reblog",this.props.status)});g(this,"handleBookmarkClick",()=>{this.props.onBookmark(this.props.status)});g(this,"handleDeleteClick",()=>{this.props.onDelete(this.props.status)});g(this,"handleRedraftClick",()=>{this.props.onDelete(this.props.status,!0)});g(this,"handleEditClick",()=>{this.props.onEdit(this.props.status)});g(this,"handlePinClick",()=>{this.props.onPin(this.props.status)});g(this,"handleMentionClick",()=>{this.props.onMention(this.props.status.get("account"))});g(this,"handleDirectClick",()=>{this.props.onDirect(this.props.status.get("account"))});g(this,"handleMuteClick",()=>{const{status:e,relationship:r,onMute:n,onUnmute:s}=this.props,i=e.get("account");r&&r.get("muting")?s(i):n(i)});g(this,"handleBlockClick",()=>{const{status:e,relationship:r,onBlock:n,onUnblock:s}=this.props,i=e.get("account");r&&r.get("blocking")?s(i):n(e)});g(this,"handleBlockDomain",()=>{const{status:e,onBlockDomain:r}=this.props,n=e.get("account");r(n)});g(this,"handleUnblockDomain",()=>{const{status:e,onUnblockDomain:r}=this.props,n=e.get("account");r(n.get("acct").split("@")[1])});g(this,"handleOpen",()=>{this.props.history.push(`/@${this.props.status.getIn(["account","acct"])}/${this.props.status.get("id")}`)});g(this,"handleEmbed",()=>{this.props.onEmbed(this.props.status)});g(this,"handleReport",()=>{this.props.onReport(this.props.status)});g(this,"handleConversationMuteClick",()=>{this.props.onMuteConversation(this.props.status)});g(this,"handleFilterClick",()=>{this.props.onAddFilter(this.props.status)});g(this,"handleCopy",()=>{const e=this.props.status.get("url");navigator.clipboard.writeText(e)})}render(){const{status:e,relationship:r,intl:n,withDismiss:s,withCounters:i,scrollKey:o}=this.props,{signedIn:l,permissions:d}=this.props.identity,f=["public","unlisted"].includes(e.get("visibility")),h=["public","unlisted","private"].includes(e.get("visibility")),b=e.get("muted"),v=e.get("account"),I=e.getIn(["account","id"])===ja,_=e.getIn(["account","username"])!==e.getIn(["account","acct"]);let p=[];if(p.push({text:n.formatMessage(C.open),action:this.handleOpen}),f&&_&&p.push({text:n.formatMessage(C.openOriginalPage),href:e.get("url")}),p.push({text:n.formatMessage(C.copy),action:this.handleCopy}),f&&"share"in navigator&&p.push({text:n.formatMessage(C.share),action:this.handleShareClick}),f&&!_&&p.push({text:n.formatMessage(C.embed),action:this.handleEmbed}),l)if(p.push(null),I&&h&&(p.push({text:n.formatMessage(e.get("pinned")?C.unpin:C.pin),action:this.handlePinClick}),p.push(null)),(I||s)&&(p.push({text:n.formatMessage(b?C.unmuteConversation:C.muteConversation),action:this.handleConversationMuteClick}),p.push(null)),I)p.push({text:n.formatMessage(C.edit),action:this.handleEditClick}),p.push({text:n.formatMessage(C.delete),action:this.handleDeleteClick,dangerous:!0}),p.push({text:n.formatMessage(C.redraft),action:this.handleRedraftClick,dangerous:!0});else{if(p.push({text:n.formatMessage(C.mention,{name:v.get("username")}),action:this.handleMentionClick}),p.push({text:n.formatMessage(C.direct,{name:v.get("username")}),action:this.handleDirectClick}),p.push(null),r&&r.get("muting")?p.push({text:n.formatMessage(C.unmute,{name:v.get("username")}),action:this.handleMuteClick}):p.push({text:n.formatMessage(C.mute,{name:v.get("username")}),action:this.handleMuteClick,dangerous:!0}),r&&r.get("blocking")?p.push({text:n.formatMessage(C.unblock,{name:v.get("username")}),action:this.handleBlockClick}):p.push({text:n.formatMessage(C.block,{name:v.get("username")}),action:this.handleBlockClick,dangerous:!0}),this.props.onFilter||(p.push(null),p.push({text:n.formatMessage(C.filter),action:this.handleFilterClick,dangerous:!0}),p.push(null)),p.push({text:n.formatMessage(C.report,{name:v.get("username")}),action:this.handleReport,dangerous:!0}),v.get("acct")!==v.get("username")){const E=v.get("acct").split("@")[1];p.push(null),r&&r.get("domain_blocking")?p.push({text:n.formatMessage(C.unblockDomain,{domain:E}),action:this.handleUnblockDomain}):p.push({text:n.formatMessage(C.blockDomain,{domain:E}),action:this.handleBlockDomain,dangerous:!0})}if(((d&Z)===Z||_&&(d&X)===X)&&(p.push(null),(d&Z)===Z&&(p.push({text:n.formatMessage(C.admin_account,{name:v.get("username")}),href:`/admin/accounts/${e.getIn(["account","id"])}`}),p.push({text:n.formatMessage(C.admin_status),href:`/admin/accounts/${e.getIn(["account","id"])}/statuses/${e.get("id")}`})),_&&(d&X)===X)){const E=v.get("acct").split("@")[1];p.push({text:n.formatMessage(C.admin_domain,{domain:E}),href:`/admin/instances/${E}`})}}let u,y,A;e.get("in_reply_to_id",null)===null?(u="reply",y=fa,A=n.formatMessage(C.reply)):(u="reply-all",y=ys,A=n.formatMessage(C.replyAll));const q=e.getIn(["account","id"])===ja&&e.get("visibility")==="private";let M,N;e.get("reblogged")?(M=n.formatMessage(C.cancel_reblog_private),N=f?Ns:xs):f?(M=n.formatMessage(C.reblog),N=Kn):q?(M=n.formatMessage(C.reblog_private),N=qs):(M=n.formatMessage(C.cannot_reblog),N=Cs);const x=n.formatMessage(e.get("bookmarked")?C.removeBookmark:C.bookmark),D=n.formatMessage(e.get("favourited")?C.removeFavourite:C.favourite),R=e.get("in_reply_to_account_id")===e.getIn(["account","id"]);return c.jsxDEV("div",{className:"status__action-bar",children:[c.jsxDEV("div",{className:"status__action-bar__button-wrapper",children:c.jsxDEV(W,{className:"status__action-bar__button",title:A,icon:R?"reply":u,iconComponent:R?fa:y,onClick:this.handleReplyClick,counter:e.get("replies_count")},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/components/status_action_bar.jsx",lineNumber:380,columnNumber:11},this)},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/components/status_action_bar.jsx",lineNumber:379,columnNumber:9},this),c.jsxDEV("div",{className:"status__action-bar__button-wrapper",children:c.jsxDEV(W,{className:K("status__action-bar__button",{reblogPrivate:q}),disabled:!f&&!q,active:e.get("reblogged"),title:M,icon:"retweet",iconComponent:N,onClick:this.handleReblogClick,counter:i?e.get("reblogs_count"):void 0},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/components/status_action_bar.jsx",lineNumber:383,columnNumber:11},this)},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/components/status_action_bar.jsx",lineNumber:382,columnNumber:9},this),c.jsxDEV("div",{className:"status__action-bar__button-wrapper",children:c.jsxDEV(W,{className:"status__action-bar__button star-icon",animate:!0,active:e.get("favourited"),title:D,icon:"star",iconComponent:e.get("favourited")?_s:bs,onClick:this.handleFavouriteClick,counter:i?e.get("favourites_count"):void 0},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/components/status_action_bar.jsx",lineNumber:386,columnNumber:11},this)},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/components/status_action_bar.jsx",lineNumber:385,columnNumber:9},this),c.jsxDEV("div",{className:"status__action-bar__button-wrapper",children:c.jsxDEV(W,{className:"status__action-bar__button bookmark-icon",disabled:!l,active:e.get("bookmarked"),title:x,icon:"bookmark",iconComponent:e.get("bookmarked")?Vo:Fo,onClick:this.handleBookmarkClick},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/components/status_action_bar.jsx",lineNumber:389,columnNumber:11},this)},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/components/status_action_bar.jsx",lineNumber:388,columnNumber:9},this),c.jsxDEV("div",{className:"status__action-bar__button-wrapper",children:c.jsxDEV(Rs,{scrollKey:o,status:e,items:p,icon:"ellipsis-h",iconComponent:Es,direction:"right",title:n.formatMessage(C.more)},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/components/status_action_bar.jsx",lineNumber:392,columnNumber:11},this)},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/components/status_action_bar.jsx",lineNumber:391,columnNumber:9},this)]},void 0,!0,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/components/status_action_bar.jsx",lineNumber:378,columnNumber:7},this)}}g(us,"propTypes",{identity:vs,status:$.map.isRequired,relationship:$.record,onReply:m.func,onFavourite:m.func,onReblog:m.func,onDelete:m.func,onDirect:m.func,onMention:m.func,onMute:m.func,onUnmute:m.func,onBlock:m.func,onUnblock:m.func,onBlockDomain:m.func,onUnblockDomain:m.func,onReport:m.func,onEmbed:m.func,onMuteConversation:m.func,onPin:m.func,onBookmark:m.func,onFilter:m.func,onAddFilter:m.func,onInteractionModal:m.func,withDismiss:m.bool,withCounters:m.bool,scrollKey:m.string,intl:m.object.isRequired,...gs});const Ko=ds(hs(fs(Lo)(Vn(us)))),Go=({accountIds:t})=>{const a=t[0]??"0",e=Gn(r=>r.accounts.get(a));return e?c.jsxDEV(z,{to:`/@${e.acct}`,title:`@${e.acct}`,"data-hover-card-account":e.id,children:c.jsxDEV("bdi",{dangerouslySetInnerHTML:{__html:e.display_name_html}},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications_v2/components/displayed_name.tsx",lineNumber:19,columnNumber:7},void 0)},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications_v2/components/displayed_name.tsx",lineNumber:14,columnNumber:5},void 0):null},Uo=({accountId:t,inReplyToAccountId:a})=>{const e=Gn(n=>n.accounts.get(a));let r;return t===a?r=c.jsxDEV(B,{id:"status.continued_thread",defaultMessage:"Continued thread"},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/components/status_thread_label.tsx",lineNumber:20,columnNumber:5},void 0):e?r=c.jsxDEV(B,{id:"status.replied_to",defaultMessage:"Replied to {name}",values:{name:c.jsxDEV(Go,{accountIds:[a]},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/components/status_thread_label.tsx",lineNumber:30,columnNumber:23},void 0)}},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/components/status_thread_label.tsx",lineNumber:27,columnNumber:5},void 0):r=c.jsxDEV(B,{id:"status.replied_in_thread",defaultMessage:"Replied in thread"},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/components/status_thread_label.tsx",lineNumber:35,columnNumber:5},void 0),c.jsxDEV("div",{className:"status__prepend",children:[c.jsxDEV("div",{className:"status__prepend__icon",children:c.jsxDEV(Q,{id:"reply",icon:fa},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/components/status_thread_label.tsx",lineNumber:45,columnNumber:9},void 0)},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/components/status_thread_label.tsx",lineNumber:44,columnNumber:7},void 0),r]},void 0,!0,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/components/status_thread_label.tsx",lineNumber:43,columnNumber:5},void 0)},zo=new DOMParser,$o=(t,a,e=!1)=>{const r=a.getIn(["account","display_name"]),n=a.getIn(["translation","spoiler_text"])||a.get("spoiler_text"),s=a.getIn(["translation","contentHtml"])||a.get("contentHtml"),i=zo.parseFromString(s,"text/html").documentElement.textContent,o=[r.length===0?a.getIn(["account","acct"]).split("@")[0]:r,n&&a.get("hidden")?n:i,t.formatDate(a.get("created_at"),{hour:"2-digit",minute:"2-digit",month:"short",day:"numeric"}),a.getIn(["account","acct"])];return e&&o.push(e),o.join(", ")},kn=t=>{if(t)return t.get("reblog",null)!==null&&typeof t.get("reblog")=="object"&&(t=t.get("reblog")),!t.get("matched_media_filters")&&(Ma!=="hide_all"&&!t.get("sensitive")||Ma==="show_all")},Wo=Fn({public_short:{id:"privacy.public.short",defaultMessage:"Public"},unlisted_short:{id:"privacy.unlisted.short",defaultMessage:"Quiet public"},private_short:{id:"privacy.private.short",defaultMessage:"Followers"},direct_short:{id:"privacy.direct.short",defaultMessage:"Specific people"},edited:{id:"status.edited",defaultMessage:"Edited {date}"}});var On;class ga extends Ln{constructor(){super(...arguments);g(this,"updateOnProps",["status","account","muted","hidden","unread","pictureInPicture"]);g(this,"state",{showMedia:kn(this.props.status)&&!((On=this.context)!=null&&On.hideMediaByDefault),showDespiteFilter:void 0});g(this,"handleToggleMediaVisibility",()=>{this.setState({showMedia:!this.state.showMedia})});g(this,"handleClick",e=>{e.preventDefault(),(e==null?void 0:e.button)===0&&!(e!=null&&e.ctrlKey||e!=null&&e.metaKey)?this._openStatus():((e==null?void 0:e.button)===1||(e==null?void 0:e.button)===0&&(e!=null&&e.ctrlKey||e!=null&&e.metaKey))&&this._openStatus(!0)});g(this,"handleHeaderClick",e=>{e.target!==e.currentTarget&&e.detail>=1||this.handleClick(e)});g(this,"handleExpandedToggle",()=>{this.props.onToggleHidden(this._properStatus())});g(this,"handleCollapsedToggle",e=>{this.props.onToggleCollapsed(this._properStatus(),e)});g(this,"handleTranslate",()=>{this.props.onTranslate(this._properStatus())});g(this,"renderLoadingMediaGallery",()=>c.jsxDEV("div",{className:"media-gallery",style:{aspectRatio:this.getAttachmentAspectRatio()}},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/components/status.jsx",lineNumber:213,columnNumber:7},this));g(this,"renderLoadingVideoPlayer",()=>c.jsxDEV("div",{className:"video-player",style:{aspectRatio:this.getAttachmentAspectRatio()}},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/components/status.jsx",lineNumber:219,columnNumber:7},this));g(this,"renderLoadingAudioPlayer",()=>c.jsxDEV("div",{className:"audio-player",style:{aspectRatio:this.getAttachmentAspectRatio()}},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/components/status.jsx",lineNumber:225,columnNumber:7},this));g(this,"handleOpenVideo",e=>{const r=this._properStatus(),n=r.getIn(["translation","language"])||r.get("language");this.props.onOpenVideo(r.get("id"),r.getIn(["media_attachments",0]),n,e)});g(this,"handleOpenMedia",(e,r)=>{const n=this._properStatus(),s=n.getIn(["translation","language"])||n.get("language");this.props.onOpenMedia(n.get("id"),e,r,s)});g(this,"handleHotkeyOpenMedia",e=>{const{onOpenMedia:r,onOpenVideo:n}=this.props,s=this._properStatus();if(e.preventDefault(),s.get("media_attachments").size>0){const i=s.getIn(["translation","language"])||s.get("language");s.getIn(["media_attachments",0,"type"])==="video"?n(s.get("id"),s.getIn(["media_attachments",0]),i,{startTime:0}):r(s.get("id"),s.get("media_attachments"),0,i)}});g(this,"handleDeployPictureInPicture",(e,r)=>{const{deployPictureInPicture:n}=this.props,s=this._properStatus();n(s,e,r)});g(this,"handleHotkeyReply",e=>{e.preventDefault(),this.props.onReply(this._properStatus())});g(this,"handleHotkeyFavourite",()=>{this.props.onFavourite(this._properStatus())});g(this,"handleHotkeyBoost",e=>{this.props.onReblog(this._properStatus(),e)});g(this,"handleHotkeyMention",e=>{e.preventDefault(),this.props.onMention(this._properStatus().get("account"))});g(this,"handleHotkeyOpen",()=>{this._openStatus()});g(this,"_openStatus",(e=!1)=>{if(this.props.onClick){this.props.onClick();return}const{history:r}=this.props,n=this._properStatus();if(!r)return;const s=`/@${n.getIn(["account","acct"])}/${n.get("id")}`;e?window.open(s,"_blank","noopener"):r.push(s)});g(this,"handleHotkeyOpenProfile",()=>{this._openProfile()});g(this,"_openProfile",(e=!0)=>{const{history:r}=this.props,n=e?this._properStatus():this.props.status;r&&r.push(`/@${n.getIn(["account","acct"])}`)});g(this,"handleHotkeyMoveUp",e=>{this.props.onMoveUp(this.props.status.get("id"),e.target.getAttribute("data-featured"))});g(this,"handleHotkeyMoveDown",e=>{this.props.onMoveDown(this.props.status.get("id"),e.target.getAttribute("data-featured"))});g(this,"handleHotkeyToggleHidden",()=>{const{onToggleHidden:e}=this.props,r=this._properStatus();if(this.props.status.get("matched_filters")){const n=!r.get("hidden")||r.get("spoiler_text").length===0,s=this.state.showDespiteFilter;s&&!n?e(r):s&&n?(e(r),this.handleFilterToggle()):this.handleFilterToggle()}else e(r)});g(this,"handleHotkeyToggleSensitive",()=>{this.handleToggleMediaVisibility()});g(this,"handleFilterToggle",()=>{this.setState(e=>({...e,showDespiteFilter:!e.showDespiteFilter}))});g(this,"handleRef",e=>{this.node=e})}componentDidUpdate(e){var r,n,s;((r=this.props.status)==null?void 0:r.get("id"))!==((n=e.status)==null?void 0:n.get("id"))&&this.setState({showMedia:kn(this.props.status)&&!((s=this.context)!=null&&s.hideMediaByDefault),showDespiteFilter:void 0})}getAttachmentAspectRatio(){const e=this._properStatus().get("media_attachments");return e.getIn([0,"type"])==="video"?`${e.getIn([0,"meta","original","width"])} / ${e.getIn([0,"meta","original","height"])}`:e.getIn([0,"type"])==="audio"?"16 / 9":e.size===1&&e.getIn([0,"meta","small","aspect"])?e.getIn([0,"meta","small","aspect"]):"3 / 2"}_properStatus(){const{status:e}=this.props;return e.get("reblog",null)!==null&&typeof e.get("reblog")=="object"?e.get("reblog"):e}render(){const{intl:e,hidden:r,featured:n,unfocusable:s,unread:i,showThread:o,isQuotedPost:l=!1,scrollKey:d,pictureInPicture:f,previousId:h,nextInReplyToId:b,rootId:v,skipPrepend:I,avatarSize:_=46,children:p}=this.props;let{status:u,account:y,...A}=this.props;if(u===null)return null;const q=this.props.muted?{}:{reply:this.handleHotkeyReply,favourite:this.handleHotkeyFavourite,boost:this.handleHotkeyBoost,mention:this.handleHotkeyMention,open:this.handleHotkeyOpen,openProfile:this.handleHotkeyOpenProfile,moveUp:this.handleHotkeyMoveUp,moveDown:this.handleHotkeyMoveDown,toggleHidden:this.handleHotkeyToggleHidden,toggleSensitive:this.handleHotkeyToggleSensitive,openMedia:this.handleHotkeyOpenMedia,onTranslate:this.handleTranslate};let M,N,x,D;const R=h&&h===u.get("in_reply_to_id"),E=v&&v===u.get("in_reply_to_id"),j=b&&b===u.get("id"),P=u.get("matched_filters");if(u.get("reblog",null)!==null&&typeof u.get("reblog")=="object"){const H={__html:u.getIn(["account","display_name_html"])};x=c.jsxDEV("div",{className:"status__prepend",children:[c.jsxDEV("div",{className:"status__prepend__icon",children:c.jsxDEV(Q,{id:"retweet",icon:Kn},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/components/status.jsx",lineNumber:410,columnNumber:50},this)},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/components/status.jsx",lineNumber:410,columnNumber:11},this),c.jsxDEV(B,{id:"status.reblogged_by",defaultMessage:"{name} boosted",values:{name:c.jsxDEV(z,{"data-id":u.getIn(["account","id"]),"data-hover-card-account":u.getIn(["account","id"]),to:`/@${u.getIn(["account","acct"])}`,className:"status__display-name muted",children:c.jsxDEV("bdi",{children:c.jsxDEV("strong",{dangerouslySetInnerHTML:H},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/components/status.jsx",lineNumber:411,columnNumber:298},this)},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/components/status.jsx",lineNumber:411,columnNumber:293},this)},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/components/status.jsx",lineNumber:411,columnNumber:102},this)}},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/components/status.jsx",lineNumber:411,columnNumber:11},this)]},void 0,!0,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/components/status.jsx",lineNumber:409,columnNumber:7},this),D=e.formatMessage({id:"status.reblogged_by",defaultMessage:"{name} boosted"},{name:u.getIn(["account","acct"])}),y=u.get("account"),u=u.get("reblog")}else u.get("visibility")==="direct"?x=c.jsxDEV("div",{className:"status__prepend",children:[c.jsxDEV("div",{className:"status__prepend__icon",children:c.jsxDEV(Q,{id:"at",icon:ks},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/components/status.jsx",lineNumber:422,columnNumber:50},this)},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/components/status.jsx",lineNumber:422,columnNumber:11},this),c.jsxDEV(B,{id:"status.direct_indicator",defaultMessage:"Private mention"},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/components/status.jsx",lineNumber:423,columnNumber:11},this)]},void 0,!0,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/components/status.jsx",lineNumber:421,columnNumber:7},this):o&&u.get("in_reply_to_id")&&(x=c.jsxDEV(Uo,{accountId:u.getIn(["account","id"]),inReplyToAccountId:u.get("in_reply_to_account_id")},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/components/status.jsx",lineNumber:428,columnNumber:7},this));const S=(!P||this.state.showDespiteFilter)&&(!u.get("hidden")||u.get("spoiler_text").length===0);if(r)return c.jsxDEV(Ca.HotKeys,{handlers:q,tabIndex:s?null:-1,children:c.jsxDEV("div",{ref:this.handleRef,className:K("status__wrapper",{focusable:!this.props.muted}),tabIndex:s?null:0,children:[c.jsxDEV("span",{children:u.getIn(["account","display_name"])||u.getIn(["account","username"])},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/components/status.jsx",lineNumber:438,columnNumber:13},this),u.get("spoiler_text").length>0&&c.jsxDEV("span",{children:u.get("spoiler_text")},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/components/status.jsx",lineNumber:439,columnNumber:55},this),S&&c.jsxDEV("span",{children:u.get("content")},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/components/status.jsx",lineNumber:440,columnNumber:26},this)]},void 0,!0,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/components/status.jsx",lineNumber:437,columnNumber:11},this)},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/components/status.jsx",lineNumber:436,columnNumber:9},this);if(f.get("inUse"))M=c.jsxDEV(Zs,{aspectRatio:this.getAttachmentAspectRatio()},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/components/status.jsx",lineNumber:447,columnNumber:15},this);else if(u.get("media_attachments").size>0){const H=u.getIn(["translation","language"])||u.get("language");if(["image","gifv","unknown"].includes(u.getIn(["media_attachments",0,"type"]))||u.get("media_attachments").size>1)M=c.jsxDEV(ue,{fetchComponent:Ts,loading:this.renderLoadingMediaGallery,children:T=>c.jsxDEV(T,{media:u.get("media_attachments"),lang:H,sensitive:u.get("sensitive"),height:110,onOpenMedia:this.handleOpenMedia,cacheWidth:this.props.cacheMediaWidth,defaultWidth:this.props.cachedMediaWidth,visible:this.state.showMedia,onToggleVisibility:this.handleToggleMediaVisibility,matchedFilters:u.get("matched_media_filters")},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/components/status.jsx",lineNumber:455,columnNumber:11},this)},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/components/status.jsx",lineNumber:453,columnNumber:9},this);else if(u.getIn(["media_attachments",0,"type"])==="audio"){const T=u.getIn(["media_attachments",0]),ie=T.getIn(["translation","description"])||T.get("description");M=c.jsxDEV(ue,{fetchComponent:Ss,loading:this.renderLoadingAudioPlayer,children:oe=>c.jsxDEV(oe,{src:T.get("url"),alt:ie,lang:H,poster:T.get("preview_url")||u.getIn(["account","avatar_static"]),backgroundColor:T.getIn(["meta","colors","background"]),foregroundColor:T.getIn(["meta","colors","foreground"]),accentColor:T.getIn(["meta","colors","accent"]),duration:T.getIn(["meta","original","duration"],0),deployPictureInPicture:f.get("available")?this.handleDeployPictureInPicture:void 0,sensitive:u.get("sensitive"),blurhash:T.get("blurhash"),visible:this.state.showMedia,onToggleVisibility:this.handleToggleMediaVisibility,matchedFilters:u.get("matched_media_filters")},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/components/status.jsx",lineNumber:477,columnNumber:11},this)},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/components/status.jsx",lineNumber:475,columnNumber:9},this)}else if(u.getIn(["media_attachments",0,"type"])==="video"){const T=u.getIn(["media_attachments",0]),ie=T.getIn(["translation","description"])||T.get("description");M=c.jsxDEV(ue,{fetchComponent:Ps,loading:this.renderLoadingVideoPlayer,children:oe=>c.jsxDEV(oe,{preview:T.get("preview_url"),frameRate:T.getIn(["meta","original","frame_rate"]),aspectRatio:`${T.getIn(["meta","original","width"])} / ${T.getIn(["meta","original","height"])}`,blurhash:T.get("blurhash"),src:T.get("url"),alt:ie,lang:H,sensitive:u.get("sensitive"),onOpenVideo:this.handleOpenVideo,deployPictureInPicture:f.get("available")?this.handleDeployPictureInPicture:void 0,visible:this.state.showMedia,onToggleVisibility:this.handleToggleMediaVisibility,matchedFilters:u.get("matched_media_filters")},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/components/status.jsx",lineNumber:503,columnNumber:11},this)},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/components/status.jsx",lineNumber:501,columnNumber:9},this)}}else u.get("card")&&!u.get("quote")&&(M=c.jsxDEV(Os,{onOpenMedia:this.handleOpenMedia,card:u.get("card"),compact:!0,sensitive:u.get("sensitive")},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/components/status.jsx",lineNumber:524,columnNumber:7},this));y==null?N=c.jsxDEV(Is,{account:u.get("account"),size:_},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/components/status.jsx",lineNumber:534,columnNumber:22},this):N=c.jsxDEV(Hs,{account:u.get("account"),friend:y},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/components/status.jsx",lineNumber:536,columnNumber:22},this);const{statusContentProps:L,hashtagBar:F}=Oo(u);return c.jsxDEV(Ca.HotKeys,{handlers:q,tabIndex:s?null:-1,children:c.jsxDEV("div",{className:K("status__wrapper",`status__wrapper-${u.get("visibility")}`,{"status__wrapper-reply":!!u.get("in_reply_to_id"),unread:i,focusable:!this.props.muted}),tabIndex:this.props.muted||s?null:0,"data-featured":n?"true":null,"aria-label":$o(e,u,D),ref:this.handleRef,"data-nosnippet":u.getIn(["account","noindex"],!0)||void 0,children:[!I&&x,c.jsxDEV("div",{className:K("status",`status-${u.get("visibility")}`,{"status-reply":!!u.get("in_reply_to_id"),"status--in-thread":!!v,"status--first-in-thread":h&&(!R||E),muted:this.props.muted,"status--is-quote":l,"status--has-quote":!!u.get("quote")}),"data-id":u.get("id"),children:[(j||R||E)&&c.jsxDEV("div",{className:K("status__line",{"status__line--full":j,"status__line--first":!u.get("in_reply_to_id")&&!E})},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/components/status.jsx",lineNumber:559,columnNumber:62},this),c.jsxDEV("div",{onClick:this.handleHeaderClick,onAuxClick:this.handleHeaderClick,className:"status__info",children:[c.jsxDEV(z,{to:`/@${u.getIn(["account","acct"])}/${u.get("id")}`,className:"status__relative-time",children:[c.jsxDEV("span",{className:"status__visibility-icon",children:c.jsxDEV(zs,{visibility:u.get("visibility")},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/components/status.jsx",lineNumber:563,columnNumber:59},this)},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/components/status.jsx",lineNumber:563,columnNumber:17},this),c.jsxDEV(Ls,{timestamp:u.get("created_at")},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/components/status.jsx",lineNumber:564,columnNumber:17},this),u.get("edited_at")&&c.jsxDEV("abbr",{title:e.formatMessage(Wo.edited,{date:e.formatDate(u.get("edited_at"),{year:"numeric",month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit"})}),children:" *"},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/components/status.jsx",lineNumber:564,columnNumber:103},this)]},void 0,!0,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/components/status.jsx",lineNumber:562,columnNumber:15},this),c.jsxDEV(z,{to:`/@${u.getIn(["account","acct"])}`,title:u.getIn(["account","acct"]),"data-hover-card-account":u.getIn(["account","id"]),className:"status__display-name",children:[c.jsxDEV("div",{className:"status__avatar",children:N},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/components/status.jsx",lineNumber:568,columnNumber:17},this),c.jsxDEV(ws,{account:u.get("account")},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/components/status.jsx",lineNumber:572,columnNumber:17},this)]},void 0,!0,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/components/status.jsx",lineNumber:567,columnNumber:15},this)]},void 0,!0,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/components/status.jsx",lineNumber:561,columnNumber:13},this),P&&c.jsxDEV($s,{title:P.join(", "),expanded:this.state.showDespiteFilter,onClick:this.handleFilterToggle},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/components/status.jsx",lineNumber:576,columnNumber:32},this),u.get("spoiler_text").length>0&&(!P||this.state.showDespiteFilter)&&c.jsxDEV(Bs,{text:u.getIn(["translation","spoilerHtml"])||u.get("spoilerHtml"),expanded:S,onClick:this.handleExpandedToggle},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/components/status.jsx",lineNumber:578,columnNumber:108},this),S&&c.jsxDEV(c.Fragment,{children:[c.jsxDEV(Us,{status:u,onClick:this.handleClick,onTranslate:this.handleTranslate,collapsible:!0,onCollapsedToggle:this.handleCollapsedToggle,...L},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/components/status.jsx",lineNumber:582,columnNumber:17},this),M,F,p]},void 0,!0,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/components/status.jsx",lineNumber:581,columnNumber:13},this),!l&&c.jsxDEV(Ko,{scrollKey:d,status:u,account:y,...A},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/components/status.jsx",lineNumber:599,columnNumber:13},this)]},void 0,!0,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/components/status.jsx",lineNumber:546,columnNumber:11},this)]},void 0,!0,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/components/status.jsx",lineNumber:543,columnNumber:9},this)},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/components/status.jsx",lineNumber:542,columnNumber:7},this)}}g(ga,"contextType",Un),g(ga,"propTypes",{status:$.map,account:$.record,children:m.node,previousId:m.string,nextInReplyToId:m.string,rootId:m.string,onClick:m.func,onReply:m.func,onFavourite:m.func,onReblog:m.func,onDelete:m.func,onDirect:m.func,onMention:m.func,onPin:m.func,onOpenMedia:m.func,onOpenVideo:m.func,onBlock:m.func,onAddFilter:m.func,onEmbed:m.func,onHeightChange:m.func,onToggleHidden:m.func,onToggleCollapsed:m.func,onTranslate:m.func,onInteractionModal:m.func,muted:m.bool,hidden:m.bool,unread:m.bool,onMoveUp:m.func,onMoveDown:m.func,showThread:m.bool,isQuotedPost:m.bool,getScrollPosition:m.func,updateScrollBottom:m.func,cacheMediaWidth:m.func,cachedMediaWidth:m.number,scrollKey:m.string,skipPrepend:m.bool,avatarSize:m.number,deployPictureInPicture:m.func,unfocusable:m.bool,pictureInPicture:$.contains({inUse:m.bool,available:m.bool}),...Ms});const mu=js(Vn(ga));export{Go as D,$s as F,Zs as P,mu as S,Vo as a,Fo as b,pu as c,kn as d,Oo as g,as as r,$o as t};
//# sourceMappingURL=status-D92xLx8p.js.map
