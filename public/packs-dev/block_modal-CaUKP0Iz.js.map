{"version":3,"file":"block_modal-CaUKP0Iz.js","sources":["../../app/javascript/material-icons/400-24px/block.svg?react","../../app/javascript/mastodon/features/ui/components/block_modal.jsx"],"sourcesContent":["import * as React from \"react\";\nconst SvgBlock = (props) => /* @__PURE__ */ React.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", height: 24, viewBox: \"0 -960 960 960\", width: 24, ...props }, /* @__PURE__ */ React.createElement(\"path\", { d: \"M480-80q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q54 0 104-17.5t92-50.5L228-676q-33 42-50.5 92T160-480q0 134 93 227t227 93Zm252-124q33-42 50.5-92T800-480q0-134-93-227t-227-93q-54 0-104 17.5T284-732l448 448Z\" }));\nexport default SvgBlock;\n","import PropTypes from 'prop-types';\nimport { useCallback, useState } from 'react';\n\nimport { FormattedMessage } from 'react-intl';\n\nimport classNames from 'classnames';\n\nimport { useDispatch } from 'react-redux';\n\nimport AlternateEmailIcon from '@/material-icons/400-24px/alternate_email.svg?react';\nimport BlockIcon from '@/material-icons/400-24px/block.svg?react';\nimport CampaignIcon from '@/material-icons/400-24px/campaign.svg?react';\nimport ReplyIcon from '@/material-icons/400-24px/reply.svg?react';\nimport VisibilityOffIcon from '@/material-icons/400-24px/visibility_off.svg?react';\nimport { blockAccount } from 'mastodon/actions/accounts';\nimport { closeModal } from 'mastodon/actions/modal';\nimport { Button } from 'mastodon/components/button';\nimport { Icon } from 'mastodon/components/icon';\n\nexport const BlockModal = ({ accountId, acct }) => {\n  const dispatch = useDispatch();\n  const [expanded, setExpanded] = useState(false);\n\n  const domain = acct.split('@')[1];\n\n  const handleClick = useCallback(() => {\n    dispatch(closeModal({ modalType: undefined, ignoreFocus: false }));\n    dispatch(blockAccount(accountId));\n  }, [dispatch, accountId]);\n\n  const handleCancel = useCallback(() => {\n    dispatch(closeModal({ modalType: undefined, ignoreFocus: false }));\n  }, [dispatch]);\n\n  const handleToggleLearnMore = useCallback(() => {\n    setExpanded(!expanded);\n  }, [expanded, setExpanded]);\n\n  return (\n    <div className='modal-root__modal safety-action-modal'>\n      <div className='safety-action-modal__top'>\n        <div className='safety-action-modal__header'>\n          <div className='safety-action-modal__header__icon'>\n            <Icon icon={BlockIcon} />\n          </div>\n\n          <div>\n            <h1><FormattedMessage id='block_modal.title' defaultMessage='Block user?' /></h1>\n            <div>@{acct}</div>\n          </div>\n        </div>\n\n        <div className='safety-action-modal__bullet-points'>\n          <div>\n            <div className='safety-action-modal__bullet-points__icon'><Icon icon={CampaignIcon} /></div>\n            <div><FormattedMessage id='block_modal.they_will_know' defaultMessage=\"They can see that they're blocked.\" /></div>\n          </div>\n\n          <div>\n            <div className='safety-action-modal__bullet-points__icon'><Icon icon={VisibilityOffIcon} /></div>\n            <div><FormattedMessage id='block_modal.they_cant_see_posts' defaultMessage=\"They can't see your posts and you won't see theirs.\" /></div>\n          </div>\n\n          <div>\n            <div className='safety-action-modal__bullet-points__icon'><Icon icon={AlternateEmailIcon} /></div>\n            <div><FormattedMessage id='block_modal.you_wont_see_mentions' defaultMessage=\"You won't see posts that mentions them.\" /></div>\n          </div>\n\n          <div>\n            <div className='safety-action-modal__bullet-points__icon'><Icon icon={ReplyIcon} /></div>\n            <div><FormattedMessage id='block_modal.they_cant_mention' defaultMessage=\"They can't mention or follow you.\" /></div>\n          </div>\n        </div>\n      </div>\n\n      <div className={classNames('safety-action-modal__bottom', { active: expanded })}>\n        {domain && (\n          <div className='safety-action-modal__bottom__collapsible'>\n            <div className='safety-action-modal__caveats'>\n              <FormattedMessage\n                id='block_modal.remote_users_caveat'\n                defaultMessage='We will ask the server {domain} to respect your decision. However, compliance is not guaranteed since some servers may handle blocks differently. Public posts may still be visible to non-logged-in users.'\n                values={{ domain: <strong>{domain}</strong> }}\n              />\n            </div>\n          </div>\n        )}\n\n        <div className='safety-action-modal__actions'>\n          {domain && (\n            <button onClick={handleToggleLearnMore} className='link-button'>\n              {expanded ? <FormattedMessage id='block_modal.show_less' defaultMessage='Show less' /> : <FormattedMessage id='block_modal.show_more' defaultMessage='Show more' />}\n            </button>\n          )}\n\n          <div className='spacer' />\n\n          <button onClick={handleCancel} className='link-button'>\n            <FormattedMessage id='confirmation_modal.cancel' defaultMessage='Cancel' />\n          </button>\n\n          <Button onClick={handleClick} dangerous autoFocus>\n            <FormattedMessage id='confirmations.block.confirm' defaultMessage='Block' />\n          </Button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nBlockModal.propTypes = {\n  accountId: PropTypes.string.isRequired,\n  acct: PropTypes.string.isRequired,\n};\n\nexport default BlockModal;\n"],"names":["SvgBlock","props","React.createElement","BlockModal","accountId","acct","dispatch","useDispatch","expanded","setExpanded","useState","domain","split","handleClick","useCallback","closeModal","modalType","undefined","ignoreFocus","blockAccount","handleCancel","handleToggleLearnMore","jsxDEV","Icon","BlockIcon","this","FormattedMessage","CampaignIcon","VisibilityOffIcon","AlternateEmailIcon","ReplyIcon","classNames","active","Button"],"mappings":"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"}