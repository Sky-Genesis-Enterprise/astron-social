{"version":3,"mappings":"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","names":["root","factory","module","this","_isNumber","n","_capitalize","str","_getter","p","booleanProps","numericProps","stringProps","arrayProps","objectProps","props","StackFrame","obj","i","v","fileName","lineNumber","columnNumber","functionName","argsStartIndex","argsEndIndex","args","locationString","parts","j","k","require$$0","FIREFOX_SAFARI_STACK_REGEXP","CHROME_IE_STACK_REGEXP","SAFARI_NATIVE_CODE_REGEXP","error","urlLike","regExp","filtered","line","sanitizedLine","location","locationParts","functionNameRegex","matches","e","lineRE","lines","result","len","match","tokens","functionCall","argsRaw","opts","stack","maxStackSize","curr","getArg","aArgs","aName","aDefaultValue","exports","urlRegexp","dataUrlRegexp","urlParse","aUrl","urlGenerate","aParsedUrl","url","normalize","aPath","path","isAbsolute","part","up","join","aRoot","aPathUrl","aRootUrl","joined","relative","level","index","supportsNullProto","identity","s","toSetString","aStr","isProtoString","fromSetString","length","compareByOriginalPositions","mappingA","mappingB","onlyCompareOriginal","cmp","compareByGeneratedPositionsDeflated","onlyCompareGenerated","strcmp","aStr1","aStr2","compareByGeneratedPositionsInflated","recursiveSearch","aLow","aHigh","aNeedle","aHaystack","aCompare","aBias","mid","util","has","ArraySet","aArray","aAllowDuplicates","set","sStr","isDuplicate","idx","aIdx","arraySet","intToCharMap","base64","number","charCode","bigA","bigZ","littleA","littleZ","zero","nine","plus","slash","littleOffset","numberOffset","VLQ_BASE_SHIFT","VLQ_BASE","VLQ_BASE_MASK","VLQ_CONTINUATION_BIT","toVLQSigned","aValue","fromVLQSigned","isNegative","shifted","base64Vlq","encoded","digit","vlq","aIndex","aOutParam","strLen","shift","continuation","swap","ary","x","y","temp","randomIntInRange","low","high","doQuickSort","comparator","r","pivotIndex","pivot","q","quickSort","binarySearch","require$$1","require$$2","base64VLQ","require$$3","require$$4","SourceMapConsumer","aSourceMap","sourceMap","IndexedSourceMapConsumer","BasicSourceMapConsumer","c","aSourceRoot","aCallback","aContext","aOrder","context","order","mappings","sourceRoot","mapping","source","needle","originalLine","originalColumn","sourceMapConsumer","version","sources","names","sourcesContent","file","smc","generatedMappings","destGeneratedMappings","destOriginalMappings","srcMapping","destMapping","Mapping","generatedLine","previousGeneratedColumn","previousOriginalLine","previousOriginalColumn","previousSource","previousName","cachedSegments","originalMappings","segment","end","value","aMappings","aLineName","aColumnName","aComparator","nextMapping","name","sc","aSource","nullOnMissing","fileUriAbsPath","sections","lastOffset","offset","offsetLine","offsetColumn","sectionIndex","section","content","generatedPosition","ret","sectionMappings","adjustedMapping","SourceMap","_xdr","resolve","reject","req","_atob","b64str","_parseJson","string","_findFunctionName","syntaxes","code","maxLines","commentPos","m","_ensureSupportedEnvironment","_ensureStackFrameIsLegit","stackframe","_findSourceMappingURL","sourceMappingUrlRegExp","lastSourceMappingUrl","matchSourceMappingUrl","_extractLocationInfoFromSourceMapSource","sourceCache","loc","mappedSource","StackTraceGPS","isDataUrl","supportedEncodingRegexp","sourceMapStart","encodedSource","xhrPromise","sourceMappingURL","defaultSourceRoot","sourceMapConsumerPromise","sourceMapSource","mappedStackFrame","resolveMappedStackFrame","guessedFunctionName","ErrorStackParser","StackGenerator","_options","_generateError","err","_merge","first","second","target","prop","_isShapedLikeParsableError","_filtered","stackframes","filter","gps","sf","resolveOriginal","stackFrames","fn","callback","errback","thisArg","instrumented","errorMsg","requestOptions","headers","header","reportPayload","ErrorBoundary","PureComponent","state","hasError","errorMessage","undefined","stackTrace","mappedStackTrace","componentStack","handleCopyStackTrace","textarea","document","createElement","contents","push","textContent","style","position","body","appendChild","select","execCommand","removeChild","setState","copied","setTimeout","componentDidCatch","info","toString","StackTrace","fromError","then","map","catch","render","children","likelyBrowserAddonIssue","includes","jsxDEV","FormattedMessage","source_url","Helmet","AccountBio","note","className","handleClick","useLinks","__html","AccountFields","fields","limit","size","take","pair","classNames","verified","get","Icon","CheckIcon","HoverCardAccount","forwardRef","accountId","ref","dispatch","useAppDispatch","account","useAppSelector","accounts","suspended","hidden","getAccountHidden","isSuspendedOrHidden","Boolean","relationships","getIn","useEffect","fetchAccount","familiarFollowers","useFetchFamiliarFollowers","relationship","isMutual","followed_by","following","isFollower","hasRelationshipLoaded","shouldDisplayFamiliarFollowers","Fragment","Link","acct","Avatar","DisplayName","domain","note_emojified","ShortNumber","followers_count","FollowersCounter","FollowersYouKnowCounter","AvatarGroup","slice","id","FollowButton","LoadingIndicator","displayName","enterDelay","leaveDelay","popperConfig","strategy","isHoverCardAnchor","element","HoverCardController","open","setOpen","useState","setAccountId","anchor","setAnchor","cardRef","useRef","setLeaveTimeout","cancelLeaveTimeout","useTimeout","setEnterTimeout","cancelEnterTimeout","delayEnterTimeout","setScrollTimeout","useLocation","handleClose","useCallback","isScrolling","currentAnchor","currentTitle","setAttribute","getAttribute","close","removeAttribute","handleMouseEnter","HTMLElement","current","handleMouseLeave","handleScrollEnd","handleScroll","handleMouseMove","addEventListener","passive","capture","removeEventListener","Overlay","messages","defineMessages","defaultMessage","Header","statusId","onClose","intl","useIntl","IconButton","CloseIcon","formatMessage","PictureInPicture","removePictureInPicture","pipState","picture_in_picture","type","src","currentTime","volume","muted","poster","backgroundColor","foregroundColor","accentColor","player","Video","Audio","Footer","SvgHome","React.createElement","home","search","publish","notifications","menu","IconLabelButton","to","icon","activeIcon","title","useRouteMatch","NavLink","NotificationsButton","count","selectUnreadNotificationGroupsCount","IconWithBadge","NotificationsIcon","NotificationsActiveIcon","LoginOrSignUp","signupUrl","server","openClosedRegistrationsModal","openModal","modalType","modalProps","fetchServer","sso_redirect","signupButton","registrationsOpen","NavigationBar","signedIn","useIdentity","navigation","toggleNavigation","active","HomeIcon","HomeActiveIcon","SearchIcon","AddIcon","MenuIcon","UploadArea","handleKeyUp","key","preventDefault","stopPropagation","window","wrapperAnimStyles","useSpring","from","opacity","reverse","backgroundAnimStyles","transform","config","wobbly","animated","visibility","browseHashtag","browseHashtagFromAccount","muteHashtag","isHashtagLink","HashtagMenuController","hashtag","setTargetParams","targetRef","closest","button","ctrlKey","metaKey","text","replace","useMemo","username","href","dangerous","arrowProps","placement","DropdownMenu","ColumnLoading","otherProps","Column","ColumnHeader","useLayout","layout","meta","singleColumn","aboutActiveUsers","mapStateToProps","ServerBanner","componentDidMount","isLoading","mastodon","ServerHeroImage","Skeleton","Account","ServerBanner$1","connect","injectIntl","ComposePanel","handleFocus","changeComposing","hideComposer","mounted","compose","mountCompose","unmountCompose","Search","ComposeFormContainer","LinkFooter","DrawerLoading","SvgBookmarks","SvgSettings","DisabledAccountBanner","disabledAccount","disabledAccountId","movedToAccount","movedToAccountId","handleLogOutClick","disabledAccountLink","SvgKeyboardArrowDown","SvgKeyboardArrowUp","CollapsiblePanel","iconComponent","activeIconComponent","collapseTitle","expandTitle","loading","expanded","setExpanded","accessibilityId","useId","ColumnLink","KeyboardArrowUpIcon","KeyboardArrowDownIcon","followedTags","expand","collapse","FollowedTagsPanel","tags","setTags","setLoading","apiGetFollowedTags","TagIcon","tag","SvgListAltFill","lists","ListPanel","getOrderedLists","fetchLists","ListAltIcon","ListAltActiveIcon","list","blocks","domainBlocks","mutes","filters","administration","moderation","logout","automatedDeletion","accountSettings","importExport","privacyAndReach","MoreLink","permissions","arr","canManageReports","canViewAdminDashboard","handleLogoutClick","action","Dropdown","MoreHorizIcon","SignInBanner","explore","firehose","direct","favourites","bookmarks","preferences","followsAndFollowers","about","searchTrends","advancedInterface","openedInClassicInterface","followRequests","NotificationsLink","FollowRequestsLink","user_lists","fetchFollowRequests","PersonAddIcon","PersonAddActiveIcon","ProfileCard","me","isFirehoseActive","pathname","startsWith","MENU_WIDTH","NavigationPanel","openable","useBreakpoint","showSearch","overlayRef","closeNavigation","handleDocumentClick","handleDocumentKeyUp","isLtrDir","getComputedStyle","direction","OPEN_MENU_OFFSET","spring","onRest","openNavigation","bind","useDrag","last","xOffset","velocity","xVelocity","xDirection","cancel","logicalXDirection","logicalXOffset","isAboveOpenThreshold","isQuickFlick","start","immediate","filterTaps","bounds","left","right","rubberband","previouslyFocusedElementRef","firstLink","querySelector","activeElement","focus","banner","transientSingleColumn","showOverlay","WordmarkLogo","trendsEnabled","TrendingUpIcon","timelinePreview","PublicIcon","StarIcon","StarActiveIcon","BookmarksIcon","BookmarksActiveIcon","AlternateEmailIcon","SettingsIcon","InfoIcon","Trends","componentMap","Compose","HomeTimeline","Notifications","PublicTimeline","CommunityTimeline","HashtagTimeline","DirectTimeline","FavouritedStatuses","BookmarkedStatuses","ListTimeline","Directory","TabsBarPortal","setTabsBarElement","useColumnsContext","setRef","ColumnsArea","ImmutablePureComponent","mediaQuery","matchMedia","renderComposePanel","handleLayoutChange","node","renderLoading","columnId","renderError","BundleColumnError","addListener","isRtlLayout","getElementsByTagName","classList","contains","componentWillUnmount","removeListener","handleChildrenContentChange","modifier","scrollRight","scrollWidth","innerWidth","columns","isModalOpen","column","params","toJS","other","BundleContainer","SpecificComponent","Children","child","cloneElement","multiColumn","__publicField","propTypes","ImmutablePropTypes","isRequired","PropTypes","bool","ColumnsAreaContainer","WrappedSwitch","decklessLocation","Switch","WrappedRoute","Component","stacktrace","renderComponent","component","componentParams","getDerivedStateFromError","frame","console","rest","Route","defaultProps","beforeUnload","isComposing","hasComposingText","trim","hasMediaAttachments","canUploadMore","some","firstLaunch","INTRODUCTION_VERSION","newAccount","keyMap","help","new","forceNew","toggleComposeSpoilers","focusColumn","reply","favourite","boost","mention","openProfile","moveDown","moveUp","back","goToHome","goToNotifications","goToLocal","goToFederated","goToDirect","goToStart","goToFavourites","goToPinned","goToProfile","goToBlocked","goToMuted","goToRequests","toggleHidden","toggleSensitive","openMedia","onTranslate","SwitchingColumnsArea","UNSAFE_componentWillMount","toggle","componentDidUpdate","prevProps","forceOnboarding","pathName","redirect","Redirect","singleUserMode","owner","initialState","trendsAsLanding","ColumnsContextProvider","GettingStarted","KeyboardShortcuts","About","PrivacyPolicy","TermsOfService","Firehose","feedType","LinkTimeline","ListEdit","ListMembers","NotificationRequests","NotificationRequest","PinnedStatuses","OnboardingProfile","OnboardingFollows","Explore","AccountTimeline","AccountFeatured","withReplies","Followers","Following","AccountGallery","Status","Reblogs","Favourites","FollowRequests","Blocks","DomainBlocks","FollowedTags","Mutes","Lists","UI","draggingOver","handleBeforeUnload","synchronouslySubmitMarkers","returnValue","handleWindowFocus","focusApp","submitMarkers","handleWindowBlur","unfocusApp","handleDragEnter","dragTargets","indexOf","dataTransfer","Array","types","handleDragOver","dataTransferIsText","dropEffect","handleDrop","files","uploadCompose","handleDragLeave","el","closeUploadModal","handleServiceWorkerPostMessage","data","history","warn","debounce","clearHeight","trailing","handleResize","layoutFromWindow","changeLayout","handleHotkeyNew","handleHotkeySearch","handleHotkeyForceNew","resetCompose","handleHotkeyToggleComposeSpoilers","changeComposeSpoilerness","handleHotkeyFocusColumn","container","status","scrollTop","offsetTop","scrollIntoView","handleHotkeyBack","fromMastodon","goBack","setHotkeysRef","hotkeys","handleHotkeyToggleHelp","handleHotkeyGoToHome","handleHotkeyGoToNotifications","handleHotkeyGoToLocal","handleHotkeyGoToFederated","handleHotkeyGoToDirect","handleHotkeyGoToStart","handleHotkeyGoToFavourites","handleHotkeyGoToPinned","handleHotkeyGoToProfile","handleHotkeyGoToBlocked","handleHotkeyGoToMuted","handleHotkeyGoToRequests","handleDragEnd","navigator","serviceWorker","fetchMarkers","expandHomeTimeline","fetchNotifications","fetchServerTranslationLanguages","__mousetrap__","stopCallback","tagName","handlers","HotKeys","AlertsController","disableHoverCards","LoadingBarContainer","ModalContainer","UI$1","withRouter","withIdentity","isProduction","siteTitle","hydrateAction","hydrateStore","store","fetchCustomEmojis","Mastodon","createIdentityContext","disconnect","connectUserStream","shouldUpdateScroll","prevRouterProps","mastodonModalKey","IdentityContext","IntlProvider","ReduxProvider","Router","ScrollContext","perf","now","throwIfEmpty","insertSorted","item","mark","stop","measure","entries","marks","startTime","endTime","entry","isDevelopment","marky","main","ready","mountNode","getElementById","Error","JSON","parse","reduceMotion","Globals","assign","skipAnimation","createRoot","setupBrowserNotifications","Workbox","__vitePreload","wb","scope","registration","register","Notification","permission","registerPushNotifications","loadPolyfills","loadLocale"],"ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,45],"sources":["../../../node_modules/stackframe/stackframe.js","../../../node_modules/error-stack-parser/error-stack-parser.js","../../../node_modules/stack-generator/stack-generator.js","../../../node_modules/stacktrace-gps/node_modules/source-map/lib/util.js","../../../node_modules/stacktrace-gps/node_modules/source-map/lib/binary-search.js","../../../node_modules/stacktrace-gps/node_modules/source-map/lib/array-set.js","../../../node_modules/stacktrace-gps/node_modules/source-map/lib/base64.js","../../../node_modules/stacktrace-gps/node_modules/source-map/lib/base64-vlq.js","../../../node_modules/stacktrace-gps/node_modules/source-map/lib/quick-sort.js","../../../node_modules/stacktrace-gps/node_modules/source-map/lib/source-map-consumer.js","../../../node_modules/stacktrace-gps/stacktrace-gps.js","../../../node_modules/stacktrace-js/stacktrace.js","../../../app/javascript/mastodon/components/error_boundary.jsx","../../../app/javascript/mastodon/components/account_bio.tsx","../../../app/javascript/mastodon/components/account_fields.tsx","../../../app/javascript/mastodon/components/hover_card_account.tsx","../../../app/javascript/mastodon/components/hover_card_controller.tsx","../../../app/javascript/mastodon/features/picture_in_picture/components/header.tsx","../../../app/javascript/mastodon/features/picture_in_picture/index.tsx","../../../app/javascript/material-icons/400-24px/home.svg?react","../../../app/javascript/mastodon/features/ui/components/navigation_bar.tsx","../../../app/javascript/mastodon/features/ui/components/upload_area.tsx","../../../app/javascript/mastodon/features/ui/components/hashtag_menu_controller.tsx","../../../app/javascript/mastodon/features/ui/components/column_loading.tsx","../../../app/javascript/mastodon/hooks/useLayout.ts","../../../app/javascript/mastodon/components/server_banner.jsx","../../../app/javascript/mastodon/features/ui/components/compose_panel.tsx","../../../app/javascript/mastodon/features/ui/components/drawer_loading.jsx","../../../app/javascript/material-icons/400-24px/bookmarks.svg?react","../../../app/javascript/material-icons/400-24px/settings.svg?react","../../../app/javascript/mastodon/features/navigation_panel/components/disabled_account_banner.tsx","../../../app/javascript/material-icons/400-24px/keyboard_arrow_down.svg?react","../../../app/javascript/material-icons/400-24px/keyboard_arrow_up.svg?react","../../../app/javascript/mastodon/features/navigation_panel/components/collapsible_panel.tsx","../../../app/javascript/mastodon/features/navigation_panel/components/followed_tags_panel.tsx","../../../app/javascript/material-icons/400-24px/list_alt-fill.svg?react","../../../app/javascript/mastodon/features/navigation_panel/components/list_panel.tsx","../../../app/javascript/mastodon/features/navigation_panel/components/more_link.tsx","../../../app/javascript/mastodon/features/navigation_panel/components/sign_in_banner.tsx","../../../app/javascript/mastodon/features/navigation_panel/index.tsx","../../../app/javascript/mastodon/features/ui/components/columns_area.jsx","../../../app/javascript/mastodon/features/ui/containers/columns_area_container.js","../../../app/javascript/mastodon/features/ui/util/react_router_helpers.jsx","../../../app/javascript/mastodon/features/ui/index.jsx","../../../app/javascript/mastodon/containers/mastodon.jsx","../../../node_modules/marky/lib/marky.browser.es.js","../../../app/javascript/mastodon/performance.js","../../../app/javascript/mastodon/main.tsx","../../../app/javascript/entrypoints/application.ts"],"sourcesContent":["(function(root, factory) {\n    'use strict';\n    // Universal Module Definition (UMD) to support AMD, CommonJS/Node.js, Rhino, and browsers.\n\n    /* istanbul ignore next */\n    if (typeof define === 'function' && define.amd) {\n        define('stackframe', [], factory);\n    } else if (typeof exports === 'object') {\n        module.exports = factory();\n    } else {\n        root.StackFrame = factory();\n    }\n}(this, function() {\n    'use strict';\n    function _isNumber(n) {\n        return !isNaN(parseFloat(n)) && isFinite(n);\n    }\n\n    function _capitalize(str) {\n        return str.charAt(0).toUpperCase() + str.substring(1);\n    }\n\n    function _getter(p) {\n        return function() {\n            return this[p];\n        };\n    }\n\n    var booleanProps = ['isConstructor', 'isEval', 'isNative', 'isToplevel'];\n    var numericProps = ['columnNumber', 'lineNumber'];\n    var stringProps = ['fileName', 'functionName', 'source'];\n    var arrayProps = ['args'];\n    var objectProps = ['evalOrigin'];\n\n    var props = booleanProps.concat(numericProps, stringProps, arrayProps, objectProps);\n\n    function StackFrame(obj) {\n        if (!obj) return;\n        for (var i = 0; i < props.length; i++) {\n            if (obj[props[i]] !== undefined) {\n                this['set' + _capitalize(props[i])](obj[props[i]]);\n            }\n        }\n    }\n\n    StackFrame.prototype = {\n        getArgs: function() {\n            return this.args;\n        },\n        setArgs: function(v) {\n            if (Object.prototype.toString.call(v) !== '[object Array]') {\n                throw new TypeError('Args must be an Array');\n            }\n            this.args = v;\n        },\n\n        getEvalOrigin: function() {\n            return this.evalOrigin;\n        },\n        setEvalOrigin: function(v) {\n            if (v instanceof StackFrame) {\n                this.evalOrigin = v;\n            } else if (v instanceof Object) {\n                this.evalOrigin = new StackFrame(v);\n            } else {\n                throw new TypeError('Eval Origin must be an Object or StackFrame');\n            }\n        },\n\n        toString: function() {\n            var fileName = this.getFileName() || '';\n            var lineNumber = this.getLineNumber() || '';\n            var columnNumber = this.getColumnNumber() || '';\n            var functionName = this.getFunctionName() || '';\n            if (this.getIsEval()) {\n                if (fileName) {\n                    return '[eval] (' + fileName + ':' + lineNumber + ':' + columnNumber + ')';\n                }\n                return '[eval]:' + lineNumber + ':' + columnNumber;\n            }\n            if (functionName) {\n                return functionName + ' (' + fileName + ':' + lineNumber + ':' + columnNumber + ')';\n            }\n            return fileName + ':' + lineNumber + ':' + columnNumber;\n        }\n    };\n\n    StackFrame.fromString = function StackFrame$$fromString(str) {\n        var argsStartIndex = str.indexOf('(');\n        var argsEndIndex = str.lastIndexOf(')');\n\n        var functionName = str.substring(0, argsStartIndex);\n        var args = str.substring(argsStartIndex + 1, argsEndIndex).split(',');\n        var locationString = str.substring(argsEndIndex + 1);\n\n        if (locationString.indexOf('@') === 0) {\n            var parts = /@(.+?)(?::(\\d+))?(?::(\\d+))?$/.exec(locationString, '');\n            var fileName = parts[1];\n            var lineNumber = parts[2];\n            var columnNumber = parts[3];\n        }\n\n        return new StackFrame({\n            functionName: functionName,\n            args: args || undefined,\n            fileName: fileName,\n            lineNumber: lineNumber || undefined,\n            columnNumber: columnNumber || undefined\n        });\n    };\n\n    for (var i = 0; i < booleanProps.length; i++) {\n        StackFrame.prototype['get' + _capitalize(booleanProps[i])] = _getter(booleanProps[i]);\n        StackFrame.prototype['set' + _capitalize(booleanProps[i])] = (function(p) {\n            return function(v) {\n                this[p] = Boolean(v);\n            };\n        })(booleanProps[i]);\n    }\n\n    for (var j = 0; j < numericProps.length; j++) {\n        StackFrame.prototype['get' + _capitalize(numericProps[j])] = _getter(numericProps[j]);\n        StackFrame.prototype['set' + _capitalize(numericProps[j])] = (function(p) {\n            return function(v) {\n                if (!_isNumber(v)) {\n                    throw new TypeError(p + ' must be a Number');\n                }\n                this[p] = Number(v);\n            };\n        })(numericProps[j]);\n    }\n\n    for (var k = 0; k < stringProps.length; k++) {\n        StackFrame.prototype['get' + _capitalize(stringProps[k])] = _getter(stringProps[k]);\n        StackFrame.prototype['set' + _capitalize(stringProps[k])] = (function(p) {\n            return function(v) {\n                this[p] = String(v);\n            };\n        })(stringProps[k]);\n    }\n\n    return StackFrame;\n}));\n","(function(root, factory) {\n    'use strict';\n    // Universal Module Definition (UMD) to support AMD, CommonJS/Node.js, Rhino, and browsers.\n\n    /* istanbul ignore next */\n    if (typeof define === 'function' && define.amd) {\n        define('error-stack-parser', ['stackframe'], factory);\n    } else if (typeof exports === 'object') {\n        module.exports = factory(require('stackframe'));\n    } else {\n        root.ErrorStackParser = factory(root.StackFrame);\n    }\n}(this, function ErrorStackParser(StackFrame) {\n    'use strict';\n\n    var FIREFOX_SAFARI_STACK_REGEXP = /(^|@)\\S+:\\d+/;\n    var CHROME_IE_STACK_REGEXP = /^\\s*at .*(\\S+:\\d+|\\(native\\))/m;\n    var SAFARI_NATIVE_CODE_REGEXP = /^(eval@)?(\\[native code])?$/;\n\n    return {\n        /**\n         * Given an Error object, extract the most information from it.\n         *\n         * @param {Error} error object\n         * @return {Array} of StackFrames\n         */\n        parse: function ErrorStackParser$$parse(error) {\n            if (typeof error.stacktrace !== 'undefined' || typeof error['opera#sourceloc'] !== 'undefined') {\n                return this.parseOpera(error);\n            } else if (error.stack && error.stack.match(CHROME_IE_STACK_REGEXP)) {\n                return this.parseV8OrIE(error);\n            } else if (error.stack) {\n                return this.parseFFOrSafari(error);\n            } else {\n                throw new Error('Cannot parse given Error object');\n            }\n        },\n\n        // Separate line and column numbers from a string of the form: (URI:Line:Column)\n        extractLocation: function ErrorStackParser$$extractLocation(urlLike) {\n            // Fail-fast but return locations like \"(native)\"\n            if (urlLike.indexOf(':') === -1) {\n                return [urlLike];\n            }\n\n            var regExp = /(.+?)(?::(\\d+))?(?::(\\d+))?$/;\n            var parts = regExp.exec(urlLike.replace(/[()]/g, ''));\n            return [parts[1], parts[2] || undefined, parts[3] || undefined];\n        },\n\n        parseV8OrIE: function ErrorStackParser$$parseV8OrIE(error) {\n            var filtered = error.stack.split('\\n').filter(function(line) {\n                return !!line.match(CHROME_IE_STACK_REGEXP);\n            }, this);\n\n            return filtered.map(function(line) {\n                if (line.indexOf('(eval ') > -1) {\n                    // Throw away eval information until we implement stacktrace.js/stackframe#8\n                    line = line.replace(/eval code/g, 'eval').replace(/(\\(eval at [^()]*)|(,.*$)/g, '');\n                }\n                var sanitizedLine = line.replace(/^\\s+/, '').replace(/\\(eval code/g, '(').replace(/^.*?\\s+/, '');\n\n                // capture and preseve the parenthesized location \"(/foo/my bar.js:12:87)\" in\n                // case it has spaces in it, as the string is split on \\s+ later on\n                var location = sanitizedLine.match(/ (\\(.+\\)$)/);\n\n                // remove the parenthesized location from the line, if it was matched\n                sanitizedLine = location ? sanitizedLine.replace(location[0], '') : sanitizedLine;\n\n                // if a location was matched, pass it to extractLocation() otherwise pass all sanitizedLine\n                // because this line doesn't have function name\n                var locationParts = this.extractLocation(location ? location[1] : sanitizedLine);\n                var functionName = location && sanitizedLine || undefined;\n                var fileName = ['eval', '<anonymous>'].indexOf(locationParts[0]) > -1 ? undefined : locationParts[0];\n\n                return new StackFrame({\n                    functionName: functionName,\n                    fileName: fileName,\n                    lineNumber: locationParts[1],\n                    columnNumber: locationParts[2],\n                    source: line\n                });\n            }, this);\n        },\n\n        parseFFOrSafari: function ErrorStackParser$$parseFFOrSafari(error) {\n            var filtered = error.stack.split('\\n').filter(function(line) {\n                return !line.match(SAFARI_NATIVE_CODE_REGEXP);\n            }, this);\n\n            return filtered.map(function(line) {\n                // Throw away eval information until we implement stacktrace.js/stackframe#8\n                if (line.indexOf(' > eval') > -1) {\n                    line = line.replace(/ line (\\d+)(?: > eval line \\d+)* > eval:\\d+:\\d+/g, ':$1');\n                }\n\n                if (line.indexOf('@') === -1 && line.indexOf(':') === -1) {\n                    // Safari eval frames only have function names and nothing else\n                    return new StackFrame({\n                        functionName: line\n                    });\n                } else {\n                    var functionNameRegex = /((.*\".+\"[^@]*)?[^@]*)(?:@)/;\n                    var matches = line.match(functionNameRegex);\n                    var functionName = matches && matches[1] ? matches[1] : undefined;\n                    var locationParts = this.extractLocation(line.replace(functionNameRegex, ''));\n\n                    return new StackFrame({\n                        functionName: functionName,\n                        fileName: locationParts[0],\n                        lineNumber: locationParts[1],\n                        columnNumber: locationParts[2],\n                        source: line\n                    });\n                }\n            }, this);\n        },\n\n        parseOpera: function ErrorStackParser$$parseOpera(e) {\n            if (!e.stacktrace || (e.message.indexOf('\\n') > -1 &&\n                e.message.split('\\n').length > e.stacktrace.split('\\n').length)) {\n                return this.parseOpera9(e);\n            } else if (!e.stack) {\n                return this.parseOpera10(e);\n            } else {\n                return this.parseOpera11(e);\n            }\n        },\n\n        parseOpera9: function ErrorStackParser$$parseOpera9(e) {\n            var lineRE = /Line (\\d+).*script (?:in )?(\\S+)/i;\n            var lines = e.message.split('\\n');\n            var result = [];\n\n            for (var i = 2, len = lines.length; i < len; i += 2) {\n                var match = lineRE.exec(lines[i]);\n                if (match) {\n                    result.push(new StackFrame({\n                        fileName: match[2],\n                        lineNumber: match[1],\n                        source: lines[i]\n                    }));\n                }\n            }\n\n            return result;\n        },\n\n        parseOpera10: function ErrorStackParser$$parseOpera10(e) {\n            var lineRE = /Line (\\d+).*script (?:in )?(\\S+)(?:: In function (\\S+))?$/i;\n            var lines = e.stacktrace.split('\\n');\n            var result = [];\n\n            for (var i = 0, len = lines.length; i < len; i += 2) {\n                var match = lineRE.exec(lines[i]);\n                if (match) {\n                    result.push(\n                        new StackFrame({\n                            functionName: match[3] || undefined,\n                            fileName: match[2],\n                            lineNumber: match[1],\n                            source: lines[i]\n                        })\n                    );\n                }\n            }\n\n            return result;\n        },\n\n        // Opera 10.65+ Error.stack very similar to FF/Safari\n        parseOpera11: function ErrorStackParser$$parseOpera11(error) {\n            var filtered = error.stack.split('\\n').filter(function(line) {\n                return !!line.match(FIREFOX_SAFARI_STACK_REGEXP) && !line.match(/^Error created at/);\n            }, this);\n\n            return filtered.map(function(line) {\n                var tokens = line.split('@');\n                var locationParts = this.extractLocation(tokens.pop());\n                var functionCall = (tokens.shift() || '');\n                var functionName = functionCall\n                    .replace(/<anonymous function(: (\\w+))?>/, '$2')\n                    .replace(/\\([^)]*\\)/g, '') || undefined;\n                var argsRaw;\n                if (functionCall.match(/\\(([^)]*)\\)/)) {\n                    argsRaw = functionCall.replace(/^[^(]+\\(([^)]*)\\)$/, '$1');\n                }\n                var args = (argsRaw === undefined || argsRaw === '[arguments not available]') ?\n                    undefined : argsRaw.split(',');\n\n                return new StackFrame({\n                    functionName: functionName,\n                    args: args,\n                    fileName: locationParts[0],\n                    lineNumber: locationParts[1],\n                    columnNumber: locationParts[2],\n                    source: line\n                });\n            }, this);\n        }\n    };\n}));\n","(function(root, factory) {\n    'use strict';\n    // Universal Module Definition (UMD) to support AMD, CommonJS/Node.js, Rhino, and browsers.\n\n    /* istanbul ignore next */\n    if (typeof define === 'function' && define.amd) {\n        define('stack-generator', ['stackframe'], factory);\n    } else if (typeof exports === 'object') {\n        module.exports = factory(require('stackframe'));\n    } else {\n        root.StackGenerator = factory(root.StackFrame);\n    }\n}(this, function(StackFrame) {\n    return {\n        backtrace: function StackGenerator$$backtrace(opts) {\n            var stack = [];\n            var maxStackSize = 10;\n\n            if (typeof opts === 'object' && typeof opts.maxStackSize === 'number') {\n                maxStackSize = opts.maxStackSize;\n            }\n\n            var curr = arguments.callee;\n            while (curr && stack.length < maxStackSize && curr['arguments']) {\n                // Allow V8 optimizations\n                var args = new Array(curr['arguments'].length);\n                for (var i = 0; i < args.length; ++i) {\n                    args[i] = curr['arguments'][i];\n                }\n                if (/function(?:\\s+([\\w$]+))+\\s*\\(/.test(curr.toString())) {\n                    stack.push(new StackFrame({functionName: RegExp.$1 || undefined, args: args}));\n                } else {\n                    stack.push(new StackFrame({args: args}));\n                }\n\n                try {\n                    curr = curr.caller;\n                } catch (e) {\n                    break;\n                }\n            }\n            return stack;\n        }\n    };\n}));\n","/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\n/**\n * This is a helper function for getting values from parameter/options\n * objects.\n *\n * @param args The object we are extracting values from\n * @param name The name of the property we are getting.\n * @param defaultValue An optional value to return if the property is missing\n * from the object. If this is not specified and the property is missing, an\n * error will be thrown.\n */\nfunction getArg(aArgs, aName, aDefaultValue) {\n  if (aName in aArgs) {\n    return aArgs[aName];\n  } else if (arguments.length === 3) {\n    return aDefaultValue;\n  } else {\n    throw new Error('\"' + aName + '\" is a required argument.');\n  }\n}\nexports.getArg = getArg;\n\nvar urlRegexp = /^(?:([\\w+\\-.]+):)?\\/\\/(?:(\\w+:\\w+)@)?([\\w.]*)(?::(\\d+))?(\\S*)$/;\nvar dataUrlRegexp = /^data:.+\\,.+$/;\n\nfunction urlParse(aUrl) {\n  var match = aUrl.match(urlRegexp);\n  if (!match) {\n    return null;\n  }\n  return {\n    scheme: match[1],\n    auth: match[2],\n    host: match[3],\n    port: match[4],\n    path: match[5]\n  };\n}\nexports.urlParse = urlParse;\n\nfunction urlGenerate(aParsedUrl) {\n  var url = '';\n  if (aParsedUrl.scheme) {\n    url += aParsedUrl.scheme + ':';\n  }\n  url += '//';\n  if (aParsedUrl.auth) {\n    url += aParsedUrl.auth + '@';\n  }\n  if (aParsedUrl.host) {\n    url += aParsedUrl.host;\n  }\n  if (aParsedUrl.port) {\n    url += \":\" + aParsedUrl.port\n  }\n  if (aParsedUrl.path) {\n    url += aParsedUrl.path;\n  }\n  return url;\n}\nexports.urlGenerate = urlGenerate;\n\n/**\n * Normalizes a path, or the path portion of a URL:\n *\n * - Replaces consecutive slashes with one slash.\n * - Removes unnecessary '.' parts.\n * - Removes unnecessary '<dir>/..' parts.\n *\n * Based on code in the Node.js 'path' core module.\n *\n * @param aPath The path or url to normalize.\n */\nfunction normalize(aPath) {\n  var path = aPath;\n  var url = urlParse(aPath);\n  if (url) {\n    if (!url.path) {\n      return aPath;\n    }\n    path = url.path;\n  }\n  var isAbsolute = exports.isAbsolute(path);\n\n  var parts = path.split(/\\/+/);\n  for (var part, up = 0, i = parts.length - 1; i >= 0; i--) {\n    part = parts[i];\n    if (part === '.') {\n      parts.splice(i, 1);\n    } else if (part === '..') {\n      up++;\n    } else if (up > 0) {\n      if (part === '') {\n        // The first part is blank if the path is absolute. Trying to go\n        // above the root is a no-op. Therefore we can remove all '..' parts\n        // directly after the root.\n        parts.splice(i + 1, up);\n        up = 0;\n      } else {\n        parts.splice(i, 2);\n        up--;\n      }\n    }\n  }\n  path = parts.join('/');\n\n  if (path === '') {\n    path = isAbsolute ? '/' : '.';\n  }\n\n  if (url) {\n    url.path = path;\n    return urlGenerate(url);\n  }\n  return path;\n}\nexports.normalize = normalize;\n\n/**\n * Joins two paths/URLs.\n *\n * @param aRoot The root path or URL.\n * @param aPath The path or URL to be joined with the root.\n *\n * - If aPath is a URL or a data URI, aPath is returned, unless aPath is a\n *   scheme-relative URL: Then the scheme of aRoot, if any, is prepended\n *   first.\n * - Otherwise aPath is a path. If aRoot is a URL, then its path portion\n *   is updated with the result and aRoot is returned. Otherwise the result\n *   is returned.\n *   - If aPath is absolute, the result is aPath.\n *   - Otherwise the two paths are joined with a slash.\n * - Joining for example 'http://' and 'www.example.com' is also supported.\n */\nfunction join(aRoot, aPath) {\n  if (aRoot === \"\") {\n    aRoot = \".\";\n  }\n  if (aPath === \"\") {\n    aPath = \".\";\n  }\n  var aPathUrl = urlParse(aPath);\n  var aRootUrl = urlParse(aRoot);\n  if (aRootUrl) {\n    aRoot = aRootUrl.path || '/';\n  }\n\n  // `join(foo, '//www.example.org')`\n  if (aPathUrl && !aPathUrl.scheme) {\n    if (aRootUrl) {\n      aPathUrl.scheme = aRootUrl.scheme;\n    }\n    return urlGenerate(aPathUrl);\n  }\n\n  if (aPathUrl || aPath.match(dataUrlRegexp)) {\n    return aPath;\n  }\n\n  // `join('http://', 'www.example.com')`\n  if (aRootUrl && !aRootUrl.host && !aRootUrl.path) {\n    aRootUrl.host = aPath;\n    return urlGenerate(aRootUrl);\n  }\n\n  var joined = aPath.charAt(0) === '/'\n    ? aPath\n    : normalize(aRoot.replace(/\\/+$/, '') + '/' + aPath);\n\n  if (aRootUrl) {\n    aRootUrl.path = joined;\n    return urlGenerate(aRootUrl);\n  }\n  return joined;\n}\nexports.join = join;\n\nexports.isAbsolute = function (aPath) {\n  return aPath.charAt(0) === '/' || !!aPath.match(urlRegexp);\n};\n\n/**\n * Make a path relative to a URL or another path.\n *\n * @param aRoot The root path or URL.\n * @param aPath The path or URL to be made relative to aRoot.\n */\nfunction relative(aRoot, aPath) {\n  if (aRoot === \"\") {\n    aRoot = \".\";\n  }\n\n  aRoot = aRoot.replace(/\\/$/, '');\n\n  // It is possible for the path to be above the root. In this case, simply\n  // checking whether the root is a prefix of the path won't work. Instead, we\n  // need to remove components from the root one by one, until either we find\n  // a prefix that fits, or we run out of components to remove.\n  var level = 0;\n  while (aPath.indexOf(aRoot + '/') !== 0) {\n    var index = aRoot.lastIndexOf(\"/\");\n    if (index < 0) {\n      return aPath;\n    }\n\n    // If the only part of the root that is left is the scheme (i.e. http://,\n    // file:///, etc.), one or more slashes (/), or simply nothing at all, we\n    // have exhausted all components, so the path is not relative to the root.\n    aRoot = aRoot.slice(0, index);\n    if (aRoot.match(/^([^\\/]+:\\/)?\\/*$/)) {\n      return aPath;\n    }\n\n    ++level;\n  }\n\n  // Make sure we add a \"../\" for each component we removed from the root.\n  return Array(level + 1).join(\"../\") + aPath.substr(aRoot.length + 1);\n}\nexports.relative = relative;\n\nvar supportsNullProto = (function () {\n  var obj = Object.create(null);\n  return !('__proto__' in obj);\n}());\n\nfunction identity (s) {\n  return s;\n}\n\n/**\n * Because behavior goes wacky when you set `__proto__` on objects, we\n * have to prefix all the strings in our set with an arbitrary character.\n *\n * See https://github.com/mozilla/source-map/pull/31 and\n * https://github.com/mozilla/source-map/issues/30\n *\n * @param String aStr\n */\nfunction toSetString(aStr) {\n  if (isProtoString(aStr)) {\n    return '$' + aStr;\n  }\n\n  return aStr;\n}\nexports.toSetString = supportsNullProto ? identity : toSetString;\n\nfunction fromSetString(aStr) {\n  if (isProtoString(aStr)) {\n    return aStr.slice(1);\n  }\n\n  return aStr;\n}\nexports.fromSetString = supportsNullProto ? identity : fromSetString;\n\nfunction isProtoString(s) {\n  if (!s) {\n    return false;\n  }\n\n  var length = s.length;\n\n  if (length < 9 /* \"__proto__\".length */) {\n    return false;\n  }\n\n  if (s.charCodeAt(length - 1) !== 95  /* '_' */ ||\n      s.charCodeAt(length - 2) !== 95  /* '_' */ ||\n      s.charCodeAt(length - 3) !== 111 /* 'o' */ ||\n      s.charCodeAt(length - 4) !== 116 /* 't' */ ||\n      s.charCodeAt(length - 5) !== 111 /* 'o' */ ||\n      s.charCodeAt(length - 6) !== 114 /* 'r' */ ||\n      s.charCodeAt(length - 7) !== 112 /* 'p' */ ||\n      s.charCodeAt(length - 8) !== 95  /* '_' */ ||\n      s.charCodeAt(length - 9) !== 95  /* '_' */) {\n    return false;\n  }\n\n  for (var i = length - 10; i >= 0; i--) {\n    if (s.charCodeAt(i) !== 36 /* '$' */) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\n/**\n * Comparator between two mappings where the original positions are compared.\n *\n * Optionally pass in `true` as `onlyCompareGenerated` to consider two\n * mappings with the same original source/line/column, but different generated\n * line and column the same. Useful when searching for a mapping with a\n * stubbed out mapping.\n */\nfunction compareByOriginalPositions(mappingA, mappingB, onlyCompareOriginal) {\n  var cmp = mappingA.source - mappingB.source;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalLine - mappingB.originalLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalColumn - mappingB.originalColumn;\n  if (cmp !== 0 || onlyCompareOriginal) {\n    return cmp;\n  }\n\n  cmp = mappingA.generatedColumn - mappingB.generatedColumn;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.generatedLine - mappingB.generatedLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  return mappingA.name - mappingB.name;\n}\nexports.compareByOriginalPositions = compareByOriginalPositions;\n\n/**\n * Comparator between two mappings with deflated source and name indices where\n * the generated positions are compared.\n *\n * Optionally pass in `true` as `onlyCompareGenerated` to consider two\n * mappings with the same generated line and column, but different\n * source/name/original line and column the same. Useful when searching for a\n * mapping with a stubbed out mapping.\n */\nfunction compareByGeneratedPositionsDeflated(mappingA, mappingB, onlyCompareGenerated) {\n  var cmp = mappingA.generatedLine - mappingB.generatedLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.generatedColumn - mappingB.generatedColumn;\n  if (cmp !== 0 || onlyCompareGenerated) {\n    return cmp;\n  }\n\n  cmp = mappingA.source - mappingB.source;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalLine - mappingB.originalLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalColumn - mappingB.originalColumn;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  return mappingA.name - mappingB.name;\n}\nexports.compareByGeneratedPositionsDeflated = compareByGeneratedPositionsDeflated;\n\nfunction strcmp(aStr1, aStr2) {\n  if (aStr1 === aStr2) {\n    return 0;\n  }\n\n  if (aStr1 > aStr2) {\n    return 1;\n  }\n\n  return -1;\n}\n\n/**\n * Comparator between two mappings with inflated source and name strings where\n * the generated positions are compared.\n */\nfunction compareByGeneratedPositionsInflated(mappingA, mappingB) {\n  var cmp = mappingA.generatedLine - mappingB.generatedLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.generatedColumn - mappingB.generatedColumn;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = strcmp(mappingA.source, mappingB.source);\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalLine - mappingB.originalLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalColumn - mappingB.originalColumn;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  return strcmp(mappingA.name, mappingB.name);\n}\nexports.compareByGeneratedPositionsInflated = compareByGeneratedPositionsInflated;\n","/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\nexports.GREATEST_LOWER_BOUND = 1;\nexports.LEAST_UPPER_BOUND = 2;\n\n/**\n * Recursive implementation of binary search.\n *\n * @param aLow Indices here and lower do not contain the needle.\n * @param aHigh Indices here and higher do not contain the needle.\n * @param aNeedle The element being searched for.\n * @param aHaystack The non-empty array being searched.\n * @param aCompare Function which takes two elements and returns -1, 0, or 1.\n * @param aBias Either 'binarySearch.GREATEST_LOWER_BOUND' or\n *     'binarySearch.LEAST_UPPER_BOUND'. Specifies whether to return the\n *     closest element that is smaller than or greater than the one we are\n *     searching for, respectively, if the exact element cannot be found.\n */\nfunction recursiveSearch(aLow, aHigh, aNeedle, aHaystack, aCompare, aBias) {\n  // This function terminates when one of the following is true:\n  //\n  //   1. We find the exact element we are looking for.\n  //\n  //   2. We did not find the exact element, but we can return the index of\n  //      the next-closest element.\n  //\n  //   3. We did not find the exact element, and there is no next-closest\n  //      element than the one we are searching for, so we return -1.\n  var mid = Math.floor((aHigh - aLow) / 2) + aLow;\n  var cmp = aCompare(aNeedle, aHaystack[mid], true);\n  if (cmp === 0) {\n    // Found the element we are looking for.\n    return mid;\n  }\n  else if (cmp > 0) {\n    // Our needle is greater than aHaystack[mid].\n    if (aHigh - mid > 1) {\n      // The element is in the upper half.\n      return recursiveSearch(mid, aHigh, aNeedle, aHaystack, aCompare, aBias);\n    }\n\n    // The exact needle element was not found in this haystack. Determine if\n    // we are in termination case (3) or (2) and return the appropriate thing.\n    if (aBias == exports.LEAST_UPPER_BOUND) {\n      return aHigh < aHaystack.length ? aHigh : -1;\n    } else {\n      return mid;\n    }\n  }\n  else {\n    // Our needle is less than aHaystack[mid].\n    if (mid - aLow > 1) {\n      // The element is in the lower half.\n      return recursiveSearch(aLow, mid, aNeedle, aHaystack, aCompare, aBias);\n    }\n\n    // we are in termination case (3) or (2) and return the appropriate thing.\n    if (aBias == exports.LEAST_UPPER_BOUND) {\n      return mid;\n    } else {\n      return aLow < 0 ? -1 : aLow;\n    }\n  }\n}\n\n/**\n * This is an implementation of binary search which will always try and return\n * the index of the closest element if there is no exact hit. This is because\n * mappings between original and generated line/col pairs are single points,\n * and there is an implicit region between each of them, so a miss just means\n * that you aren't on the very start of a region.\n *\n * @param aNeedle The element you are looking for.\n * @param aHaystack The array that is being searched.\n * @param aCompare A function which takes the needle and an element in the\n *     array and returns -1, 0, or 1 depending on whether the needle is less\n *     than, equal to, or greater than the element, respectively.\n * @param aBias Either 'binarySearch.GREATEST_LOWER_BOUND' or\n *     'binarySearch.LEAST_UPPER_BOUND'. Specifies whether to return the\n *     closest element that is smaller than or greater than the one we are\n *     searching for, respectively, if the exact element cannot be found.\n *     Defaults to 'binarySearch.GREATEST_LOWER_BOUND'.\n */\nexports.search = function search(aNeedle, aHaystack, aCompare, aBias) {\n  if (aHaystack.length === 0) {\n    return -1;\n  }\n\n  var index = recursiveSearch(-1, aHaystack.length, aNeedle, aHaystack,\n                              aCompare, aBias || exports.GREATEST_LOWER_BOUND);\n  if (index < 0) {\n    return -1;\n  }\n\n  // We have found either the exact element, or the next-closest element than\n  // the one we are searching for. However, there may be more than one such\n  // element. Make sure we always return the smallest of these.\n  while (index - 1 >= 0) {\n    if (aCompare(aHaystack[index], aHaystack[index - 1], true) !== 0) {\n      break;\n    }\n    --index;\n  }\n\n  return index;\n};\n","/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\nvar util = require('./util');\nvar has = Object.prototype.hasOwnProperty;\n\n/**\n * A data structure which is a combination of an array and a set. Adding a new\n * member is O(1), testing for membership is O(1), and finding the index of an\n * element is O(1). Removing elements from the set is not supported. Only\n * strings are supported for membership.\n */\nfunction ArraySet() {\n  this._array = [];\n  this._set = Object.create(null);\n}\n\n/**\n * Static method for creating ArraySet instances from an existing array.\n */\nArraySet.fromArray = function ArraySet_fromArray(aArray, aAllowDuplicates) {\n  var set = new ArraySet();\n  for (var i = 0, len = aArray.length; i < len; i++) {\n    set.add(aArray[i], aAllowDuplicates);\n  }\n  return set;\n};\n\n/**\n * Return how many unique items are in this ArraySet. If duplicates have been\n * added, than those do not count towards the size.\n *\n * @returns Number\n */\nArraySet.prototype.size = function ArraySet_size() {\n  return Object.getOwnPropertyNames(this._set).length;\n};\n\n/**\n * Add the given string to this set.\n *\n * @param String aStr\n */\nArraySet.prototype.add = function ArraySet_add(aStr, aAllowDuplicates) {\n  var sStr = util.toSetString(aStr);\n  var isDuplicate = has.call(this._set, sStr);\n  var idx = this._array.length;\n  if (!isDuplicate || aAllowDuplicates) {\n    this._array.push(aStr);\n  }\n  if (!isDuplicate) {\n    this._set[sStr] = idx;\n  }\n};\n\n/**\n * Is the given string a member of this set?\n *\n * @param String aStr\n */\nArraySet.prototype.has = function ArraySet_has(aStr) {\n  var sStr = util.toSetString(aStr);\n  return has.call(this._set, sStr);\n};\n\n/**\n * What is the index of the given string in the array?\n *\n * @param String aStr\n */\nArraySet.prototype.indexOf = function ArraySet_indexOf(aStr) {\n  var sStr = util.toSetString(aStr);\n  if (has.call(this._set, sStr)) {\n    return this._set[sStr];\n  }\n  throw new Error('\"' + aStr + '\" is not in the set.');\n};\n\n/**\n * What is the element at the given index?\n *\n * @param Number aIdx\n */\nArraySet.prototype.at = function ArraySet_at(aIdx) {\n  if (aIdx >= 0 && aIdx < this._array.length) {\n    return this._array[aIdx];\n  }\n  throw new Error('No element indexed by ' + aIdx);\n};\n\n/**\n * Returns the array representation of this set (which has the proper indices\n * indicated by indexOf). Note that this is a copy of the internal array used\n * for storing the members so that no one can mess with internal state.\n */\nArraySet.prototype.toArray = function ArraySet_toArray() {\n  return this._array.slice();\n};\n\nexports.ArraySet = ArraySet;\n","/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\nvar intToCharMap = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'.split('');\n\n/**\n * Encode an integer in the range of 0 to 63 to a single base 64 digit.\n */\nexports.encode = function (number) {\n  if (0 <= number && number < intToCharMap.length) {\n    return intToCharMap[number];\n  }\n  throw new TypeError(\"Must be between 0 and 63: \" + number);\n};\n\n/**\n * Decode a single base 64 character code digit to an integer. Returns -1 on\n * failure.\n */\nexports.decode = function (charCode) {\n  var bigA = 65;     // 'A'\n  var bigZ = 90;     // 'Z'\n\n  var littleA = 97;  // 'a'\n  var littleZ = 122; // 'z'\n\n  var zero = 48;     // '0'\n  var nine = 57;     // '9'\n\n  var plus = 43;     // '+'\n  var slash = 47;    // '/'\n\n  var littleOffset = 26;\n  var numberOffset = 52;\n\n  // 0 - 25: ABCDEFGHIJKLMNOPQRSTUVWXYZ\n  if (bigA <= charCode && charCode <= bigZ) {\n    return (charCode - bigA);\n  }\n\n  // 26 - 51: abcdefghijklmnopqrstuvwxyz\n  if (littleA <= charCode && charCode <= littleZ) {\n    return (charCode - littleA + littleOffset);\n  }\n\n  // 52 - 61: 0123456789\n  if (zero <= charCode && charCode <= nine) {\n    return (charCode - zero + numberOffset);\n  }\n\n  // 62: +\n  if (charCode == plus) {\n    return 62;\n  }\n\n  // 63: /\n  if (charCode == slash) {\n    return 63;\n  }\n\n  // Invalid base64 digit.\n  return -1;\n};\n","/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n *\n * Based on the Base 64 VLQ implementation in Closure Compiler:\n * https://code.google.com/p/closure-compiler/source/browse/trunk/src/com/google/debugging/sourcemap/Base64VLQ.java\n *\n * Copyright 2011 The Closure Compiler Authors. All rights reserved.\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are\n * met:\n *\n *  * Redistributions of source code must retain the above copyright\n *    notice, this list of conditions and the following disclaimer.\n *  * Redistributions in binary form must reproduce the above\n *    copyright notice, this list of conditions and the following\n *    disclaimer in the documentation and/or other materials provided\n *    with the distribution.\n *  * Neither the name of Google Inc. nor the names of its\n *    contributors may be used to endorse or promote products derived\n *    from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\nvar base64 = require('./base64');\n\n// A single base 64 digit can contain 6 bits of data. For the base 64 variable\n// length quantities we use in the source map spec, the first bit is the sign,\n// the next four bits are the actual value, and the 6th bit is the\n// continuation bit. The continuation bit tells us whether there are more\n// digits in this value following this digit.\n//\n//   Continuation\n//   |    Sign\n//   |    |\n//   V    V\n//   101011\n\nvar VLQ_BASE_SHIFT = 5;\n\n// binary: 100000\nvar VLQ_BASE = 1 << VLQ_BASE_SHIFT;\n\n// binary: 011111\nvar VLQ_BASE_MASK = VLQ_BASE - 1;\n\n// binary: 100000\nvar VLQ_CONTINUATION_BIT = VLQ_BASE;\n\n/**\n * Converts from a two-complement value to a value where the sign bit is\n * placed in the least significant bit.  For example, as decimals:\n *   1 becomes 2 (10 binary), -1 becomes 3 (11 binary)\n *   2 becomes 4 (100 binary), -2 becomes 5 (101 binary)\n */\nfunction toVLQSigned(aValue) {\n  return aValue < 0\n    ? ((-aValue) << 1) + 1\n    : (aValue << 1) + 0;\n}\n\n/**\n * Converts to a two-complement value from a value where the sign bit is\n * placed in the least significant bit.  For example, as decimals:\n *   2 (10 binary) becomes 1, 3 (11 binary) becomes -1\n *   4 (100 binary) becomes 2, 5 (101 binary) becomes -2\n */\nfunction fromVLQSigned(aValue) {\n  var isNegative = (aValue & 1) === 1;\n  var shifted = aValue >> 1;\n  return isNegative\n    ? -shifted\n    : shifted;\n}\n\n/**\n * Returns the base 64 VLQ encoded value.\n */\nexports.encode = function base64VLQ_encode(aValue) {\n  var encoded = \"\";\n  var digit;\n\n  var vlq = toVLQSigned(aValue);\n\n  do {\n    digit = vlq & VLQ_BASE_MASK;\n    vlq >>>= VLQ_BASE_SHIFT;\n    if (vlq > 0) {\n      // There are still more digits in this value, so we must make sure the\n      // continuation bit is marked.\n      digit |= VLQ_CONTINUATION_BIT;\n    }\n    encoded += base64.encode(digit);\n  } while (vlq > 0);\n\n  return encoded;\n};\n\n/**\n * Decodes the next base 64 VLQ value from the given string and returns the\n * value and the rest of the string via the out parameter.\n */\nexports.decode = function base64VLQ_decode(aStr, aIndex, aOutParam) {\n  var strLen = aStr.length;\n  var result = 0;\n  var shift = 0;\n  var continuation, digit;\n\n  do {\n    if (aIndex >= strLen) {\n      throw new Error(\"Expected more digits in base 64 VLQ value.\");\n    }\n\n    digit = base64.decode(aStr.charCodeAt(aIndex++));\n    if (digit === -1) {\n      throw new Error(\"Invalid base64 digit: \" + aStr.charAt(aIndex - 1));\n    }\n\n    continuation = !!(digit & VLQ_CONTINUATION_BIT);\n    digit &= VLQ_BASE_MASK;\n    result = result + (digit << shift);\n    shift += VLQ_BASE_SHIFT;\n  } while (continuation);\n\n  aOutParam.value = fromVLQSigned(result);\n  aOutParam.rest = aIndex;\n};\n","/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\n// It turns out that some (most?) JavaScript engines don't self-host\n// `Array.prototype.sort`. This makes sense because C++ will likely remain\n// faster than JS when doing raw CPU-intensive sorting. However, when using a\n// custom comparator function, calling back and forth between the VM's C++ and\n// JIT'd JS is rather slow *and* loses JIT type information, resulting in\n// worse generated code for the comparator function than would be optimal. In\n// fact, when sorting with a comparator, these costs outweigh the benefits of\n// sorting in C++. By using our own JS-implemented Quick Sort (below), we get\n// a ~3500ms mean speed-up in `bench/bench.html`.\n\n/**\n * Swap the elements indexed by `x` and `y` in the array `ary`.\n *\n * @param {Array} ary\n *        The array.\n * @param {Number} x\n *        The index of the first item.\n * @param {Number} y\n *        The index of the second item.\n */\nfunction swap(ary, x, y) {\n  var temp = ary[x];\n  ary[x] = ary[y];\n  ary[y] = temp;\n}\n\n/**\n * Returns a random integer within the range `low .. high` inclusive.\n *\n * @param {Number} low\n *        The lower bound on the range.\n * @param {Number} high\n *        The upper bound on the range.\n */\nfunction randomIntInRange(low, high) {\n  return Math.round(low + (Math.random() * (high - low)));\n}\n\n/**\n * The Quick Sort algorithm.\n *\n * @param {Array} ary\n *        An array to sort.\n * @param {function} comparator\n *        Function to use to compare two items.\n * @param {Number} p\n *        Start index of the array\n * @param {Number} r\n *        End index of the array\n */\nfunction doQuickSort(ary, comparator, p, r) {\n  // If our lower bound is less than our upper bound, we (1) partition the\n  // array into two pieces and (2) recurse on each half. If it is not, this is\n  // the empty array and our base case.\n\n  if (p < r) {\n    // (1) Partitioning.\n    //\n    // The partitioning chooses a pivot between `p` and `r` and moves all\n    // elements that are less than or equal to the pivot to the before it, and\n    // all the elements that are greater than it after it. The effect is that\n    // once partition is done, the pivot is in the exact place it will be when\n    // the array is put in sorted order, and it will not need to be moved\n    // again. This runs in O(n) time.\n\n    // Always choose a random pivot so that an input array which is reverse\n    // sorted does not cause O(n^2) running time.\n    var pivotIndex = randomIntInRange(p, r);\n    var i = p - 1;\n\n    swap(ary, pivotIndex, r);\n    var pivot = ary[r];\n\n    // Immediately after `j` is incremented in this loop, the following hold\n    // true:\n    //\n    //   * Every element in `ary[p .. i]` is less than or equal to the pivot.\n    //\n    //   * Every element in `ary[i+1 .. j-1]` is greater than the pivot.\n    for (var j = p; j < r; j++) {\n      if (comparator(ary[j], pivot) <= 0) {\n        i += 1;\n        swap(ary, i, j);\n      }\n    }\n\n    swap(ary, i + 1, j);\n    var q = i + 1;\n\n    // (2) Recurse on each half.\n\n    doQuickSort(ary, comparator, p, q - 1);\n    doQuickSort(ary, comparator, q + 1, r);\n  }\n}\n\n/**\n * Sort the given array in-place with the given comparator function.\n *\n * @param {Array} ary\n *        An array to sort.\n * @param {function} comparator\n *        Function to use to compare two items.\n */\nexports.quickSort = function (ary, comparator) {\n  doQuickSort(ary, comparator, 0, ary.length - 1);\n};\n","/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\nvar util = require('./util');\nvar binarySearch = require('./binary-search');\nvar ArraySet = require('./array-set').ArraySet;\nvar base64VLQ = require('./base64-vlq');\nvar quickSort = require('./quick-sort').quickSort;\n\nfunction SourceMapConsumer(aSourceMap) {\n  var sourceMap = aSourceMap;\n  if (typeof aSourceMap === 'string') {\n    sourceMap = JSON.parse(aSourceMap.replace(/^\\)\\]\\}'/, ''));\n  }\n\n  return sourceMap.sections != null\n    ? new IndexedSourceMapConsumer(sourceMap)\n    : new BasicSourceMapConsumer(sourceMap);\n}\n\nSourceMapConsumer.fromSourceMap = function(aSourceMap) {\n  return BasicSourceMapConsumer.fromSourceMap(aSourceMap);\n}\n\n/**\n * The version of the source mapping spec that we are consuming.\n */\nSourceMapConsumer.prototype._version = 3;\n\n// `__generatedMappings` and `__originalMappings` are arrays that hold the\n// parsed mapping coordinates from the source map's \"mappings\" attribute. They\n// are lazily instantiated, accessed via the `_generatedMappings` and\n// `_originalMappings` getters respectively, and we only parse the mappings\n// and create these arrays once queried for a source location. We jump through\n// these hoops because there can be many thousands of mappings, and parsing\n// them is expensive, so we only want to do it if we must.\n//\n// Each object in the arrays is of the form:\n//\n//     {\n//       generatedLine: The line number in the generated code,\n//       generatedColumn: The column number in the generated code,\n//       source: The path to the original source file that generated this\n//               chunk of code,\n//       originalLine: The line number in the original source that\n//                     corresponds to this chunk of generated code,\n//       originalColumn: The column number in the original source that\n//                       corresponds to this chunk of generated code,\n//       name: The name of the original symbol which generated this chunk of\n//             code.\n//     }\n//\n// All properties except for `generatedLine` and `generatedColumn` can be\n// `null`.\n//\n// `_generatedMappings` is ordered by the generated positions.\n//\n// `_originalMappings` is ordered by the original positions.\n\nSourceMapConsumer.prototype.__generatedMappings = null;\nObject.defineProperty(SourceMapConsumer.prototype, '_generatedMappings', {\n  get: function () {\n    if (!this.__generatedMappings) {\n      this._parseMappings(this._mappings, this.sourceRoot);\n    }\n\n    return this.__generatedMappings;\n  }\n});\n\nSourceMapConsumer.prototype.__originalMappings = null;\nObject.defineProperty(SourceMapConsumer.prototype, '_originalMappings', {\n  get: function () {\n    if (!this.__originalMappings) {\n      this._parseMappings(this._mappings, this.sourceRoot);\n    }\n\n    return this.__originalMappings;\n  }\n});\n\nSourceMapConsumer.prototype._charIsMappingSeparator =\n  function SourceMapConsumer_charIsMappingSeparator(aStr, index) {\n    var c = aStr.charAt(index);\n    return c === \";\" || c === \",\";\n  };\n\n/**\n * Parse the mappings in a string in to a data structure which we can easily\n * query (the ordered arrays in the `this.__generatedMappings` and\n * `this.__originalMappings` properties).\n */\nSourceMapConsumer.prototype._parseMappings =\n  function SourceMapConsumer_parseMappings(aStr, aSourceRoot) {\n    throw new Error(\"Subclasses must implement _parseMappings\");\n  };\n\nSourceMapConsumer.GENERATED_ORDER = 1;\nSourceMapConsumer.ORIGINAL_ORDER = 2;\n\nSourceMapConsumer.GREATEST_LOWER_BOUND = 1;\nSourceMapConsumer.LEAST_UPPER_BOUND = 2;\n\n/**\n * Iterate over each mapping between an original source/line/column and a\n * generated line/column in this source map.\n *\n * @param Function aCallback\n *        The function that is called with each mapping.\n * @param Object aContext\n *        Optional. If specified, this object will be the value of `this` every\n *        time that `aCallback` is called.\n * @param aOrder\n *        Either `SourceMapConsumer.GENERATED_ORDER` or\n *        `SourceMapConsumer.ORIGINAL_ORDER`. Specifies whether you want to\n *        iterate over the mappings sorted by the generated file's line/column\n *        order or the original's source/line/column order, respectively. Defaults to\n *        `SourceMapConsumer.GENERATED_ORDER`.\n */\nSourceMapConsumer.prototype.eachMapping =\n  function SourceMapConsumer_eachMapping(aCallback, aContext, aOrder) {\n    var context = aContext || null;\n    var order = aOrder || SourceMapConsumer.GENERATED_ORDER;\n\n    var mappings;\n    switch (order) {\n    case SourceMapConsumer.GENERATED_ORDER:\n      mappings = this._generatedMappings;\n      break;\n    case SourceMapConsumer.ORIGINAL_ORDER:\n      mappings = this._originalMappings;\n      break;\n    default:\n      throw new Error(\"Unknown order of iteration.\");\n    }\n\n    var sourceRoot = this.sourceRoot;\n    mappings.map(function (mapping) {\n      var source = mapping.source === null ? null : this._sources.at(mapping.source);\n      if (source != null && sourceRoot != null) {\n        source = util.join(sourceRoot, source);\n      }\n      return {\n        source: source,\n        generatedLine: mapping.generatedLine,\n        generatedColumn: mapping.generatedColumn,\n        originalLine: mapping.originalLine,\n        originalColumn: mapping.originalColumn,\n        name: mapping.name === null ? null : this._names.at(mapping.name)\n      };\n    }, this).forEach(aCallback, context);\n  };\n\n/**\n * Returns all generated line and column information for the original source,\n * line, and column provided. If no column is provided, returns all mappings\n * corresponding to a either the line we are searching for or the next\n * closest line that has any mappings. Otherwise, returns all mappings\n * corresponding to the given line and either the column we are searching for\n * or the next closest column that has any offsets.\n *\n * The only argument is an object with the following properties:\n *\n *   - source: The filename of the original source.\n *   - line: The line number in the original source.\n *   - column: Optional. the column number in the original source.\n *\n * and an array of objects is returned, each with the following properties:\n *\n *   - line: The line number in the generated source, or null.\n *   - column: The column number in the generated source, or null.\n */\nSourceMapConsumer.prototype.allGeneratedPositionsFor =\n  function SourceMapConsumer_allGeneratedPositionsFor(aArgs) {\n    var line = util.getArg(aArgs, 'line');\n\n    // When there is no exact match, BasicSourceMapConsumer.prototype._findMapping\n    // returns the index of the closest mapping less than the needle. By\n    // setting needle.originalColumn to 0, we thus find the last mapping for\n    // the given line, provided such a mapping exists.\n    var needle = {\n      source: util.getArg(aArgs, 'source'),\n      originalLine: line,\n      originalColumn: util.getArg(aArgs, 'column', 0)\n    };\n\n    if (this.sourceRoot != null) {\n      needle.source = util.relative(this.sourceRoot, needle.source);\n    }\n    if (!this._sources.has(needle.source)) {\n      return [];\n    }\n    needle.source = this._sources.indexOf(needle.source);\n\n    var mappings = [];\n\n    var index = this._findMapping(needle,\n                                  this._originalMappings,\n                                  \"originalLine\",\n                                  \"originalColumn\",\n                                  util.compareByOriginalPositions,\n                                  binarySearch.LEAST_UPPER_BOUND);\n    if (index >= 0) {\n      var mapping = this._originalMappings[index];\n\n      if (aArgs.column === undefined) {\n        var originalLine = mapping.originalLine;\n\n        // Iterate until either we run out of mappings, or we run into\n        // a mapping for a different line than the one we found. Since\n        // mappings are sorted, this is guaranteed to find all mappings for\n        // the line we found.\n        while (mapping && mapping.originalLine === originalLine) {\n          mappings.push({\n            line: util.getArg(mapping, 'generatedLine', null),\n            column: util.getArg(mapping, 'generatedColumn', null),\n            lastColumn: util.getArg(mapping, 'lastGeneratedColumn', null)\n          });\n\n          mapping = this._originalMappings[++index];\n        }\n      } else {\n        var originalColumn = mapping.originalColumn;\n\n        // Iterate until either we run out of mappings, or we run into\n        // a mapping for a different line than the one we were searching for.\n        // Since mappings are sorted, this is guaranteed to find all mappings for\n        // the line we are searching for.\n        while (mapping &&\n               mapping.originalLine === line &&\n               mapping.originalColumn == originalColumn) {\n          mappings.push({\n            line: util.getArg(mapping, 'generatedLine', null),\n            column: util.getArg(mapping, 'generatedColumn', null),\n            lastColumn: util.getArg(mapping, 'lastGeneratedColumn', null)\n          });\n\n          mapping = this._originalMappings[++index];\n        }\n      }\n    }\n\n    return mappings;\n  };\n\nexports.SourceMapConsumer = SourceMapConsumer;\n\n/**\n * A BasicSourceMapConsumer instance represents a parsed source map which we can\n * query for information about the original file positions by giving it a file\n * position in the generated source.\n *\n * The only parameter is the raw source map (either as a JSON string, or\n * already parsed to an object). According to the spec, source maps have the\n * following attributes:\n *\n *   - version: Which version of the source map spec this map is following.\n *   - sources: An array of URLs to the original source files.\n *   - names: An array of identifiers which can be referrenced by individual mappings.\n *   - sourceRoot: Optional. The URL root from which all sources are relative.\n *   - sourcesContent: Optional. An array of contents of the original source files.\n *   - mappings: A string of base64 VLQs which contain the actual mappings.\n *   - file: Optional. The generated file this source map is associated with.\n *\n * Here is an example source map, taken from the source map spec[0]:\n *\n *     {\n *       version : 3,\n *       file: \"out.js\",\n *       sourceRoot : \"\",\n *       sources: [\"foo.js\", \"bar.js\"],\n *       names: [\"src\", \"maps\", \"are\", \"fun\"],\n *       mappings: \"AA,AB;;ABCDE;\"\n *     }\n *\n * [0]: https://docs.google.com/document/d/1U1RGAehQwRypUTovF1KRlpiOFze0b-_2gc6fAH0KY0k/edit?pli=1#\n */\nfunction BasicSourceMapConsumer(aSourceMap) {\n  var sourceMap = aSourceMap;\n  if (typeof aSourceMap === 'string') {\n    sourceMap = JSON.parse(aSourceMap.replace(/^\\)\\]\\}'/, ''));\n  }\n\n  var version = util.getArg(sourceMap, 'version');\n  var sources = util.getArg(sourceMap, 'sources');\n  // Sass 3.3 leaves out the 'names' array, so we deviate from the spec (which\n  // requires the array) to play nice here.\n  var names = util.getArg(sourceMap, 'names', []);\n  var sourceRoot = util.getArg(sourceMap, 'sourceRoot', null);\n  var sourcesContent = util.getArg(sourceMap, 'sourcesContent', null);\n  var mappings = util.getArg(sourceMap, 'mappings');\n  var file = util.getArg(sourceMap, 'file', null);\n\n  // Once again, Sass deviates from the spec and supplies the version as a\n  // string rather than a number, so we use loose equality checking here.\n  if (version != this._version) {\n    throw new Error('Unsupported version: ' + version);\n  }\n\n  sources = sources\n    .map(String)\n    // Some source maps produce relative source paths like \"./foo.js\" instead of\n    // \"foo.js\".  Normalize these first so that future comparisons will succeed.\n    // See bugzil.la/1090768.\n    .map(util.normalize)\n    // Always ensure that absolute sources are internally stored relative to\n    // the source root, if the source root is absolute. Not doing this would\n    // be particularly problematic when the source root is a prefix of the\n    // source (valid, but why??). See github issue #199 and bugzil.la/1188982.\n    .map(function (source) {\n      return sourceRoot && util.isAbsolute(sourceRoot) && util.isAbsolute(source)\n        ? util.relative(sourceRoot, source)\n        : source;\n    });\n\n  // Pass `true` below to allow duplicate names and sources. While source maps\n  // are intended to be compressed and deduplicated, the TypeScript compiler\n  // sometimes generates source maps with duplicates in them. See Github issue\n  // #72 and bugzil.la/889492.\n  this._names = ArraySet.fromArray(names.map(String), true);\n  this._sources = ArraySet.fromArray(sources, true);\n\n  this.sourceRoot = sourceRoot;\n  this.sourcesContent = sourcesContent;\n  this._mappings = mappings;\n  this.file = file;\n}\n\nBasicSourceMapConsumer.prototype = Object.create(SourceMapConsumer.prototype);\nBasicSourceMapConsumer.prototype.consumer = SourceMapConsumer;\n\n/**\n * Create a BasicSourceMapConsumer from a SourceMapGenerator.\n *\n * @param SourceMapGenerator aSourceMap\n *        The source map that will be consumed.\n * @returns BasicSourceMapConsumer\n */\nBasicSourceMapConsumer.fromSourceMap =\n  function SourceMapConsumer_fromSourceMap(aSourceMap) {\n    var smc = Object.create(BasicSourceMapConsumer.prototype);\n\n    var names = smc._names = ArraySet.fromArray(aSourceMap._names.toArray(), true);\n    var sources = smc._sources = ArraySet.fromArray(aSourceMap._sources.toArray(), true);\n    smc.sourceRoot = aSourceMap._sourceRoot;\n    smc.sourcesContent = aSourceMap._generateSourcesContent(smc._sources.toArray(),\n                                                            smc.sourceRoot);\n    smc.file = aSourceMap._file;\n\n    // Because we are modifying the entries (by converting string sources and\n    // names to indices into the sources and names ArraySets), we have to make\n    // a copy of the entry or else bad things happen. Shared mutable state\n    // strikes again! See github issue #191.\n\n    var generatedMappings = aSourceMap._mappings.toArray().slice();\n    var destGeneratedMappings = smc.__generatedMappings = [];\n    var destOriginalMappings = smc.__originalMappings = [];\n\n    for (var i = 0, length = generatedMappings.length; i < length; i++) {\n      var srcMapping = generatedMappings[i];\n      var destMapping = new Mapping;\n      destMapping.generatedLine = srcMapping.generatedLine;\n      destMapping.generatedColumn = srcMapping.generatedColumn;\n\n      if (srcMapping.source) {\n        destMapping.source = sources.indexOf(srcMapping.source);\n        destMapping.originalLine = srcMapping.originalLine;\n        destMapping.originalColumn = srcMapping.originalColumn;\n\n        if (srcMapping.name) {\n          destMapping.name = names.indexOf(srcMapping.name);\n        }\n\n        destOriginalMappings.push(destMapping);\n      }\n\n      destGeneratedMappings.push(destMapping);\n    }\n\n    quickSort(smc.__originalMappings, util.compareByOriginalPositions);\n\n    return smc;\n  };\n\n/**\n * The version of the source mapping spec that we are consuming.\n */\nBasicSourceMapConsumer.prototype._version = 3;\n\n/**\n * The list of original sources.\n */\nObject.defineProperty(BasicSourceMapConsumer.prototype, 'sources', {\n  get: function () {\n    return this._sources.toArray().map(function (s) {\n      return this.sourceRoot != null ? util.join(this.sourceRoot, s) : s;\n    }, this);\n  }\n});\n\n/**\n * Provide the JIT with a nice shape / hidden class.\n */\nfunction Mapping() {\n  this.generatedLine = 0;\n  this.generatedColumn = 0;\n  this.source = null;\n  this.originalLine = null;\n  this.originalColumn = null;\n  this.name = null;\n}\n\n/**\n * Parse the mappings in a string in to a data structure which we can easily\n * query (the ordered arrays in the `this.__generatedMappings` and\n * `this.__originalMappings` properties).\n */\nBasicSourceMapConsumer.prototype._parseMappings =\n  function SourceMapConsumer_parseMappings(aStr, aSourceRoot) {\n    var generatedLine = 1;\n    var previousGeneratedColumn = 0;\n    var previousOriginalLine = 0;\n    var previousOriginalColumn = 0;\n    var previousSource = 0;\n    var previousName = 0;\n    var length = aStr.length;\n    var index = 0;\n    var cachedSegments = {};\n    var temp = {};\n    var originalMappings = [];\n    var generatedMappings = [];\n    var mapping, str, segment, end, value;\n\n    while (index < length) {\n      if (aStr.charAt(index) === ';') {\n        generatedLine++;\n        index++;\n        previousGeneratedColumn = 0;\n      }\n      else if (aStr.charAt(index) === ',') {\n        index++;\n      }\n      else {\n        mapping = new Mapping();\n        mapping.generatedLine = generatedLine;\n\n        // Because each offset is encoded relative to the previous one,\n        // many segments often have the same encoding. We can exploit this\n        // fact by caching the parsed variable length fields of each segment,\n        // allowing us to avoid a second parse if we encounter the same\n        // segment again.\n        for (end = index; end < length; end++) {\n          if (this._charIsMappingSeparator(aStr, end)) {\n            break;\n          }\n        }\n        str = aStr.slice(index, end);\n\n        segment = cachedSegments[str];\n        if (segment) {\n          index += str.length;\n        } else {\n          segment = [];\n          while (index < end) {\n            base64VLQ.decode(aStr, index, temp);\n            value = temp.value;\n            index = temp.rest;\n            segment.push(value);\n          }\n\n          if (segment.length === 2) {\n            throw new Error('Found a source, but no line and column');\n          }\n\n          if (segment.length === 3) {\n            throw new Error('Found a source and line, but no column');\n          }\n\n          cachedSegments[str] = segment;\n        }\n\n        // Generated column.\n        mapping.generatedColumn = previousGeneratedColumn + segment[0];\n        previousGeneratedColumn = mapping.generatedColumn;\n\n        if (segment.length > 1) {\n          // Original source.\n          mapping.source = previousSource + segment[1];\n          previousSource += segment[1];\n\n          // Original line.\n          mapping.originalLine = previousOriginalLine + segment[2];\n          previousOriginalLine = mapping.originalLine;\n          // Lines are stored 0-based\n          mapping.originalLine += 1;\n\n          // Original column.\n          mapping.originalColumn = previousOriginalColumn + segment[3];\n          previousOriginalColumn = mapping.originalColumn;\n\n          if (segment.length > 4) {\n            // Original name.\n            mapping.name = previousName + segment[4];\n            previousName += segment[4];\n          }\n        }\n\n        generatedMappings.push(mapping);\n        if (typeof mapping.originalLine === 'number') {\n          originalMappings.push(mapping);\n        }\n      }\n    }\n\n    quickSort(generatedMappings, util.compareByGeneratedPositionsDeflated);\n    this.__generatedMappings = generatedMappings;\n\n    quickSort(originalMappings, util.compareByOriginalPositions);\n    this.__originalMappings = originalMappings;\n  };\n\n/**\n * Find the mapping that best matches the hypothetical \"needle\" mapping that\n * we are searching for in the given \"haystack\" of mappings.\n */\nBasicSourceMapConsumer.prototype._findMapping =\n  function SourceMapConsumer_findMapping(aNeedle, aMappings, aLineName,\n                                         aColumnName, aComparator, aBias) {\n    // To return the position we are searching for, we must first find the\n    // mapping for the given position and then return the opposite position it\n    // points to. Because the mappings are sorted, we can use binary search to\n    // find the best mapping.\n\n    if (aNeedle[aLineName] <= 0) {\n      throw new TypeError('Line must be greater than or equal to 1, got '\n                          + aNeedle[aLineName]);\n    }\n    if (aNeedle[aColumnName] < 0) {\n      throw new TypeError('Column must be greater than or equal to 0, got '\n                          + aNeedle[aColumnName]);\n    }\n\n    return binarySearch.search(aNeedle, aMappings, aComparator, aBias);\n  };\n\n/**\n * Compute the last column for each generated mapping. The last column is\n * inclusive.\n */\nBasicSourceMapConsumer.prototype.computeColumnSpans =\n  function SourceMapConsumer_computeColumnSpans() {\n    for (var index = 0; index < this._generatedMappings.length; ++index) {\n      var mapping = this._generatedMappings[index];\n\n      // Mappings do not contain a field for the last generated columnt. We\n      // can come up with an optimistic estimate, however, by assuming that\n      // mappings are contiguous (i.e. given two consecutive mappings, the\n      // first mapping ends where the second one starts).\n      if (index + 1 < this._generatedMappings.length) {\n        var nextMapping = this._generatedMappings[index + 1];\n\n        if (mapping.generatedLine === nextMapping.generatedLine) {\n          mapping.lastGeneratedColumn = nextMapping.generatedColumn - 1;\n          continue;\n        }\n      }\n\n      // The last mapping for each line spans the entire line.\n      mapping.lastGeneratedColumn = Infinity;\n    }\n  };\n\n/**\n * Returns the original source, line, and column information for the generated\n * source's line and column positions provided. The only argument is an object\n * with the following properties:\n *\n *   - line: The line number in the generated source.\n *   - column: The column number in the generated source.\n *   - bias: Either 'SourceMapConsumer.GREATEST_LOWER_BOUND' or\n *     'SourceMapConsumer.LEAST_UPPER_BOUND'. Specifies whether to return the\n *     closest element that is smaller than or greater than the one we are\n *     searching for, respectively, if the exact element cannot be found.\n *     Defaults to 'SourceMapConsumer.GREATEST_LOWER_BOUND'.\n *\n * and an object is returned with the following properties:\n *\n *   - source: The original source file, or null.\n *   - line: The line number in the original source, or null.\n *   - column: The column number in the original source, or null.\n *   - name: The original identifier, or null.\n */\nBasicSourceMapConsumer.prototype.originalPositionFor =\n  function SourceMapConsumer_originalPositionFor(aArgs) {\n    var needle = {\n      generatedLine: util.getArg(aArgs, 'line'),\n      generatedColumn: util.getArg(aArgs, 'column')\n    };\n\n    var index = this._findMapping(\n      needle,\n      this._generatedMappings,\n      \"generatedLine\",\n      \"generatedColumn\",\n      util.compareByGeneratedPositionsDeflated,\n      util.getArg(aArgs, 'bias', SourceMapConsumer.GREATEST_LOWER_BOUND)\n    );\n\n    if (index >= 0) {\n      var mapping = this._generatedMappings[index];\n\n      if (mapping.generatedLine === needle.generatedLine) {\n        var source = util.getArg(mapping, 'source', null);\n        if (source !== null) {\n          source = this._sources.at(source);\n          if (this.sourceRoot != null) {\n            source = util.join(this.sourceRoot, source);\n          }\n        }\n        var name = util.getArg(mapping, 'name', null);\n        if (name !== null) {\n          name = this._names.at(name);\n        }\n        return {\n          source: source,\n          line: util.getArg(mapping, 'originalLine', null),\n          column: util.getArg(mapping, 'originalColumn', null),\n          name: name\n        };\n      }\n    }\n\n    return {\n      source: null,\n      line: null,\n      column: null,\n      name: null\n    };\n  };\n\n/**\n * Return true if we have the source content for every source in the source\n * map, false otherwise.\n */\nBasicSourceMapConsumer.prototype.hasContentsOfAllSources =\n  function BasicSourceMapConsumer_hasContentsOfAllSources() {\n    if (!this.sourcesContent) {\n      return false;\n    }\n    return this.sourcesContent.length >= this._sources.size() &&\n      !this.sourcesContent.some(function (sc) { return sc == null; });\n  };\n\n/**\n * Returns the original source content. The only argument is the url of the\n * original source file. Returns null if no original source content is\n * available.\n */\nBasicSourceMapConsumer.prototype.sourceContentFor =\n  function SourceMapConsumer_sourceContentFor(aSource, nullOnMissing) {\n    if (!this.sourcesContent) {\n      return null;\n    }\n\n    if (this.sourceRoot != null) {\n      aSource = util.relative(this.sourceRoot, aSource);\n    }\n\n    if (this._sources.has(aSource)) {\n      return this.sourcesContent[this._sources.indexOf(aSource)];\n    }\n\n    var url;\n    if (this.sourceRoot != null\n        && (url = util.urlParse(this.sourceRoot))) {\n      // XXX: file:// URIs and absolute paths lead to unexpected behavior for\n      // many users. We can help them out when they expect file:// URIs to\n      // behave like it would if they were running a local HTTP server. See\n      // https://bugzilla.mozilla.org/show_bug.cgi?id=885597.\n      var fileUriAbsPath = aSource.replace(/^file:\\/\\//, \"\");\n      if (url.scheme == \"file\"\n          && this._sources.has(fileUriAbsPath)) {\n        return this.sourcesContent[this._sources.indexOf(fileUriAbsPath)]\n      }\n\n      if ((!url.path || url.path == \"/\")\n          && this._sources.has(\"/\" + aSource)) {\n        return this.sourcesContent[this._sources.indexOf(\"/\" + aSource)];\n      }\n    }\n\n    // This function is used recursively from\n    // IndexedSourceMapConsumer.prototype.sourceContentFor. In that case, we\n    // don't want to throw if we can't find the source - we just want to\n    // return null, so we provide a flag to exit gracefully.\n    if (nullOnMissing) {\n      return null;\n    }\n    else {\n      throw new Error('\"' + aSource + '\" is not in the SourceMap.');\n    }\n  };\n\n/**\n * Returns the generated line and column information for the original source,\n * line, and column positions provided. The only argument is an object with\n * the following properties:\n *\n *   - source: The filename of the original source.\n *   - line: The line number in the original source.\n *   - column: The column number in the original source.\n *   - bias: Either 'SourceMapConsumer.GREATEST_LOWER_BOUND' or\n *     'SourceMapConsumer.LEAST_UPPER_BOUND'. Specifies whether to return the\n *     closest element that is smaller than or greater than the one we are\n *     searching for, respectively, if the exact element cannot be found.\n *     Defaults to 'SourceMapConsumer.GREATEST_LOWER_BOUND'.\n *\n * and an object is returned with the following properties:\n *\n *   - line: The line number in the generated source, or null.\n *   - column: The column number in the generated source, or null.\n */\nBasicSourceMapConsumer.prototype.generatedPositionFor =\n  function SourceMapConsumer_generatedPositionFor(aArgs) {\n    var source = util.getArg(aArgs, 'source');\n    if (this.sourceRoot != null) {\n      source = util.relative(this.sourceRoot, source);\n    }\n    if (!this._sources.has(source)) {\n      return {\n        line: null,\n        column: null,\n        lastColumn: null\n      };\n    }\n    source = this._sources.indexOf(source);\n\n    var needle = {\n      source: source,\n      originalLine: util.getArg(aArgs, 'line'),\n      originalColumn: util.getArg(aArgs, 'column')\n    };\n\n    var index = this._findMapping(\n      needle,\n      this._originalMappings,\n      \"originalLine\",\n      \"originalColumn\",\n      util.compareByOriginalPositions,\n      util.getArg(aArgs, 'bias', SourceMapConsumer.GREATEST_LOWER_BOUND)\n    );\n\n    if (index >= 0) {\n      var mapping = this._originalMappings[index];\n\n      if (mapping.source === needle.source) {\n        return {\n          line: util.getArg(mapping, 'generatedLine', null),\n          column: util.getArg(mapping, 'generatedColumn', null),\n          lastColumn: util.getArg(mapping, 'lastGeneratedColumn', null)\n        };\n      }\n    }\n\n    return {\n      line: null,\n      column: null,\n      lastColumn: null\n    };\n  };\n\nexports.BasicSourceMapConsumer = BasicSourceMapConsumer;\n\n/**\n * An IndexedSourceMapConsumer instance represents a parsed source map which\n * we can query for information. It differs from BasicSourceMapConsumer in\n * that it takes \"indexed\" source maps (i.e. ones with a \"sections\" field) as\n * input.\n *\n * The only parameter is a raw source map (either as a JSON string, or already\n * parsed to an object). According to the spec for indexed source maps, they\n * have the following attributes:\n *\n *   - version: Which version of the source map spec this map is following.\n *   - file: Optional. The generated file this source map is associated with.\n *   - sections: A list of section definitions.\n *\n * Each value under the \"sections\" field has two fields:\n *   - offset: The offset into the original specified at which this section\n *       begins to apply, defined as an object with a \"line\" and \"column\"\n *       field.\n *   - map: A source map definition. This source map could also be indexed,\n *       but doesn't have to be.\n *\n * Instead of the \"map\" field, it's also possible to have a \"url\" field\n * specifying a URL to retrieve a source map from, but that's currently\n * unsupported.\n *\n * Here's an example source map, taken from the source map spec[0], but\n * modified to omit a section which uses the \"url\" field.\n *\n *  {\n *    version : 3,\n *    file: \"app.js\",\n *    sections: [{\n *      offset: {line:100, column:10},\n *      map: {\n *        version : 3,\n *        file: \"section.js\",\n *        sources: [\"foo.js\", \"bar.js\"],\n *        names: [\"src\", \"maps\", \"are\", \"fun\"],\n *        mappings: \"AAAA,E;;ABCDE;\"\n *      }\n *    }],\n *  }\n *\n * [0]: https://docs.google.com/document/d/1U1RGAehQwRypUTovF1KRlpiOFze0b-_2gc6fAH0KY0k/edit#heading=h.535es3xeprgt\n */\nfunction IndexedSourceMapConsumer(aSourceMap) {\n  var sourceMap = aSourceMap;\n  if (typeof aSourceMap === 'string') {\n    sourceMap = JSON.parse(aSourceMap.replace(/^\\)\\]\\}'/, ''));\n  }\n\n  var version = util.getArg(sourceMap, 'version');\n  var sections = util.getArg(sourceMap, 'sections');\n\n  if (version != this._version) {\n    throw new Error('Unsupported version: ' + version);\n  }\n\n  this._sources = new ArraySet();\n  this._names = new ArraySet();\n\n  var lastOffset = {\n    line: -1,\n    column: 0\n  };\n  this._sections = sections.map(function (s) {\n    if (s.url) {\n      // The url field will require support for asynchronicity.\n      // See https://github.com/mozilla/source-map/issues/16\n      throw new Error('Support for url field in sections not implemented.');\n    }\n    var offset = util.getArg(s, 'offset');\n    var offsetLine = util.getArg(offset, 'line');\n    var offsetColumn = util.getArg(offset, 'column');\n\n    if (offsetLine < lastOffset.line ||\n        (offsetLine === lastOffset.line && offsetColumn < lastOffset.column)) {\n      throw new Error('Section offsets must be ordered and non-overlapping.');\n    }\n    lastOffset = offset;\n\n    return {\n      generatedOffset: {\n        // The offset fields are 0-based, but we use 1-based indices when\n        // encoding/decoding from VLQ.\n        generatedLine: offsetLine + 1,\n        generatedColumn: offsetColumn + 1\n      },\n      consumer: new SourceMapConsumer(util.getArg(s, 'map'))\n    }\n  });\n}\n\nIndexedSourceMapConsumer.prototype = Object.create(SourceMapConsumer.prototype);\nIndexedSourceMapConsumer.prototype.constructor = SourceMapConsumer;\n\n/**\n * The version of the source mapping spec that we are consuming.\n */\nIndexedSourceMapConsumer.prototype._version = 3;\n\n/**\n * The list of original sources.\n */\nObject.defineProperty(IndexedSourceMapConsumer.prototype, 'sources', {\n  get: function () {\n    var sources = [];\n    for (var i = 0; i < this._sections.length; i++) {\n      for (var j = 0; j < this._sections[i].consumer.sources.length; j++) {\n        sources.push(this._sections[i].consumer.sources[j]);\n      }\n    }\n    return sources;\n  }\n});\n\n/**\n * Returns the original source, line, and column information for the generated\n * source's line and column positions provided. The only argument is an object\n * with the following properties:\n *\n *   - line: The line number in the generated source.\n *   - column: The column number in the generated source.\n *\n * and an object is returned with the following properties:\n *\n *   - source: The original source file, or null.\n *   - line: The line number in the original source, or null.\n *   - column: The column number in the original source, or null.\n *   - name: The original identifier, or null.\n */\nIndexedSourceMapConsumer.prototype.originalPositionFor =\n  function IndexedSourceMapConsumer_originalPositionFor(aArgs) {\n    var needle = {\n      generatedLine: util.getArg(aArgs, 'line'),\n      generatedColumn: util.getArg(aArgs, 'column')\n    };\n\n    // Find the section containing the generated position we're trying to map\n    // to an original position.\n    var sectionIndex = binarySearch.search(needle, this._sections,\n      function(needle, section) {\n        var cmp = needle.generatedLine - section.generatedOffset.generatedLine;\n        if (cmp) {\n          return cmp;\n        }\n\n        return (needle.generatedColumn -\n                section.generatedOffset.generatedColumn);\n      });\n    var section = this._sections[sectionIndex];\n\n    if (!section) {\n      return {\n        source: null,\n        line: null,\n        column: null,\n        name: null\n      };\n    }\n\n    return section.consumer.originalPositionFor({\n      line: needle.generatedLine -\n        (section.generatedOffset.generatedLine - 1),\n      column: needle.generatedColumn -\n        (section.generatedOffset.generatedLine === needle.generatedLine\n         ? section.generatedOffset.generatedColumn - 1\n         : 0),\n      bias: aArgs.bias\n    });\n  };\n\n/**\n * Return true if we have the source content for every source in the source\n * map, false otherwise.\n */\nIndexedSourceMapConsumer.prototype.hasContentsOfAllSources =\n  function IndexedSourceMapConsumer_hasContentsOfAllSources() {\n    return this._sections.every(function (s) {\n      return s.consumer.hasContentsOfAllSources();\n    });\n  };\n\n/**\n * Returns the original source content. The only argument is the url of the\n * original source file. Returns null if no original source content is\n * available.\n */\nIndexedSourceMapConsumer.prototype.sourceContentFor =\n  function IndexedSourceMapConsumer_sourceContentFor(aSource, nullOnMissing) {\n    for (var i = 0; i < this._sections.length; i++) {\n      var section = this._sections[i];\n\n      var content = section.consumer.sourceContentFor(aSource, true);\n      if (content) {\n        return content;\n      }\n    }\n    if (nullOnMissing) {\n      return null;\n    }\n    else {\n      throw new Error('\"' + aSource + '\" is not in the SourceMap.');\n    }\n  };\n\n/**\n * Returns the generated line and column information for the original source,\n * line, and column positions provided. The only argument is an object with\n * the following properties:\n *\n *   - source: The filename of the original source.\n *   - line: The line number in the original source.\n *   - column: The column number in the original source.\n *\n * and an object is returned with the following properties:\n *\n *   - line: The line number in the generated source, or null.\n *   - column: The column number in the generated source, or null.\n */\nIndexedSourceMapConsumer.prototype.generatedPositionFor =\n  function IndexedSourceMapConsumer_generatedPositionFor(aArgs) {\n    for (var i = 0; i < this._sections.length; i++) {\n      var section = this._sections[i];\n\n      // Only consider this section if the requested source is in the list of\n      // sources of the consumer.\n      if (section.consumer.sources.indexOf(util.getArg(aArgs, 'source')) === -1) {\n        continue;\n      }\n      var generatedPosition = section.consumer.generatedPositionFor(aArgs);\n      if (generatedPosition) {\n        var ret = {\n          line: generatedPosition.line +\n            (section.generatedOffset.generatedLine - 1),\n          column: generatedPosition.column +\n            (section.generatedOffset.generatedLine === generatedPosition.line\n             ? section.generatedOffset.generatedColumn - 1\n             : 0)\n        };\n        return ret;\n      }\n    }\n\n    return {\n      line: null,\n      column: null\n    };\n  };\n\n/**\n * Parse the mappings in a string in to a data structure which we can easily\n * query (the ordered arrays in the `this.__generatedMappings` and\n * `this.__originalMappings` properties).\n */\nIndexedSourceMapConsumer.prototype._parseMappings =\n  function IndexedSourceMapConsumer_parseMappings(aStr, aSourceRoot) {\n    this.__generatedMappings = [];\n    this.__originalMappings = [];\n    for (var i = 0; i < this._sections.length; i++) {\n      var section = this._sections[i];\n      var sectionMappings = section.consumer._generatedMappings;\n      for (var j = 0; j < sectionMappings.length; j++) {\n        var mapping = sectionMappings[j];\n\n        var source = section.consumer._sources.at(mapping.source);\n        if (section.consumer.sourceRoot !== null) {\n          source = util.join(section.consumer.sourceRoot, source);\n        }\n        this._sources.add(source);\n        source = this._sources.indexOf(source);\n\n        var name = section.consumer._names.at(mapping.name);\n        this._names.add(name);\n        name = this._names.indexOf(name);\n\n        // The mappings coming from the consumer for the section have\n        // generated positions relative to the start of the section, so we\n        // need to offset them to be relative to the start of the concatenated\n        // generated file.\n        var adjustedMapping = {\n          source: source,\n          generatedLine: mapping.generatedLine +\n            (section.generatedOffset.generatedLine - 1),\n          generatedColumn: mapping.generatedColumn +\n            (section.generatedOffset.generatedLine === mapping.generatedLine\n            ? section.generatedOffset.generatedColumn - 1\n            : 0),\n          originalLine: mapping.originalLine,\n          originalColumn: mapping.originalColumn,\n          name: name\n        };\n\n        this.__generatedMappings.push(adjustedMapping);\n        if (typeof adjustedMapping.originalLine === 'number') {\n          this.__originalMappings.push(adjustedMapping);\n        }\n      }\n    }\n\n    quickSort(this.__generatedMappings, util.compareByGeneratedPositionsDeflated);\n    quickSort(this.__originalMappings, util.compareByOriginalPositions);\n  };\n\nexports.IndexedSourceMapConsumer = IndexedSourceMapConsumer;\n","(function(root, factory) {\n    'use strict';\n    // Universal Module Definition (UMD) to support AMD, CommonJS/Node.js, Rhino, and browsers.\n\n    /* istanbul ignore next */\n    if (typeof define === 'function' && define.amd) {\n        define('stacktrace-gps', ['source-map', 'stackframe'], factory);\n    } else if (typeof exports === 'object') {\n        module.exports = factory(require('source-map/lib/source-map-consumer'), require('stackframe'));\n    } else {\n        root.StackTraceGPS = factory(root.SourceMap || root.sourceMap, root.StackFrame);\n    }\n}(this, function(SourceMap, StackFrame) {\n    'use strict';\n\n    /**\n     * Make a X-Domain request to url and callback.\n     *\n     * @param {String} url\n     * @returns {Promise} with response text if fulfilled\n     */\n    function _xdr(url) {\n        return new Promise(function(resolve, reject) {\n            var req = new XMLHttpRequest();\n            req.open('get', url);\n            req.onerror = reject;\n            req.onreadystatechange = function onreadystatechange() {\n                if (req.readyState === 4) {\n                    if ((req.status >= 200 && req.status < 300) ||\n                        (url.substr(0, 7) === 'file://' && req.responseText)) {\n                        resolve(req.responseText);\n                    } else {\n                        reject(new Error('HTTP status: ' + req.status + ' retrieving ' + url));\n                    }\n                }\n            };\n            req.send();\n        });\n\n    }\n\n    /**\n     * Convert a Base64-encoded string into its original representation.\n     * Used for inline sourcemaps.\n     *\n     * @param {String} b64str Base-64 encoded string\n     * @returns {String} original representation of the base64-encoded string.\n     */\n    function _atob(b64str) {\n        if (typeof window !== 'undefined' && window.atob) {\n            return window.atob(b64str);\n        } else {\n            throw new Error('You must supply a polyfill for window.atob in this environment');\n        }\n    }\n\n    function _parseJson(string) {\n        if (typeof JSON !== 'undefined' && JSON.parse) {\n            return JSON.parse(string);\n        } else {\n            throw new Error('You must supply a polyfill for JSON.parse in this environment');\n        }\n    }\n\n    function _findFunctionName(source, lineNumber/*, columnNumber*/) {\n        var syntaxes = [\n            // {name} = function ({args}) TODO args capture\n            /['\"]?([$_A-Za-z][$_A-Za-z0-9]*)['\"]?\\s*[:=]\\s*function\\b/,\n            // function {name}({args}) m[1]=name m[2]=args\n            /function\\s+([^('\"`]*?)\\s*\\(([^)]*)\\)/,\n            // {name} = eval()\n            /['\"]?([$_A-Za-z][$_A-Za-z0-9]*)['\"]?\\s*[:=]\\s*(?:eval|new Function)\\b/,\n            // fn_name() {\n            /\\b(?!(?:if|for|switch|while|with|catch)\\b)(?:(?:static)\\s+)?(\\S+)\\s*\\(.*?\\)\\s*\\{/,\n            // {name} = () => {\n            /['\"]?([$_A-Za-z][$_A-Za-z0-9]*)['\"]?\\s*[:=]\\s*\\(.*?\\)\\s*=>/\n        ];\n        var lines = source.split('\\n');\n\n        // Walk backwards in the source lines until we find the line which matches one of the patterns above\n        var code = '';\n        var maxLines = Math.min(lineNumber, 20);\n        for (var i = 0; i < maxLines; ++i) {\n            // lineNo is 1-based, source[] is 0-based\n            var line = lines[lineNumber - i - 1];\n            var commentPos = line.indexOf('//');\n            if (commentPos >= 0) {\n                line = line.substr(0, commentPos);\n            }\n\n            if (line) {\n                code = line + code;\n                var len = syntaxes.length;\n                for (var index = 0; index < len; index++) {\n                    var m = syntaxes[index].exec(code);\n                    if (m && m[1]) {\n                        return m[1];\n                    }\n                }\n            }\n        }\n        return undefined;\n    }\n\n    function _ensureSupportedEnvironment() {\n        if (typeof Object.defineProperty !== 'function' || typeof Object.create !== 'function') {\n            throw new Error('Unable to consume source maps in older browsers');\n        }\n    }\n\n    function _ensureStackFrameIsLegit(stackframe) {\n        if (typeof stackframe !== 'object') {\n            throw new TypeError('Given StackFrame is not an object');\n        } else if (typeof stackframe.fileName !== 'string') {\n            throw new TypeError('Given file name is not a String');\n        } else if (typeof stackframe.lineNumber !== 'number' ||\n            stackframe.lineNumber % 1 !== 0 ||\n            stackframe.lineNumber < 1) {\n            throw new TypeError('Given line number must be a positive integer');\n        } else if (typeof stackframe.columnNumber !== 'number' ||\n            stackframe.columnNumber % 1 !== 0 ||\n            stackframe.columnNumber < 0) {\n            throw new TypeError('Given column number must be a non-negative integer');\n        }\n        return true;\n    }\n\n    function _findSourceMappingURL(source) {\n        var sourceMappingUrlRegExp = /\\/\\/[#@] ?sourceMappingURL=([^\\s'\"]+)\\s*$/mg;\n        var lastSourceMappingUrl;\n        var matchSourceMappingUrl;\n        // eslint-disable-next-line no-cond-assign\n        while (matchSourceMappingUrl = sourceMappingUrlRegExp.exec(source)) {\n            lastSourceMappingUrl = matchSourceMappingUrl[1];\n        }\n        if (lastSourceMappingUrl) {\n            return lastSourceMappingUrl;\n        } else {\n            throw new Error('sourceMappingURL not found');\n        }\n    }\n\n    function _extractLocationInfoFromSourceMapSource(stackframe, sourceMapConsumer, sourceCache) {\n        return new Promise(function(resolve, reject) {\n            var loc = sourceMapConsumer.originalPositionFor({\n                line: stackframe.lineNumber,\n                column: stackframe.columnNumber\n            });\n\n            if (loc.source) {\n                // cache mapped sources\n                var mappedSource = sourceMapConsumer.sourceContentFor(loc.source);\n                if (mappedSource) {\n                    sourceCache[loc.source] = mappedSource;\n                }\n\n                resolve(\n                    // given stackframe and source location, update stackframe\n                    new StackFrame({\n                        functionName: loc.name || stackframe.functionName,\n                        args: stackframe.args,\n                        fileName: loc.source,\n                        lineNumber: loc.line,\n                        columnNumber: loc.column\n                    }));\n            } else {\n                reject(new Error('Could not get original source for given stackframe and source map'));\n            }\n        });\n    }\n\n    /**\n     * @constructor\n     * @param {Object} opts\n     *      opts.sourceCache = {url: \"Source String\"} => preload source cache\n     *      opts.sourceMapConsumerCache = {/path/file.js.map: SourceMapConsumer}\n     *      opts.offline = True to prevent network requests.\n     *              Best effort without sources or source maps.\n     *      opts.ajax = Promise returning function to make X-Domain requests\n     */\n    return function StackTraceGPS(opts) {\n        if (!(this instanceof StackTraceGPS)) {\n            return new StackTraceGPS(opts);\n        }\n        opts = opts || {};\n\n        this.sourceCache = opts.sourceCache || {};\n        this.sourceMapConsumerCache = opts.sourceMapConsumerCache || {};\n\n        this.ajax = opts.ajax || _xdr;\n\n        this._atob = opts.atob || _atob;\n\n        this._get = function _get(location) {\n            return new Promise(function(resolve, reject) {\n                var isDataUrl = location.substr(0, 5) === 'data:';\n                if (this.sourceCache[location]) {\n                    resolve(this.sourceCache[location]);\n                } else if (opts.offline && !isDataUrl) {\n                    reject(new Error('Cannot make network requests in offline mode'));\n                } else {\n                    if (isDataUrl) {\n                        // data URLs can have parameters.\n                        // see http://tools.ietf.org/html/rfc2397\n                        var supportedEncodingRegexp =\n                            /^data:application\\/json;([\\w=:\"-]+;)*base64,/;\n                        var match = location.match(supportedEncodingRegexp);\n                        if (match) {\n                            var sourceMapStart = match[0].length;\n                            var encodedSource = location.substr(sourceMapStart);\n                            var source = this._atob(encodedSource);\n                            this.sourceCache[location] = source;\n                            resolve(source);\n                        } else {\n                            reject(new Error('The encoding of the inline sourcemap is not supported'));\n                        }\n                    } else {\n                        var xhrPromise = this.ajax(location, {method: 'get'});\n                        // Cache the Promise to prevent duplicate in-flight requests\n                        this.sourceCache[location] = xhrPromise;\n                        xhrPromise.then(resolve, reject);\n                    }\n                }\n            }.bind(this));\n        };\n\n        /**\n         * Creating SourceMapConsumers is expensive, so this wraps the creation of a\n         * SourceMapConsumer in a per-instance cache.\n         *\n         * @param {String} sourceMappingURL = URL to fetch source map from\n         * @param {String} defaultSourceRoot = Default source root for source map if undefined\n         * @returns {Promise} that resolves a SourceMapConsumer\n         */\n        this._getSourceMapConsumer = function _getSourceMapConsumer(sourceMappingURL, defaultSourceRoot) {\n            return new Promise(function(resolve) {\n                if (this.sourceMapConsumerCache[sourceMappingURL]) {\n                    resolve(this.sourceMapConsumerCache[sourceMappingURL]);\n                } else {\n                    var sourceMapConsumerPromise = new Promise(function(resolve, reject) {\n                        return this._get(sourceMappingURL).then(function(sourceMapSource) {\n                            if (typeof sourceMapSource === 'string') {\n                                sourceMapSource = _parseJson(sourceMapSource.replace(/^\\)\\]\\}'/, ''));\n                            }\n                            if (typeof sourceMapSource.sourceRoot === 'undefined') {\n                                sourceMapSource.sourceRoot = defaultSourceRoot;\n                            }\n\n                            resolve(new SourceMap.SourceMapConsumer(sourceMapSource));\n                        }).catch(reject);\n                    }.bind(this));\n                    this.sourceMapConsumerCache[sourceMappingURL] = sourceMapConsumerPromise;\n                    resolve(sourceMapConsumerPromise);\n                }\n            }.bind(this));\n        };\n\n        /**\n         * Given a StackFrame, enhance function name and use source maps for a\n         * better StackFrame.\n         *\n         * @param {StackFrame} stackframe object\n         * @returns {Promise} that resolves with with source-mapped StackFrame\n         */\n        this.pinpoint = function StackTraceGPS$$pinpoint(stackframe) {\n            return new Promise(function(resolve, reject) {\n                this.getMappedLocation(stackframe).then(function(mappedStackFrame) {\n                    function resolveMappedStackFrame() {\n                        resolve(mappedStackFrame);\n                    }\n\n                    this.findFunctionName(mappedStackFrame)\n                        .then(resolve, resolveMappedStackFrame)\n                        // eslint-disable-next-line no-unexpected-multiline\n                        ['catch'](resolveMappedStackFrame);\n                }.bind(this), reject);\n            }.bind(this));\n        };\n\n        /**\n         * Given a StackFrame, guess function name from location information.\n         *\n         * @param {StackFrame} stackframe\n         * @returns {Promise} that resolves with enhanced StackFrame.\n         */\n        this.findFunctionName = function StackTraceGPS$$findFunctionName(stackframe) {\n            return new Promise(function(resolve, reject) {\n                _ensureStackFrameIsLegit(stackframe);\n                this._get(stackframe.fileName).then(function getSourceCallback(source) {\n                    var lineNumber = stackframe.lineNumber;\n                    var columnNumber = stackframe.columnNumber;\n                    var guessedFunctionName = _findFunctionName(source, lineNumber, columnNumber);\n                    // Only replace functionName if we found something\n                    if (guessedFunctionName) {\n                        resolve(new StackFrame({\n                            functionName: guessedFunctionName,\n                            args: stackframe.args,\n                            fileName: stackframe.fileName,\n                            lineNumber: lineNumber,\n                            columnNumber: columnNumber\n                        }));\n                    } else {\n                        resolve(stackframe);\n                    }\n                }, reject)['catch'](reject);\n            }.bind(this));\n        };\n\n        /**\n         * Given a StackFrame, seek source-mapped location and return new enhanced StackFrame.\n         *\n         * @param {StackFrame} stackframe\n         * @returns {Promise} that resolves with enhanced StackFrame.\n         */\n        this.getMappedLocation = function StackTraceGPS$$getMappedLocation(stackframe) {\n            return new Promise(function(resolve, reject) {\n                _ensureSupportedEnvironment();\n                _ensureStackFrameIsLegit(stackframe);\n\n                var sourceCache = this.sourceCache;\n                var fileName = stackframe.fileName;\n                this._get(fileName).then(function(source) {\n                    var sourceMappingURL = _findSourceMappingURL(source);\n                    var isDataUrl = sourceMappingURL.substr(0, 5) === 'data:';\n                    var defaultSourceRoot = fileName.substring(0, fileName.lastIndexOf('/') + 1);\n\n                    if (sourceMappingURL[0] !== '/' && !isDataUrl && !(/^https?:\\/\\/|^\\/\\//i).test(sourceMappingURL)) {\n                        sourceMappingURL = defaultSourceRoot + sourceMappingURL;\n                    }\n\n                    return this._getSourceMapConsumer(sourceMappingURL, defaultSourceRoot)\n                        .then(function(sourceMapConsumer) {\n                            return _extractLocationInfoFromSourceMapSource(stackframe, sourceMapConsumer, sourceCache)\n                                .then(resolve)['catch'](function() {\n                                    resolve(stackframe);\n                                });\n                        });\n                }.bind(this), reject)['catch'](reject);\n            }.bind(this));\n        };\n    };\n}));\n","(function(root, factory) {\n    'use strict';\n    // Universal Module Definition (UMD) to support AMD, CommonJS/Node.js, Rhino, and browsers.\n\n    /* istanbul ignore next */\n    if (typeof define === 'function' && define.amd) {\n        define('stacktrace', ['error-stack-parser', 'stack-generator', 'stacktrace-gps'], factory);\n    } else if (typeof exports === 'object') {\n        module.exports = factory(require('error-stack-parser'), require('stack-generator'), require('stacktrace-gps'));\n    } else {\n        root.StackTrace = factory(root.ErrorStackParser, root.StackGenerator, root.StackTraceGPS);\n    }\n}(this, function StackTrace(ErrorStackParser, StackGenerator, StackTraceGPS) {\n    var _options = {\n        filter: function(stackframe) {\n            // Filter out stackframes for this library by default\n            return (stackframe.functionName || '').indexOf('StackTrace$$') === -1 &&\n                (stackframe.functionName || '').indexOf('ErrorStackParser$$') === -1 &&\n                (stackframe.functionName || '').indexOf('StackTraceGPS$$') === -1 &&\n                (stackframe.functionName || '').indexOf('StackGenerator$$') === -1;\n        },\n        sourceCache: {}\n    };\n\n    var _generateError = function StackTrace$$GenerateError() {\n        try {\n            // Error must be thrown to get stack in IE\n            throw new Error();\n        } catch (err) {\n            return err;\n        }\n    };\n\n    /**\n     * Merge 2 given Objects. If a conflict occurs the second object wins.\n     * Does not do deep merges.\n     *\n     * @param {Object} first base object\n     * @param {Object} second overrides\n     * @returns {Object} merged first and second\n     * @private\n     */\n    function _merge(first, second) {\n        var target = {};\n\n        [first, second].forEach(function(obj) {\n            for (var prop in obj) {\n                if (Object.prototype.hasOwnProperty.call(obj, prop)) {\n                    target[prop] = obj[prop];\n                }\n            }\n            return target;\n        });\n\n        return target;\n    }\n\n    function _isShapedLikeParsableError(err) {\n        return err.stack || err['opera#sourceloc'];\n    }\n\n    function _filtered(stackframes, filter) {\n        if (typeof filter === 'function') {\n            return stackframes.filter(filter);\n        }\n        return stackframes;\n    }\n\n    return {\n        /**\n         * Get a backtrace from invocation point.\n         *\n         * @param {Object} opts\n         * @returns {Array} of StackFrame\n         */\n        get: function StackTrace$$get(opts) {\n            var err = _generateError();\n            return _isShapedLikeParsableError(err) ? this.fromError(err, opts) : this.generateArtificially(opts);\n        },\n\n        /**\n         * Get a backtrace from invocation point.\n         * IMPORTANT: Does not handle source maps or guess function names!\n         *\n         * @param {Object} opts\n         * @returns {Array} of StackFrame\n         */\n        getSync: function StackTrace$$getSync(opts) {\n            opts = _merge(_options, opts);\n            var err = _generateError();\n            var stack = _isShapedLikeParsableError(err) ? ErrorStackParser.parse(err) : StackGenerator.backtrace(opts);\n            return _filtered(stack, opts.filter);\n        },\n\n        /**\n         * Given an error object, parse it.\n         *\n         * @param {Error} error object\n         * @param {Object} opts\n         * @returns {Promise} for Array[StackFrame}\n         */\n        fromError: function StackTrace$$fromError(error, opts) {\n            opts = _merge(_options, opts);\n            var gps = new StackTraceGPS(opts);\n            return new Promise(function(resolve) {\n                var stackframes = _filtered(ErrorStackParser.parse(error), opts.filter);\n                resolve(Promise.all(stackframes.map(function(sf) {\n                    return new Promise(function(resolve) {\n                        function resolveOriginal() {\n                            resolve(sf);\n                        }\n\n                        gps.pinpoint(sf).then(resolve, resolveOriginal)['catch'](resolveOriginal);\n                    });\n                })));\n            }.bind(this));\n        },\n\n        /**\n         * Use StackGenerator to generate a backtrace.\n         *\n         * @param {Object} opts\n         * @returns {Promise} of Array[StackFrame]\n         */\n        generateArtificially: function StackTrace$$generateArtificially(opts) {\n            opts = _merge(_options, opts);\n            var stackFrames = StackGenerator.backtrace(opts);\n            if (typeof opts.filter === 'function') {\n                stackFrames = stackFrames.filter(opts.filter);\n            }\n            return Promise.resolve(stackFrames);\n        },\n\n        /**\n         * Given a function, wrap it such that invocations trigger a callback that\n         * is called with a stack trace.\n         *\n         * @param {Function} fn to be instrumented\n         * @param {Function} callback function to call with a stack trace on invocation\n         * @param {Function} errback optional function to call with error if unable to get stack trace.\n         * @param {Object} thisArg optional context object (e.g. window)\n         */\n        instrument: function StackTrace$$instrument(fn, callback, errback, thisArg) {\n            if (typeof fn !== 'function') {\n                throw new Error('Cannot instrument non-function object');\n            } else if (typeof fn.__stacktraceOriginalFn === 'function') {\n                // Already instrumented, return given Function\n                return fn;\n            }\n\n            var instrumented = function StackTrace$$instrumented() {\n                try {\n                    this.get().then(callback, errback)['catch'](errback);\n                    return fn.apply(thisArg || this, arguments);\n                } catch (e) {\n                    if (_isShapedLikeParsableError(e)) {\n                        this.fromError(e).then(callback, errback)['catch'](errback);\n                    }\n                    throw e;\n                }\n            }.bind(this);\n            instrumented.__stacktraceOriginalFn = fn;\n\n            return instrumented;\n        },\n\n        /**\n         * Given a function that has been instrumented,\n         * revert the function to it's original (non-instrumented) state.\n         *\n         * @param {Function} fn to de-instrument\n         */\n        deinstrument: function StackTrace$$deinstrument(fn) {\n            if (typeof fn !== 'function') {\n                throw new Error('Cannot de-instrument non-function object');\n            } else if (typeof fn.__stacktraceOriginalFn === 'function') {\n                return fn.__stacktraceOriginalFn;\n            } else {\n                // Function not instrumented, return original\n                return fn;\n            }\n        },\n\n        /**\n         * Given an error message and Array of StackFrames, serialize and POST to given URL.\n         *\n         * @param {Array} stackframes\n         * @param {String} url\n         * @param {String} errorMsg\n         * @param {Object} requestOptions\n         */\n        report: function StackTrace$$report(stackframes, url, errorMsg, requestOptions) {\n            return new Promise(function(resolve, reject) {\n                var req = new XMLHttpRequest();\n                req.onerror = reject;\n                req.onreadystatechange = function onreadystatechange() {\n                    if (req.readyState === 4) {\n                        if (req.status >= 200 && req.status < 400) {\n                            resolve(req.responseText);\n                        } else {\n                            reject(new Error('POST to ' + url + ' failed with status: ' + req.status));\n                        }\n                    }\n                };\n                req.open('post', url);\n\n                // Set request headers\n                req.setRequestHeader('Content-Type', 'application/json');\n                if (requestOptions && typeof requestOptions.headers === 'object') {\n                    var headers = requestOptions.headers;\n                    for (var header in headers) {\n                        if (Object.prototype.hasOwnProperty.call(headers, header)) {\n                            req.setRequestHeader(header, headers[header]);\n                        }\n                    }\n                }\n\n                var reportPayload = {stack: stackframes};\n                if (errorMsg !== undefined && errorMsg !== null) {\n                    reportPayload.message = errorMsg;\n                }\n\n                req.send(JSON.stringify(reportPayload));\n            });\n        }\n    };\n}));\n","import PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\n\nimport { FormattedMessage } from 'react-intl';\n\nimport { Helmet } from 'react-helmet';\n\nimport StackTrace from 'stacktrace-js';\n\nimport { version, source_url } from 'mastodon/initial_state';\n\nexport default class ErrorBoundary extends PureComponent {\n\n  static propTypes = {\n    children: PropTypes.node,\n  };\n\n  state = {\n    hasError: false,\n    errorMessage: undefined,\n    stackTrace: undefined,\n    mappedStackTrace: undefined,\n    componentStack: undefined,\n  };\n\n  componentDidCatch (error, info) {\n    this.setState({\n      hasError: true,\n      errorMessage: error.toString(),\n      stackTrace: error.stack,\n      componentStack: info && info.componentStack,\n      mappedStackTrace: undefined,\n    });\n\n    StackTrace.fromError(error).then((stackframes) => {\n      this.setState({\n        mappedStackTrace: stackframes.map((sf) => sf.toString()).join('\\n'),\n      });\n    }).catch(() => {\n      this.setState({\n        mappedStackTrace: undefined,\n      });\n    });\n  }\n\n  handleCopyStackTrace = () => {\n    const { errorMessage, stackTrace, mappedStackTrace } = this.state;\n    const textarea = document.createElement('textarea');\n\n    let contents = [errorMessage, stackTrace];\n    if (mappedStackTrace) {\n      contents.push(mappedStackTrace);\n    }\n\n    textarea.textContent    = contents.join('\\n\\n\\n');\n    textarea.style.position = 'fixed';\n\n    document.body.appendChild(textarea);\n\n    try {\n      textarea.select();\n      document.execCommand('copy');\n    } catch {\n      // do nothing\n    } finally {\n      document.body.removeChild(textarea);\n    }\n\n    this.setState({ copied: true });\n    setTimeout(() => this.setState({ copied: false }), 700);\n  };\n\n  render() {\n    const { hasError, copied, errorMessage } = this.state;\n\n    if (!hasError) {\n      return this.props.children;\n    }\n\n    const likelyBrowserAddonIssue = errorMessage && errorMessage.includes('NotFoundError');\n\n    return (\n      <div className='error-boundary'>\n        <div>\n          <p className='error-boundary__error'>\n            { likelyBrowserAddonIssue ? (\n              <FormattedMessage id='error.unexpected_crash.explanation_addons' defaultMessage='This page could not be displayed correctly. This error is likely caused by a browser add-on or automatic translation tools.' />\n            ) : (\n              <FormattedMessage id='error.unexpected_crash.explanation' defaultMessage='Due to a bug in our code or a browser compatibility issue, this page could not be displayed correctly.' />\n            )}\n          </p>\n\n          <p>\n            { likelyBrowserAddonIssue ? (\n              <FormattedMessage id='error.unexpected_crash.next_steps_addons' defaultMessage='Try disabling them and refreshing the page. If that does not help, you may still be able to use Mastodon through a different browser or native app.' />\n            ) : (\n              <FormattedMessage id='error.unexpected_crash.next_steps' defaultMessage='Try refreshing the page. If that does not help, you may still be able to use Mastodon through a different browser or native app.' />\n            )}\n          </p>\n\n          <p className='error-boundary__footer'>Mastodon v{version} · <a href={source_url} rel='noopener' target='_blank'><FormattedMessage id='errors.unexpected_crash.report_issue' defaultMessage='Report issue' /></a> · <button onClick={this.handleCopyStackTrace} className={copied ? 'copied' : ''}><FormattedMessage id='errors.unexpected_crash.copy_stacktrace' defaultMessage='Copy stacktrace to clipboard' /></button></p>\n        </div>\n\n        <Helmet>\n          <meta name='robots' content='noindex' />\n        </Helmet>\n      </div>\n    );\n  }\n\n}\n","import { useLinks } from 'mastodon/hooks/useLinks';\n\nexport const AccountBio: React.FC<{\n  note: string;\n  className: string;\n}> = ({ note, className }) => {\n  const handleClick = useLinks();\n\n  if (note.length === 0 || note === '<p></p>') {\n    return null;\n  }\n\n  return (\n    <div\n      className={`${className} translate`}\n      dangerouslySetInnerHTML={{ __html: note }}\n      onClickCapture={handleClick}\n    />\n  );\n};\n","import classNames from 'classnames';\n\nimport CheckIcon from '@/material-icons/400-24px/check.svg?react';\nimport { Icon } from 'mastodon/components/icon';\nimport { useLinks } from 'mastodon/hooks/useLinks';\nimport type { Account } from 'mastodon/models/account';\n\nexport const AccountFields: React.FC<{\n  fields: Account['fields'];\n  limit: number;\n}> = ({ fields, limit = -1 }) => {\n  const handleClick = useLinks();\n\n  if (fields.size === 0) {\n    return null;\n  }\n\n  return (\n    <div className='account-fields' onClickCapture={handleClick}>\n      {fields.take(limit).map((pair, i) => (\n        <dl\n          key={i}\n          className={classNames({ verified: pair.get('verified_at') })}\n        >\n          <dt\n            dangerouslySetInnerHTML={{ __html: pair.get('name_emojified') }}\n            className='translate'\n          />\n\n          <dd className='translate' title={pair.get('value_plain') ?? ''}>\n            {pair.get('verified_at') && (\n              <Icon id='check' icon={CheckIcon} className='verified__mark' />\n            )}\n            <span\n              dangerouslySetInnerHTML={{ __html: pair.get('value_emojified') }}\n            />\n          </dd>\n        </dl>\n      ))}\n    </div>\n  );\n};\n","import { useEffect, forwardRef } from 'react';\n\nimport { FormattedMessage } from 'react-intl';\n\nimport classNames from 'classnames';\nimport { Link } from 'react-router-dom';\n\nimport { fetchAccount } from 'mastodon/actions/accounts';\nimport { AccountBio } from 'mastodon/components/account_bio';\nimport { AccountFields } from 'mastodon/components/account_fields';\nimport { Avatar } from 'mastodon/components/avatar';\nimport { AvatarGroup } from 'mastodon/components/avatar_group';\nimport {\n  FollowersCounter,\n  FollowersYouKnowCounter,\n} from 'mastodon/components/counters';\nimport { DisplayName } from 'mastodon/components/display_name';\nimport { FollowButton } from 'mastodon/components/follow_button';\nimport { LoadingIndicator } from 'mastodon/components/loading_indicator';\nimport { ShortNumber } from 'mastodon/components/short_number';\nimport { useFetchFamiliarFollowers } from 'mastodon/features/account_timeline/hooks/familiar_followers';\nimport { domain } from 'mastodon/initial_state';\nimport { getAccountHidden } from 'mastodon/selectors/accounts';\nimport { useAppSelector, useAppDispatch } from 'mastodon/store';\n\nexport const HoverCardAccount = forwardRef<\n  HTMLDivElement,\n  { accountId?: string }\n>(({ accountId }, ref) => {\n  const dispatch = useAppDispatch();\n\n  const account = useAppSelector((state) =>\n    accountId ? state.accounts.get(accountId) : undefined,\n  );\n  const suspended = account?.suspended;\n  const hidden = useAppSelector((state) =>\n    accountId ? getAccountHidden(state, accountId) : undefined,\n  );\n  const isSuspendedOrHidden = Boolean(suspended || hidden);\n\n  const note = useAppSelector(\n    (state) =>\n      state.relationships.getIn([accountId, 'note']) as string | undefined,\n  );\n\n  useEffect(() => {\n    if (accountId && !account) {\n      dispatch(fetchAccount(accountId));\n    }\n  }, [dispatch, accountId, account]);\n\n  const { familiarFollowers } = useFetchFamiliarFollowers({ accountId });\n\n  const relationship = useAppSelector((state) =>\n    accountId ? state.relationships.get(accountId) : undefined,\n  );\n  const isMutual = relationship?.followed_by && relationship.following;\n  const isFollower = relationship?.followed_by;\n  const hasRelationshipLoaded = !!relationship;\n\n  const shouldDisplayFamiliarFollowers =\n    familiarFollowers.length > 0 &&\n    hasRelationshipLoaded &&\n    !isMutual &&\n    !isFollower;\n\n  return (\n    <div\n      ref={ref}\n      id='hover-card'\n      role='tooltip'\n      className={classNames('hover-card dropdown-animation', {\n        'hover-card--loading': !account,\n      })}\n    >\n      {account ? (\n        <>\n          <Link to={`/@${account.acct}`} className='hover-card__name'>\n            <Avatar\n              account={isSuspendedOrHidden ? undefined : account}\n              size={46}\n            />\n            <DisplayName account={account} localDomain={domain} />\n          </Link>\n\n          {isSuspendedOrHidden ? (\n            <div className='hover-card__limited-account-note'>\n              {suspended ? (\n                <FormattedMessage\n                  id='empty_column.account_suspended'\n                  defaultMessage='Account suspended'\n                />\n              ) : (\n                <FormattedMessage\n                  id='limited_account_hint.title'\n                  defaultMessage='This profile has been hidden by the moderators of {domain}.'\n                  values={{ domain }}\n                />\n              )}\n            </div>\n          ) : (\n            <>\n              <div className='hover-card__text-row'>\n                <AccountBio\n                  note={account.note_emojified}\n                  className='hover-card__bio'\n                />\n                <AccountFields fields={account.fields} limit={2} />\n                {note && note.length > 0 && (\n                  <dl className='hover-card__note'>\n                    <dt className='hover-card__note-label'>\n                      <FormattedMessage\n                        id='account.account_note_header'\n                        defaultMessage='Personal note'\n                      />\n                    </dt>\n                    <dd>{note}</dd>\n                  </dl>\n                )}\n              </div>\n\n              <div className='hover-card__numbers'>\n                <ShortNumber\n                  value={account.followers_count}\n                  renderer={FollowersCounter}\n                />\n                {shouldDisplayFamiliarFollowers && (\n                  <>\n                    &middot;\n                    <div className='hover-card__familiar-followers'>\n                      <ShortNumber\n                        value={familiarFollowers.length}\n                        renderer={FollowersYouKnowCounter}\n                      />\n                      <AvatarGroup compact>\n                        {familiarFollowers.slice(0, 3).map((account) => (\n                          <Avatar\n                            key={account.id}\n                            account={account}\n                            size={22}\n                          />\n                        ))}\n                      </AvatarGroup>\n                    </div>\n                  </>\n                )}\n                {(isMutual || isFollower) && (\n                  <>\n                    &middot;\n                    {isMutual ? (\n                      <FormattedMessage\n                        id='account.mutual'\n                        defaultMessage='You follow each other'\n                      />\n                    ) : (\n                      <FormattedMessage\n                        id='account.follows_you'\n                        defaultMessage='Follows you'\n                      />\n                    )}\n                  </>\n                )}\n              </div>\n\n              <FollowButton accountId={accountId} />\n            </>\n          )}\n        </>\n      ) : (\n        <LoadingIndicator />\n      )}\n    </div>\n  );\n});\n\nHoverCardAccount.displayName = 'HoverCardAccount';\n","import { useEffect, useRef, useState, useCallback } from 'react';\n\nimport { useLocation } from 'react-router-dom';\n\nimport Overlay from 'react-overlays/Overlay';\nimport type {\n  OffsetValue,\n  UsePopperOptions,\n} from 'react-overlays/esm/usePopper';\n\nimport { HoverCardAccount } from 'mastodon/components/hover_card_account';\nimport { useTimeout } from 'mastodon/hooks/useTimeout';\n\nconst offset = [-12, 4] as OffsetValue;\nconst enterDelay = 750;\nconst leaveDelay = 150;\nconst popperConfig = { strategy: 'fixed' } as UsePopperOptions;\n\nconst isHoverCardAnchor = (element: HTMLElement) =>\n  element.matches('[data-hover-card-account]');\n\nexport const HoverCardController: React.FC = () => {\n  const [open, setOpen] = useState(false);\n  const [accountId, setAccountId] = useState<string | undefined>();\n  const [anchor, setAnchor] = useState<HTMLElement | null>(null);\n  const cardRef = useRef<HTMLDivElement | null>(null);\n  const [setLeaveTimeout, cancelLeaveTimeout] = useTimeout();\n  const [setEnterTimeout, cancelEnterTimeout, delayEnterTimeout] = useTimeout();\n  const [setScrollTimeout] = useTimeout();\n  const location = useLocation();\n\n  const handleClose = useCallback(() => {\n    cancelEnterTimeout();\n    cancelLeaveTimeout();\n    setOpen(false);\n    setAnchor(null);\n  }, [cancelEnterTimeout, cancelLeaveTimeout, setOpen, setAnchor]);\n\n  useEffect(() => {\n    handleClose();\n  }, [handleClose, location]);\n\n  useEffect(() => {\n    let isScrolling = false;\n    let currentAnchor: HTMLElement | null = null;\n    let currentTitle: string | null = null;\n\n    const open = (target: HTMLElement) => {\n      target.setAttribute('aria-describedby', 'hover-card');\n      setOpen(true);\n      setAnchor(target);\n      setAccountId(target.getAttribute('data-hover-card-account') ?? undefined);\n    };\n\n    const close = () => {\n      currentAnchor?.removeAttribute('aria-describedby');\n      currentAnchor = null;\n      setOpen(false);\n      setAnchor(null);\n      setAccountId(undefined);\n    };\n\n    const handleMouseEnter = (e: MouseEvent) => {\n      const { target } = e;\n\n      // We've exited the window\n      if (!(target instanceof HTMLElement)) {\n        close();\n        return;\n      }\n\n      // We've entered an anchor\n      if (!isScrolling && isHoverCardAnchor(target)) {\n        cancelLeaveTimeout();\n\n        currentAnchor?.removeAttribute('aria-describedby');\n        currentAnchor = target;\n\n        currentTitle = target.getAttribute('title');\n        target.removeAttribute('title');\n\n        setEnterTimeout(() => {\n          open(target);\n        }, enterDelay);\n      }\n\n      // We've entered the hover card\n      if (\n        !isScrolling &&\n        (target === currentAnchor || target === cardRef.current)\n      ) {\n        cancelLeaveTimeout();\n      }\n    };\n\n    const handleMouseLeave = (e: MouseEvent) => {\n      const { target } = e;\n\n      if (!currentAnchor) {\n        return;\n      }\n\n      if (\n        currentTitle &&\n        target instanceof HTMLElement &&\n        target === currentAnchor\n      )\n        target.setAttribute('title', currentTitle);\n\n      if (target === currentAnchor || target === cardRef.current) {\n        cancelEnterTimeout();\n\n        setLeaveTimeout(() => {\n          close();\n        }, leaveDelay);\n      }\n    };\n\n    const handleScrollEnd = () => {\n      isScrolling = false;\n    };\n\n    const handleScroll = () => {\n      isScrolling = true;\n      cancelEnterTimeout();\n      setScrollTimeout(handleScrollEnd, 100);\n    };\n\n    const handleMouseMove = () => {\n      delayEnterTimeout(enterDelay);\n    };\n\n    document.body.addEventListener('mouseenter', handleMouseEnter, {\n      passive: true,\n      capture: true,\n    });\n\n    document.body.addEventListener('mousemove', handleMouseMove, {\n      passive: true,\n      capture: false,\n    });\n\n    document.body.addEventListener('mouseleave', handleMouseLeave, {\n      passive: true,\n      capture: true,\n    });\n\n    document.addEventListener('scroll', handleScroll, {\n      passive: true,\n      capture: true,\n    });\n\n    return () => {\n      document.body.removeEventListener('mouseenter', handleMouseEnter);\n      document.body.removeEventListener('mousemove', handleMouseMove);\n      document.body.removeEventListener('mouseleave', handleMouseLeave);\n      document.removeEventListener('scroll', handleScroll);\n    };\n  }, [\n    setEnterTimeout,\n    setLeaveTimeout,\n    setScrollTimeout,\n    cancelEnterTimeout,\n    cancelLeaveTimeout,\n    delayEnterTimeout,\n    setOpen,\n    setAccountId,\n    setAnchor,\n  ]);\n\n  return (\n    <Overlay\n      rootClose\n      onHide={handleClose}\n      show={open}\n      target={anchor}\n      placement='bottom-start'\n      flip\n      offset={offset}\n      popperConfig={popperConfig}\n    >\n      {({ props }) => (\n        <div {...props} className='hover-card-controller'>\n          <HoverCardAccount accountId={accountId} ref={cardRef} />\n        </div>\n      )}\n    </Overlay>\n  );\n};\n","import { defineMessages, useIntl } from 'react-intl';\n\nimport { Link } from 'react-router-dom';\n\nimport CloseIcon from '@/material-icons/400-24px/close.svg?react';\nimport { Avatar } from 'mastodon/components/avatar';\nimport { DisplayName } from 'mastodon/components/display_name';\nimport { IconButton } from 'mastodon/components/icon_button';\nimport { useAppSelector } from 'mastodon/store';\n\nconst messages = defineMessages({\n  close: { id: 'lightbox.close', defaultMessage: 'Close' },\n});\n\ninterface Props {\n  accountId: string;\n  statusId: string;\n  onClose: () => void;\n}\n\nexport const Header: React.FC<Props> = ({ accountId, statusId, onClose }) => {\n  const account = useAppSelector((state) => state.accounts.get(accountId));\n\n  const intl = useIntl();\n\n  if (!account) return null;\n\n  return (\n    <div className='picture-in-picture__header'>\n      <Link\n        to={`/@${account.get('acct')}/${statusId}`}\n        className='picture-in-picture__header__account'\n      >\n        <Avatar account={account} size={36} />\n        <DisplayName account={account} />\n      </Link>\n\n      <IconButton\n        icon='times'\n        iconComponent={CloseIcon}\n        onClick={onClose}\n        title={intl.formatMessage(messages.close)}\n      />\n    </div>\n  );\n};\n","import { useCallback } from 'react';\n\nimport { removePictureInPicture } from 'mastodon/actions/picture_in_picture';\nimport { Audio } from 'mastodon/features/audio';\nimport { Video } from 'mastodon/features/video';\nimport { useAppDispatch, useAppSelector } from 'mastodon/store/typed_functions';\n\nimport { Footer } from './components/footer';\nimport { Header } from './components/header';\n\nexport const PictureInPicture: React.FC = () => {\n  const dispatch = useAppDispatch();\n\n  const handleClose = useCallback(() => {\n    dispatch(removePictureInPicture());\n  }, [dispatch]);\n\n  const pipState = useAppSelector((s) => s.picture_in_picture);\n\n  if (pipState.type === null) {\n    return null;\n  }\n\n  const {\n    type,\n    src,\n    currentTime,\n    accountId,\n    statusId,\n    volume,\n    muted,\n    poster,\n    backgroundColor,\n    foregroundColor,\n    accentColor,\n  } = pipState;\n\n  if (!src) {\n    return null;\n  }\n\n  let player;\n\n  switch (type) {\n    case 'video':\n      player = (\n        <Video\n          src={src}\n          startTime={currentTime}\n          startVolume={volume}\n          startMuted={muted}\n          startPlaying\n          alwaysVisible\n        />\n      );\n      break;\n    case 'audio':\n      player = (\n        <Audio\n          src={src}\n          startTime={currentTime}\n          startVolume={volume}\n          startMuted={muted}\n          startPlaying\n          poster={poster}\n          backgroundColor={backgroundColor}\n          foregroundColor={foregroundColor}\n          accentColor={accentColor}\n        />\n      );\n  }\n\n  return (\n    <div className='picture-in-picture'>\n      <Header accountId={accountId} statusId={statusId} onClose={handleClose} />\n\n      {player}\n\n      <Footer statusId={statusId} onClose={handleClose} />\n    </div>\n  );\n};\n","import * as React from \"react\";\nconst SvgHome = (props) => /* @__PURE__ */ React.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", height: 24, viewBox: \"0 -960 960 960\", width: 24, ...props }, /* @__PURE__ */ React.createElement(\"path\", { d: \"M240-200h120v-240h240v240h120v-360L480-740 240-560v360Zm-80 80v-480l320-240 320 240v480H520v-240h-80v240H160Zm320-350Z\" }));\nexport default SvgHome;\n","import { useCallback, useEffect } from 'react';\n\nimport { useIntl, defineMessages, FormattedMessage } from 'react-intl';\n\nimport classNames from 'classnames';\nimport { NavLink, useRouteMatch } from 'react-router-dom';\n\nimport AddIcon from '@/material-icons/400-24px/add.svg?react';\nimport HomeActiveIcon from '@/material-icons/400-24px/home-fill.svg?react';\nimport HomeIcon from '@/material-icons/400-24px/home.svg?react';\nimport MenuIcon from '@/material-icons/400-24px/menu.svg?react';\nimport NotificationsActiveIcon from '@/material-icons/400-24px/notifications-fill.svg?react';\nimport NotificationsIcon from '@/material-icons/400-24px/notifications.svg?react';\nimport SearchIcon from '@/material-icons/400-24px/search.svg?react';\nimport { openModal } from 'mastodon/actions/modal';\nimport { toggleNavigation } from 'mastodon/actions/navigation';\nimport { fetchServer } from 'mastodon/actions/server';\nimport { Icon } from 'mastodon/components/icon';\nimport { IconWithBadge } from 'mastodon/components/icon_with_badge';\nimport { useIdentity } from 'mastodon/identity_context';\nimport { registrationsOpen, sso_redirect } from 'mastodon/initial_state';\nimport { selectUnreadNotificationGroupsCount } from 'mastodon/selectors/notifications';\nimport { useAppDispatch, useAppSelector } from 'mastodon/store';\n\nconst messages = defineMessages({\n  home: { id: 'tabs_bar.home', defaultMessage: 'Home' },\n  search: { id: 'tabs_bar.search', defaultMessage: 'Search' },\n  publish: { id: 'tabs_bar.publish', defaultMessage: 'New Post' },\n  notifications: {\n    id: 'tabs_bar.notifications',\n    defaultMessage: 'Notifications',\n  },\n  menu: { id: 'tabs_bar.menu', defaultMessage: 'Menu' },\n});\n\nconst IconLabelButton: React.FC<{\n  to: string;\n  icon?: React.ReactNode;\n  activeIcon?: React.ReactNode;\n  title: string;\n}> = ({ to, icon, activeIcon, title }) => {\n  const match = useRouteMatch(to);\n\n  return (\n    <NavLink\n      className='ui__navigation-bar__item'\n      activeClassName='active'\n      to={to}\n      aria-label={title}\n    >\n      {match && activeIcon ? activeIcon : icon}\n    </NavLink>\n  );\n};\n\nconst NotificationsButton = () => {\n  const count = useAppSelector(selectUnreadNotificationGroupsCount);\n  const intl = useIntl();\n\n  return (\n    <IconLabelButton\n      to='/notifications'\n      icon={\n        <IconWithBadge\n          id='bell'\n          icon={NotificationsIcon}\n          count={count}\n          className=''\n        />\n      }\n      activeIcon={\n        <IconWithBadge\n          id='bell'\n          icon={NotificationsActiveIcon}\n          count={count}\n          className=''\n        />\n      }\n      title={intl.formatMessage(messages.notifications)}\n    />\n  );\n};\n\nconst LoginOrSignUp: React.FC = () => {\n  const dispatch = useAppDispatch();\n  const signupUrl = useAppSelector(\n    (state) =>\n      (state.server.getIn(['server', 'registrations', 'url'], null) as\n        | string\n        | null) ?? '/auth/sign_up',\n  );\n\n  const openClosedRegistrationsModal = useCallback(() => {\n    dispatch(openModal({ modalType: 'CLOSED_REGISTRATIONS', modalProps: {} }));\n  }, [dispatch]);\n\n  useEffect(() => {\n    dispatch(fetchServer());\n  }, [dispatch]);\n\n  if (sso_redirect) {\n    return (\n      <div className='ui__navigation-bar__sign-up'>\n        <a\n          href={sso_redirect}\n          data-method='post'\n          className='button button--block button-tertiary'\n        >\n          <FormattedMessage\n            id='sign_in_banner.sso_redirect'\n            defaultMessage='Login or Register'\n          />\n        </a>\n      </div>\n    );\n  } else {\n    let signupButton;\n\n    if (registrationsOpen) {\n      signupButton = (\n        <a href={signupUrl} className='button'>\n          <FormattedMessage\n            id='sign_in_banner.create_account'\n            defaultMessage='Create account'\n          />\n        </a>\n      );\n    } else {\n      signupButton = (\n        <button className='button' onClick={openClosedRegistrationsModal}>\n          <FormattedMessage\n            id='sign_in_banner.create_account'\n            defaultMessage='Create account'\n          />\n        </button>\n      );\n    }\n\n    return (\n      <div className='ui__navigation-bar__sign-up'>\n        {signupButton}\n        <a href='/auth/sign_in' className='button button-tertiary'>\n          <FormattedMessage\n            id='sign_in_banner.sign_in'\n            defaultMessage='Login'\n          />\n        </a>\n      </div>\n    );\n  }\n};\n\nexport const NavigationBar: React.FC = () => {\n  const { signedIn } = useIdentity();\n  const dispatch = useAppDispatch();\n  const open = useAppSelector((state) => state.navigation.open);\n  const intl = useIntl();\n\n  const handleClick = useCallback(() => {\n    dispatch(toggleNavigation());\n  }, [dispatch]);\n\n  return (\n    <div className='ui__navigation-bar'>\n      {!signedIn && <LoginOrSignUp />}\n\n      <div\n        className={classNames('ui__navigation-bar__items', {\n          active: signedIn,\n        })}\n      >\n        {signedIn && (\n          <>\n            <IconLabelButton\n              title={intl.formatMessage(messages.home)}\n              to='/home'\n              icon={<Icon id='' icon={HomeIcon} />}\n              activeIcon={<Icon id='' icon={HomeActiveIcon} />}\n            />\n            <IconLabelButton\n              title={intl.formatMessage(messages.search)}\n              to='/explore'\n              icon={<Icon id='' icon={SearchIcon} />}\n            />\n            <IconLabelButton\n              title={intl.formatMessage(messages.publish)}\n              to='/publish'\n              icon={<Icon id='' icon={AddIcon} />}\n            />\n            <NotificationsButton />\n          </>\n        )}\n\n        <button\n          className={classNames('ui__navigation-bar__item', { active: open })}\n          onClick={handleClick}\n          aria-label={intl.formatMessage(messages.menu)}\n        >\n          <Icon id='' icon={MenuIcon} />\n        </button>\n      </div>\n    </div>\n  );\n};\n","import { useCallback, useEffect } from 'react';\n\nimport { FormattedMessage } from 'react-intl';\n\nimport { animated, config, useSpring } from '@react-spring/web';\n\ninterface UploadAreaProps {\n  active?: boolean;\n  onClose: () => void;\n}\n\nexport const UploadArea: React.FC<UploadAreaProps> = ({ active, onClose }) => {\n  const handleKeyUp = useCallback(\n    (e: KeyboardEvent) => {\n      if (active && e.key === 'Escape') {\n        e.preventDefault();\n        e.stopPropagation();\n        onClose();\n      }\n    },\n    [active, onClose],\n  );\n\n  useEffect(() => {\n    window.addEventListener('keyup', handleKeyUp, false);\n\n    return () => {\n      window.removeEventListener('keyup', handleKeyUp);\n    };\n  }, [handleKeyUp]);\n\n  const wrapperAnimStyles = useSpring({\n    from: {\n      opacity: 0,\n    },\n    to: {\n      opacity: 1,\n    },\n    reverse: !active,\n  });\n  const backgroundAnimStyles = useSpring({\n    from: {\n      transform: 'scale(0.95)',\n    },\n    to: {\n      transform: 'scale(1)',\n    },\n    reverse: !active,\n    config: config.wobbly,\n  });\n\n  return (\n    <animated.div\n      className='upload-area'\n      style={{\n        ...wrapperAnimStyles,\n        visibility: active ? 'visible' : 'hidden',\n      }}\n    >\n      <div className='upload-area__drop'>\n        <animated.div\n          className='upload-area__background'\n          style={backgroundAnimStyles}\n        />\n        <div className='upload-area__content'>\n          <FormattedMessage\n            id='upload_area.title'\n            defaultMessage='Drag & drop to upload'\n          />\n        </div>\n      </div>\n    </animated.div>\n  );\n};\n","import { useEffect, useRef, useState, useCallback, useMemo } from 'react';\n\nimport { useIntl, defineMessages } from 'react-intl';\n\nimport { useLocation } from 'react-router-dom';\n\nimport Overlay from 'react-overlays/Overlay';\nimport type {\n  OffsetValue,\n  UsePopperOptions,\n} from 'react-overlays/esm/usePopper';\n\nimport { DropdownMenu } from 'mastodon/components/dropdown_menu';\nimport { useAppSelector } from 'mastodon/store';\n\nconst messages = defineMessages({\n  browseHashtag: {\n    id: 'hashtag.browse',\n    defaultMessage: 'Browse posts in #{hashtag}',\n  },\n  browseHashtagFromAccount: {\n    id: 'hashtag.browse_from_account',\n    defaultMessage: 'Browse posts from @{name} in #{hashtag}',\n  },\n  muteHashtag: { id: 'hashtag.mute', defaultMessage: 'Mute #{hashtag}' },\n});\n\nconst offset = [5, 5] as OffsetValue;\nconst popperConfig = { strategy: 'fixed' } as UsePopperOptions;\n\nconst isHashtagLink = (\n  element: HTMLAnchorElement | null,\n): element is HTMLAnchorElement => {\n  if (!element) {\n    return false;\n  }\n\n  return element.matches('[data-menu-hashtag]');\n};\n\ninterface TargetParams {\n  hashtag?: string;\n  accountId?: string;\n}\n\nexport const HashtagMenuController: React.FC = () => {\n  const intl = useIntl();\n  const [open, setOpen] = useState(false);\n  const [{ accountId, hashtag }, setTargetParams] = useState<TargetParams>({});\n  const targetRef = useRef<HTMLAnchorElement | null>(null);\n  const location = useLocation();\n  const account = useAppSelector((state) =>\n    accountId ? state.accounts.get(accountId) : undefined,\n  );\n\n  useEffect(() => {\n    setOpen(false);\n    targetRef.current = null;\n  }, [setOpen, location]);\n\n  useEffect(() => {\n    const handleClick = (e: MouseEvent) => {\n      const target = (e.target as HTMLElement).closest('a');\n\n      if (e.button !== 0 || e.ctrlKey || e.metaKey) {\n        return;\n      }\n\n      if (!isHashtagLink(target)) {\n        return;\n      }\n\n      const hashtag = target.text.replace(/^#/, '');\n      const accountId = target.getAttribute('data-menu-hashtag');\n\n      if (!hashtag || !accountId) {\n        return;\n      }\n\n      e.preventDefault();\n      e.stopPropagation();\n      targetRef.current = target;\n      setOpen(true);\n      setTargetParams({ hashtag, accountId });\n    };\n\n    document.addEventListener('click', handleClick, { capture: true });\n\n    return () => {\n      document.removeEventListener('click', handleClick);\n    };\n  }, [setTargetParams, setOpen]);\n\n  const handleClose = useCallback(() => {\n    setOpen(false);\n    targetRef.current = null;\n  }, [setOpen]);\n\n  const menu = useMemo(\n    () => [\n      {\n        text: intl.formatMessage(messages.browseHashtag, {\n          hashtag,\n        }),\n        to: `/tags/${hashtag}`,\n      },\n      {\n        text: intl.formatMessage(messages.browseHashtagFromAccount, {\n          hashtag,\n          name: account?.username,\n        }),\n        to: `/@${account?.acct}/tagged/${hashtag}`,\n      },\n      null,\n      {\n        text: intl.formatMessage(messages.muteHashtag, {\n          hashtag,\n        }),\n        href: '/filters',\n        dangerous: true,\n      },\n    ],\n    [intl, hashtag, account],\n  );\n\n  if (!open) {\n    return null;\n  }\n\n  return (\n    <Overlay\n      show={open}\n      offset={offset}\n      placement='bottom'\n      flip\n      target={targetRef}\n      popperConfig={popperConfig}\n    >\n      {({ props, arrowProps, placement }) => (\n        <div {...props}>\n          <div className={`dropdown-animation dropdown-menu ${placement}`}>\n            <div\n              className={`dropdown-menu__arrow ${placement}`}\n              {...arrowProps}\n            />\n\n            <DropdownMenu\n              items={menu}\n              onClose={handleClose}\n              openedViaKeyboard={false}\n            />\n          </div>\n        </div>\n      )}\n    </Overlay>\n  );\n};\n","import { Column } from 'mastodon/components/column';\nimport { ColumnHeader } from 'mastodon/components/column_header';\nimport type { Props as ColumnHeaderProps } from 'mastodon/components/column_header';\n\nexport const ColumnLoading: React.FC<ColumnHeaderProps> = (otherProps) => (\n  <Column>\n    <ColumnHeader {...otherProps} />\n    <div className='scrollable' />\n  </Column>\n);\n","import type { LayoutType } from '../is_mobile';\nimport { useAppSelector } from '../store';\n\nexport const useLayout = () => {\n  const layout = useAppSelector(\n    (state) => state.meta.get('layout') as LayoutType,\n  );\n\n  return {\n    singleColumn: layout === 'single-column' || layout === 'mobile',\n    layout,\n  };\n};\n","import PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\n\nimport { FormattedMessage, defineMessages, injectIntl } from 'react-intl';\n\nimport { Link } from 'react-router-dom';\n\nimport { connect } from 'react-redux';\n\nimport { fetchServer } from 'mastodon/actions/server';\nimport { Account } from 'mastodon/components/account';\nimport { ServerHeroImage } from 'mastodon/components/server_hero_image';\nimport { ShortNumber } from 'mastodon/components/short_number';\nimport { Skeleton } from 'mastodon/components/skeleton';\nimport { domain } from 'mastodon/initial_state';\n\nconst messages = defineMessages({\n  aboutActiveUsers: { id: 'server_banner.about_active_users', defaultMessage: 'People using this server during the last 30 days (Monthly Active Users)' },\n});\n\nconst mapStateToProps = state => ({\n  server: state.getIn(['server', 'server']),\n});\n\nclass ServerBanner extends PureComponent {\n\n  static propTypes = {\n    server: PropTypes.object,\n    dispatch: PropTypes.func,\n    intl: PropTypes.object,\n  };\n\n  componentDidMount () {\n    const { dispatch } = this.props;\n    dispatch(fetchServer());\n  }\n\n  render () {\n    const { server, intl } = this.props;\n    const isLoading = server.get('isLoading');\n\n    return (\n      <div className='server-banner'>\n        <div className='server-banner__introduction'>\n          <FormattedMessage id='server_banner.is_one_of_many' defaultMessage='{domain} is one of the many independent Mastodon servers you can use to participate in the fediverse.' values={{ domain: <strong>{domain}</strong>, mastodon: <a href='https://joinmastodon.org' target='_blank' rel='noopener'>Mastodon</a> }} />\n        </div>\n\n        <Link to='/about'>\n          <ServerHeroImage blurhash={server.getIn(['thumbnail', 'blurhash'])} src={server.getIn(['thumbnail', 'url'])} className='server-banner__hero' />\n        </Link>\n\n        <div className='server-banner__description'>\n          {isLoading ? (\n            <>\n              <Skeleton width='100%' />\n              <br />\n              <Skeleton width='100%' />\n              <br />\n              <Skeleton width='70%' />\n            </>\n          ) : server.get('description')}\n        </div>\n\n        <div className='server-banner__meta'>\n          <div className='server-banner__meta__column'>\n            <h4><FormattedMessage id='server_banner.administered_by' defaultMessage='Administered by:' /></h4>\n\n            <Account id={server.getIn(['contact', 'account', 'id'])} size={36} minimal />\n          </div>\n\n          <div className='server-banner__meta__column'>\n            <h4><FormattedMessage id='server_banner.server_stats' defaultMessage='Server stats:' /></h4>\n\n            {isLoading ? (\n              <>\n                <strong className='server-banner__number'><Skeleton width='10ch' /></strong>\n                <br />\n                <span className='server-banner__number-label'><Skeleton width='5ch' /></span>\n              </>\n            ) : (\n              <>\n                <strong className='server-banner__number'><ShortNumber value={server.getIn(['usage', 'users', 'active_month'])} /></strong>\n                <br />\n                <span className='server-banner__number-label' title={intl.formatMessage(messages.aboutActiveUsers)}><FormattedMessage id='server_banner.active_users' defaultMessage='active users' /></span>\n              </>\n            )}\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n}\n\nexport default connect(mapStateToProps)(injectIntl(ServerBanner));\n","import { useCallback, useEffect } from 'react';\n\nimport { useLayout } from '@/mastodon/hooks/useLayout';\nimport { useAppDispatch, useAppSelector } from '@/mastodon/store';\nimport {\n  changeComposing,\n  mountCompose,\n  unmountCompose,\n} from 'mastodon/actions/compose';\nimport ServerBanner from 'mastodon/components/server_banner';\nimport { Search } from 'mastodon/features/compose/components/search';\nimport ComposeFormContainer from 'mastodon/features/compose/containers/compose_form_container';\nimport { LinkFooter } from 'mastodon/features/ui/components/link_footer';\nimport { useIdentity } from 'mastodon/identity_context';\n\nexport const ComposePanel: React.FC = () => {\n  const dispatch = useAppDispatch();\n  const handleFocus = useCallback(() => {\n    dispatch(changeComposing(true));\n  }, [dispatch]);\n  const { signedIn } = useIdentity();\n  const hideComposer = useAppSelector((state) => {\n    const mounted = state.compose.get('mounted');\n    if (typeof mounted === 'number') {\n      return mounted > 1;\n    }\n    return false;\n  });\n\n  useEffect(() => {\n    dispatch(mountCompose());\n    return () => {\n      dispatch(unmountCompose());\n    };\n  }, [dispatch]);\n\n  const { singleColumn } = useLayout();\n\n  return (\n    <div className='compose-panel' onFocus={handleFocus}>\n      <Search singleColumn={singleColumn} />\n\n      {!signedIn && (\n        <>\n          <ServerBanner />\n          <div className='flex-spacer' />\n        </>\n      )}\n\n      {signedIn && !hideComposer && <ComposeFormContainer singleColumn />}\n      {signedIn && hideComposer && <div className='compose-form' />}\n\n      <LinkFooter multiColumn={!singleColumn} />\n    </div>\n  );\n};\n","const DrawerLoading = () => (\n  <div className='drawer'>\n    <div className='drawer__pager'>\n      <div className='drawer__inner' />\n    </div>\n  </div>\n);\n\nexport default DrawerLoading;\n","import * as React from \"react\";\nconst SvgBookmarks = (props) => /* @__PURE__ */ React.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", height: 24, viewBox: \"0 -960 960 960\", width: 24, ...props }, /* @__PURE__ */ React.createElement(\"path\", { d: \"M160-80v-560q0-33 23.5-56.5T240-720h320q33 0 56.5 23.5T640-640v560L400-200 160-80Zm80-121 160-86 160 86v-439H240v439Zm480-39v-560H280v-80h440q33 0 56.5 23.5T800-800v560h-80ZM240-640h320-320Z\" }));\nexport default SvgBookmarks;\n","import * as React from \"react\";\nconst SvgSettings = (props) => /* @__PURE__ */ React.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", height: 24, viewBox: \"0 -960 960 960\", width: 24, ...props }, /* @__PURE__ */ React.createElement(\"path\", { d: \"m370-80-16-128q-13-5-24.5-12T307-235l-119 50L78-375l103-78q-1-7-1-13.5v-27q0-6.5 1-13.5L78-585l110-190 119 50q11-8 23-15t24-12l16-128h220l16 128q13 5 24.5 12t22.5 15l119-50 110 190-103 78q1 7 1 13.5v27q0 6.5-2 13.5l103 78-110 190-118-50q-11 8-23 15t-24 12L590-80H370Zm70-80h79l14-106q31-8 57.5-23.5T639-327l99 41 39-68-86-65q5-14 7-29.5t2-31.5q0-16-2-31.5t-7-29.5l86-65-39-68-99 42q-22-23-48.5-38.5T533-694l-13-106h-79l-14 106q-31 8-57.5 23.5T321-633l-99-41-39 68 86 64q-5 15-7 30t-2 32q0 16 2 31t7 30l-86 65 39 68 99-42q22 23 48.5 38.5T427-266l13 106Zm42-180q58 0 99-41t41-99q0-58-41-99t-99-41q-59 0-99.5 41T342-480q0 58 40.5 99t99.5 41Zm-2-140Z\" }));\nexport default SvgSettings;\n","import { useCallback } from 'react';\n\nimport { FormattedMessage } from 'react-intl';\n\nimport { Link } from 'react-router-dom';\n\nimport { openModal } from 'mastodon/actions/modal';\nimport {\n  disabledAccountId,\n  movedToAccountId,\n  domain,\n} from 'mastodon/initial_state';\nimport { useAppSelector, useAppDispatch } from 'mastodon/store';\n\nexport const DisabledAccountBanner: React.FC = () => {\n  const disabledAccount = useAppSelector((state) =>\n    disabledAccountId ? state.accounts.get(disabledAccountId) : undefined,\n  );\n  const movedToAccount = useAppSelector((state) =>\n    movedToAccountId ? state.accounts.get(movedToAccountId) : undefined,\n  );\n  const dispatch = useAppDispatch();\n\n  const handleLogOutClick = useCallback(\n    (e: React.MouseEvent) => {\n      e.preventDefault();\n      e.stopPropagation();\n\n      dispatch(openModal({ modalType: 'CONFIRM_LOG_OUT', modalProps: {} }));\n\n      return false;\n    },\n    [dispatch],\n  );\n\n  const disabledAccountLink = (\n    <Link to={`/@${disabledAccount?.acct}`}>\n      {disabledAccount?.acct}@{domain}\n    </Link>\n  );\n\n  return (\n    <div className='sign-in-banner'>\n      <p>\n        {movedToAccount ? (\n          <FormattedMessage\n            id='moved_to_account_banner.text'\n            defaultMessage='Your account {disabledAccount} is currently disabled because you moved to {movedToAccount}.'\n            values={{\n              disabledAccount: disabledAccountLink,\n              movedToAccount: (\n                <Link to={`/@${movedToAccount.acct}`}>\n                  {movedToAccount.acct.includes('@')\n                    ? movedToAccount.acct\n                    : `${movedToAccount.acct}@${domain}`}\n                </Link>\n              ),\n            }}\n          />\n        ) : (\n          <FormattedMessage\n            id='disabled_account_banner.text'\n            defaultMessage='Your account {disabledAccount} is currently disabled.'\n            values={{\n              disabledAccount: disabledAccountLink,\n            }}\n          />\n        )}\n      </p>\n      <a href='/auth/edit' className='button button--block'>\n        <FormattedMessage\n          id='disabled_account_banner.account_settings'\n          defaultMessage='Account settings'\n        />\n      </a>\n      <button\n        type='button'\n        className='button button--block button-tertiary'\n        onClick={handleLogOutClick}\n      >\n        <FormattedMessage\n          id='confirmations.logout.confirm'\n          defaultMessage='Log out'\n        />\n      </button>\n    </div>\n  );\n};\n","import * as React from \"react\";\nconst SvgKeyboardArrowDown = (props) => /* @__PURE__ */ React.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", height: 24, viewBox: \"0 -960 960 960\", width: 24, ...props }, /* @__PURE__ */ React.createElement(\"path\", { d: \"M480-344 240-584l56-56 184 184 184-184 56 56-240 240Z\" }));\nexport default SvgKeyboardArrowDown;\n","import * as React from \"react\";\nconst SvgKeyboardArrowUp = (props) => /* @__PURE__ */ React.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", height: 24, viewBox: \"0 -960 960 960\", width: 24, ...props }, /* @__PURE__ */ React.createElement(\"path\", { d: \"M480-528 296-344l-56-56 240-240 240 240-56 56-184-184Z\" }));\nexport default SvgKeyboardArrowUp;\n","import { useState, useCallback, useId } from 'react';\n\nimport KeyboardArrowDownIcon from '@/material-icons/400-24px/keyboard_arrow_down.svg?react';\nimport KeyboardArrowUpIcon from '@/material-icons/400-24px/keyboard_arrow_up.svg?react';\nimport type { IconProp } from 'mastodon/components/icon';\nimport { IconButton } from 'mastodon/components/icon_button';\nimport { LoadingIndicator } from 'mastodon/components/loading_indicator';\nimport { ColumnLink } from 'mastodon/features/ui/components/column_link';\n\nexport const CollapsiblePanel: React.FC<{\n  children: React.ReactNode[];\n  to: string;\n  title: string;\n  collapseTitle: string;\n  expandTitle: string;\n  icon: string;\n  iconComponent: IconProp;\n  activeIconComponent?: IconProp;\n  loading?: boolean;\n}> = ({\n  children,\n  to,\n  icon,\n  iconComponent,\n  activeIconComponent,\n  title,\n  collapseTitle,\n  expandTitle,\n  loading,\n}) => {\n  const [expanded, setExpanded] = useState(false);\n  const accessibilityId = useId();\n\n  const handleClick = useCallback(() => {\n    setExpanded((value) => !value);\n  }, [setExpanded]);\n\n  return (\n    <div className='navigation-panel__list-panel'>\n      <div className='navigation-panel__list-panel__header'>\n        <ColumnLink\n          transparent\n          to={to}\n          icon={icon}\n          iconComponent={iconComponent}\n          activeIconComponent={activeIconComponent}\n          text={title}\n          id={`${accessibilityId}-title`}\n        />\n\n        {(loading || children.length > 0) && (\n          <>\n            <div className='navigation-panel__list-panel__header__sep' />\n\n            <IconButton\n              icon='down'\n              expanded={expanded}\n              iconComponent={\n                loading\n                  ? LoadingIndicator\n                  : expanded\n                    ? KeyboardArrowUpIcon\n                    : KeyboardArrowDownIcon\n              }\n              title={expanded ? collapseTitle : expandTitle}\n              onClick={handleClick}\n              aria-controls={`${accessibilityId}-content`}\n            />\n          </>\n        )}\n      </div>\n\n      {children.length > 0 && expanded && (\n        <div\n          className='navigation-panel__list-panel__items'\n          role='region'\n          id={`${accessibilityId}-content`}\n          aria-labelledby={`${accessibilityId}-title`}\n        >\n          {children}\n        </div>\n      )}\n    </div>\n  );\n};\n","import { useEffect, useState } from 'react';\n\nimport { useIntl, defineMessages } from 'react-intl';\n\nimport TagIcon from '@/material-icons/400-24px/tag.svg?react';\nimport { apiGetFollowedTags } from 'mastodon/api/tags';\nimport type { ApiHashtagJSON } from 'mastodon/api_types/tags';\nimport { ColumnLink } from 'mastodon/features/ui/components/column_link';\n\nimport { CollapsiblePanel } from './collapsible_panel';\n\nconst messages = defineMessages({\n  followedTags: {\n    id: 'navigation_bar.followed_tags',\n    defaultMessage: 'Followed hashtags',\n  },\n  expand: {\n    id: 'navigation_panel.expand_followed_tags',\n    defaultMessage: 'Expand followed hashtags menu',\n  },\n  collapse: {\n    id: 'navigation_panel.collapse_followed_tags',\n    defaultMessage: 'Collapse followed hashtags menu',\n  },\n});\n\nexport const FollowedTagsPanel: React.FC = () => {\n  const intl = useIntl();\n  const [tags, setTags] = useState<ApiHashtagJSON[]>([]);\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    setLoading(true);\n\n    void apiGetFollowedTags(undefined, 4)\n      .then(({ tags }) => {\n        setTags(tags);\n        setLoading(false);\n\n        return '';\n      })\n      .catch(() => {\n        setLoading(false);\n      });\n  }, [setLoading, setTags]);\n\n  return (\n    <CollapsiblePanel\n      to='/followed_tags'\n      icon='hashtag'\n      iconComponent={TagIcon}\n      title={intl.formatMessage(messages.followedTags)}\n      collapseTitle={intl.formatMessage(messages.collapse)}\n      expandTitle={intl.formatMessage(messages.expand)}\n      loading={loading}\n    >\n      {tags.map((tag) => (\n        <ColumnLink\n          icon='hashtag'\n          key={tag.name}\n          iconComponent={TagIcon}\n          text={`#${tag.name}`}\n          to={`/tags/${tag.name}`}\n          transparent\n        />\n      ))}\n    </CollapsiblePanel>\n  );\n};\n","import * as React from \"react\";\nconst SvgListAltFill = (props) => /* @__PURE__ */ React.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", height: 24, viewBox: \"0 -960 960 960\", width: 24, ...props }, /* @__PURE__ */ React.createElement(\"path\", { d: \"M320-280q17 0 28.5-11.5T360-320q0-17-11.5-28.5T320-360q-17 0-28.5 11.5T280-320q0 17 11.5 28.5T320-280Zm0-160q17 0 28.5-11.5T360-480q0-17-11.5-28.5T320-520q-17 0-28.5 11.5T280-480q0 17 11.5 28.5T320-440Zm0-160q17 0 28.5-11.5T360-640q0-17-11.5-28.5T320-680q-17 0-28.5 11.5T280-640q0 17 11.5 28.5T320-600Zm120 320h240v-80H440v80Zm0-160h240v-80H440v80Zm0-160h240v-80H440v80ZM200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h560q33 0 56.5 23.5T840-760v560q0 33-23.5 56.5T760-120H200Z\" }));\nexport default SvgListAltFill;\n","import { useEffect, useState } from 'react';\n\nimport { useIntl, defineMessages } from 'react-intl';\n\nimport ListAltActiveIcon from '@/material-icons/400-24px/list_alt-fill.svg?react';\nimport ListAltIcon from '@/material-icons/400-24px/list_alt.svg?react';\nimport { fetchLists } from 'mastodon/actions/lists';\nimport { ColumnLink } from 'mastodon/features/ui/components/column_link';\nimport { getOrderedLists } from 'mastodon/selectors/lists';\nimport { useAppDispatch, useAppSelector } from 'mastodon/store';\n\nimport { CollapsiblePanel } from './collapsible_panel';\n\nconst messages = defineMessages({\n  lists: { id: 'navigation_bar.lists', defaultMessage: 'Lists' },\n  expand: {\n    id: 'navigation_panel.expand_lists',\n    defaultMessage: 'Expand list menu',\n  },\n  collapse: {\n    id: 'navigation_panel.collapse_lists',\n    defaultMessage: 'Collapse list menu',\n  },\n});\n\nexport const ListPanel: React.FC = () => {\n  const intl = useIntl();\n  const dispatch = useAppDispatch();\n  const lists = useAppSelector((state) => getOrderedLists(state));\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    setLoading(true);\n\n    void dispatch(fetchLists()).then(() => {\n      setLoading(false);\n\n      return '';\n    });\n  }, [dispatch, setLoading]);\n\n  return (\n    <CollapsiblePanel\n      to='/lists'\n      icon='list-ul'\n      iconComponent={ListAltIcon}\n      activeIconComponent={ListAltActiveIcon}\n      title={intl.formatMessage(messages.lists)}\n      collapseTitle={intl.formatMessage(messages.collapse)}\n      expandTitle={intl.formatMessage(messages.expand)}\n      loading={loading}\n    >\n      {lists.map((list) => (\n        <ColumnLink\n          icon='list-ul'\n          key={list.id}\n          iconComponent={ListAltIcon}\n          activeIconComponent={ListAltActiveIcon}\n          text={list.title}\n          to={`/lists/${list.id}`}\n          transparent\n        />\n      ))}\n    </CollapsiblePanel>\n  );\n};\n","import { useMemo } from 'react';\n\nimport { defineMessages, useIntl, FormattedMessage } from 'react-intl';\n\nimport MoreHorizIcon from '@/material-icons/400-24px/more_horiz.svg?react';\nimport { openModal } from 'mastodon/actions/modal';\nimport { Dropdown } from 'mastodon/components/dropdown_menu';\nimport { Icon } from 'mastodon/components/icon';\nimport { useIdentity } from 'mastodon/identity_context';\nimport type { MenuItem } from 'mastodon/models/dropdown_menu';\nimport { canManageReports, canViewAdminDashboard } from 'mastodon/permissions';\nimport { useAppDispatch } from 'mastodon/store';\n\nconst messages = defineMessages({\n  blocks: { id: 'navigation_bar.blocks', defaultMessage: 'Blocked users' },\n  domainBlocks: {\n    id: 'navigation_bar.domain_blocks',\n    defaultMessage: 'Blocked domains',\n  },\n  mutes: { id: 'navigation_bar.mutes', defaultMessage: 'Muted users' },\n  filters: { id: 'navigation_bar.filters', defaultMessage: 'Muted words' },\n  administration: {\n    id: 'navigation_bar.administration',\n    defaultMessage: 'Administration',\n  },\n  moderation: { id: 'navigation_bar.moderation', defaultMessage: 'Moderation' },\n  logout: { id: 'navigation_bar.logout', defaultMessage: 'Logout' },\n  automatedDeletion: {\n    id: 'navigation_bar.automated_deletion',\n    defaultMessage: 'Automated post deletion',\n  },\n  accountSettings: {\n    id: 'navigation_bar.account_settings',\n    defaultMessage: 'Password and security',\n  },\n  importExport: {\n    id: 'navigation_bar.import_export',\n    defaultMessage: 'Import and export',\n  },\n  privacyAndReach: {\n    id: 'navigation_bar.privacy_and_reach',\n    defaultMessage: 'Privacy and reach',\n  },\n});\n\nexport const MoreLink: React.FC = () => {\n  const intl = useIntl();\n  const { permissions } = useIdentity();\n  const dispatch = useAppDispatch();\n\n  const menu = useMemo(() => {\n    const arr: MenuItem[] = [\n      { text: intl.formatMessage(messages.filters), href: '/filters' },\n      { text: intl.formatMessage(messages.mutes), to: '/mutes' },\n      { text: intl.formatMessage(messages.blocks), to: '/blocks' },\n      {\n        text: intl.formatMessage(messages.domainBlocks),\n        to: '/domain_blocks',\n      },\n    ];\n\n    arr.push(\n      null,\n      {\n        href: '/settings/privacy',\n        text: intl.formatMessage(messages.privacyAndReach),\n      },\n      {\n        href: '/statuses_cleanup',\n        text: intl.formatMessage(messages.automatedDeletion),\n      },\n      {\n        href: '/auth/edit',\n        text: intl.formatMessage(messages.accountSettings),\n      },\n      {\n        href: '/settings/export',\n        text: intl.formatMessage(messages.importExport),\n      },\n    );\n\n    if (canManageReports(permissions)) {\n      arr.push(null, {\n        href: '/admin/reports',\n        text: intl.formatMessage(messages.moderation),\n      });\n    }\n\n    if (canViewAdminDashboard(permissions)) {\n      arr.push({\n        href: '/admin/dashboard',\n        text: intl.formatMessage(messages.administration),\n      });\n    }\n\n    const handleLogoutClick = () => {\n      dispatch(openModal({ modalType: 'CONFIRM_LOG_OUT', modalProps: {} }));\n    };\n\n    arr.push(null, {\n      text: intl.formatMessage(messages.logout),\n      action: handleLogoutClick,\n    });\n\n    return arr;\n  }, [intl, dispatch, permissions]);\n\n  return (\n    <Dropdown items={menu}>\n      <button className='column-link column-link--transparent'>\n        <Icon id='' icon={MoreHorizIcon} className='column-link__icon' />\n\n        <FormattedMessage id='navigation_bar.more' defaultMessage='More' />\n      </button>\n    </Dropdown>\n  );\n};\n","import { useCallback } from 'react';\n\nimport { FormattedMessage } from 'react-intl';\n\nimport { openModal } from 'mastodon/actions/modal';\nimport { registrationsOpen, sso_redirect } from 'mastodon/initial_state';\nimport { useAppDispatch, useAppSelector } from 'mastodon/store';\n\nexport const SignInBanner: React.FC = () => {\n  const dispatch = useAppDispatch();\n\n  const openClosedRegistrationsModal = useCallback(\n    () =>\n      dispatch(\n        openModal({ modalType: 'CLOSED_REGISTRATIONS', modalProps: {} }),\n      ),\n    [dispatch],\n  );\n\n  let signupButton: React.ReactNode;\n\n  const signupUrl = useAppSelector(\n    (state) =>\n      (state.server.getIn(['server', 'registrations', 'url'], null) as\n        | string\n        | null) ?? '/auth/sign_up',\n  );\n\n  if (sso_redirect) {\n    return (\n      <div className='sign-in-banner'>\n        <p>\n          <strong>\n            <FormattedMessage\n              id='sign_in_banner.mastodon_is'\n              defaultMessage=\"Mastodon is the best way to keep up with what's happening.\"\n            />\n          </strong>\n        </p>\n        <p>\n          <FormattedMessage\n            id='sign_in_banner.follow_anyone'\n            defaultMessage='Follow anyone across the fediverse and see it all in chronological order. No algorithms, ads, or clickbait in sight.'\n          />\n        </p>\n        <a\n          href={sso_redirect}\n          data-method='post'\n          className='button button--block button-tertiary'\n        >\n          <FormattedMessage\n            id='sign_in_banner.sso_redirect'\n            defaultMessage='Login or Register'\n          />\n        </a>\n      </div>\n    );\n  }\n\n  if (registrationsOpen) {\n    signupButton = (\n      <a href={signupUrl} className='button button--block'>\n        <FormattedMessage\n          id='sign_in_banner.create_account'\n          defaultMessage='Create account'\n        />\n      </a>\n    );\n  } else {\n    signupButton = (\n      <button\n        className='button button--block'\n        onClick={openClosedRegistrationsModal}\n      >\n        <FormattedMessage\n          id='sign_in_banner.create_account'\n          defaultMessage='Create account'\n        />\n      </button>\n    );\n  }\n\n  return (\n    <div className='sign-in-banner'>\n      <p>\n        <strong>\n          <FormattedMessage\n            id='sign_in_banner.mastodon_is'\n            defaultMessage=\"Mastodon is the best way to keep up with what's happening.\"\n          />\n        </strong>\n      </p>\n      <p>\n        <FormattedMessage\n          id='sign_in_banner.follow_anyone'\n          defaultMessage='Follow anyone across the fediverse and see it all in chronological order. No algorithms, ads, or clickbait in sight.'\n        />\n      </p>\n      {signupButton}\n      <a href='/auth/sign_in' className='button button--block button-tertiary'>\n        <FormattedMessage id='sign_in_banner.sign_in' defaultMessage='Login' />\n      </a>\n    </div>\n  );\n};\n","import { useEffect, useRef } from 'react';\n\nimport { defineMessages, useIntl } from 'react-intl';\n\nimport classNames from 'classnames';\nimport { Link, useLocation } from 'react-router-dom';\n\nimport type { Map as ImmutableMap } from 'immutable';\n\nimport { animated, useSpring } from '@react-spring/web';\nimport { useDrag } from '@use-gesture/react';\n\nimport AddIcon from '@/material-icons/400-24px/add.svg?react';\nimport AlternateEmailIcon from '@/material-icons/400-24px/alternate_email.svg?react';\nimport BookmarksActiveIcon from '@/material-icons/400-24px/bookmarks-fill.svg?react';\nimport BookmarksIcon from '@/material-icons/400-24px/bookmarks.svg?react';\nimport HomeActiveIcon from '@/material-icons/400-24px/home-fill.svg?react';\nimport HomeIcon from '@/material-icons/400-24px/home.svg?react';\nimport InfoIcon from '@/material-icons/400-24px/info.svg?react';\nimport NotificationsActiveIcon from '@/material-icons/400-24px/notifications-fill.svg?react';\nimport NotificationsIcon from '@/material-icons/400-24px/notifications.svg?react';\nimport PersonAddActiveIcon from '@/material-icons/400-24px/person_add-fill.svg?react';\nimport PersonAddIcon from '@/material-icons/400-24px/person_add.svg?react';\nimport PublicIcon from '@/material-icons/400-24px/public.svg?react';\nimport SettingsIcon from '@/material-icons/400-24px/settings.svg?react';\nimport StarActiveIcon from '@/material-icons/400-24px/star-fill.svg?react';\nimport StarIcon from '@/material-icons/400-24px/star.svg?react';\nimport TrendingUpIcon from '@/material-icons/400-24px/trending_up.svg?react';\nimport { fetchFollowRequests } from 'mastodon/actions/accounts';\nimport { openNavigation, closeNavigation } from 'mastodon/actions/navigation';\nimport { Account } from 'mastodon/components/account';\nimport { IconWithBadge } from 'mastodon/components/icon_with_badge';\nimport { WordmarkLogo } from 'mastodon/components/logo';\nimport { Search } from 'mastodon/features/compose/components/search';\nimport { ColumnLink } from 'mastodon/features/ui/components/column_link';\nimport { useBreakpoint } from 'mastodon/features/ui/hooks/useBreakpoint';\nimport { useIdentity } from 'mastodon/identity_context';\nimport { timelinePreview, trendsEnabled, me } from 'mastodon/initial_state';\nimport { transientSingleColumn } from 'mastodon/is_mobile';\nimport { selectUnreadNotificationGroupsCount } from 'mastodon/selectors/notifications';\nimport { useAppSelector, useAppDispatch } from 'mastodon/store';\n\nimport { DisabledAccountBanner } from './components/disabled_account_banner';\nimport { FollowedTagsPanel } from './components/followed_tags_panel';\nimport { ListPanel } from './components/list_panel';\nimport { MoreLink } from './components/more_link';\nimport { SignInBanner } from './components/sign_in_banner';\nimport { Trends } from './components/trends';\n\nconst messages = defineMessages({\n  home: { id: 'tabs_bar.home', defaultMessage: 'Home' },\n  notifications: {\n    id: 'tabs_bar.notifications',\n    defaultMessage: 'Notifications',\n  },\n  explore: { id: 'explore.title', defaultMessage: 'Trending' },\n  firehose: { id: 'column.firehose', defaultMessage: 'Live feeds' },\n  direct: { id: 'navigation_bar.direct', defaultMessage: 'Private mentions' },\n  favourites: { id: 'navigation_bar.favourites', defaultMessage: 'Favorites' },\n  bookmarks: { id: 'navigation_bar.bookmarks', defaultMessage: 'Bookmarks' },\n  preferences: {\n    id: 'navigation_bar.preferences',\n    defaultMessage: 'Preferences',\n  },\n  followsAndFollowers: {\n    id: 'navigation_bar.follows_and_followers',\n    defaultMessage: 'Follows and followers',\n  },\n  about: { id: 'navigation_bar.about', defaultMessage: 'About' },\n  search: { id: 'navigation_bar.search', defaultMessage: 'Search' },\n  searchTrends: {\n    id: 'navigation_bar.search_trends',\n    defaultMessage: 'Search / Trending',\n  },\n  advancedInterface: {\n    id: 'navigation_bar.advanced_interface',\n    defaultMessage: 'Open in advanced web interface',\n  },\n  openedInClassicInterface: {\n    id: 'navigation_bar.opened_in_classic_interface',\n    defaultMessage:\n      'Posts, accounts, and other specific pages are opened by default in the classic web interface.',\n  },\n  followRequests: {\n    id: 'navigation_bar.follow_requests',\n    defaultMessage: 'Follow requests',\n  },\n  logout: { id: 'navigation_bar.logout', defaultMessage: 'Logout' },\n  compose: { id: 'tabs_bar.publish', defaultMessage: 'New Post' },\n});\n\nconst NotificationsLink = () => {\n  const count = useAppSelector(selectUnreadNotificationGroupsCount);\n  const intl = useIntl();\n\n  return (\n    <ColumnLink\n      key='notifications'\n      transparent\n      to='/notifications'\n      icon={\n        <IconWithBadge\n          id='bell'\n          icon={NotificationsIcon}\n          count={count}\n          className='column-link__icon'\n        />\n      }\n      activeIcon={\n        <IconWithBadge\n          id='bell'\n          icon={NotificationsActiveIcon}\n          count={count}\n          className='column-link__icon'\n        />\n      }\n      text={intl.formatMessage(messages.notifications)}\n    />\n  );\n};\n\nconst FollowRequestsLink: React.FC = () => {\n  const intl = useIntl();\n  const count = useAppSelector(\n    (state) =>\n      (\n        state.user_lists.getIn(['follow_requests', 'items']) as\n          | ImmutableMap<string, unknown>\n          | undefined\n      )?.size ?? 0,\n  );\n  const dispatch = useAppDispatch();\n\n  useEffect(() => {\n    dispatch(fetchFollowRequests());\n  }, [dispatch]);\n\n  if (count === 0) {\n    return null;\n  }\n\n  return (\n    <ColumnLink\n      transparent\n      to='/follow_requests'\n      icon={\n        <IconWithBadge\n          id='user-plus'\n          icon={PersonAddIcon}\n          count={count}\n          className='column-link__icon'\n        />\n      }\n      activeIcon={\n        <IconWithBadge\n          id='user-plus'\n          icon={PersonAddActiveIcon}\n          count={count}\n          className='column-link__icon'\n        />\n      }\n      text={intl.formatMessage(messages.followRequests)}\n    />\n  );\n};\n\nconst ProfileCard: React.FC = () => {\n  if (!me) {\n    return null;\n  }\n\n  return (\n    <div className='navigation-bar'>\n      <Account id={me} minimal size={36} />\n    </div>\n  );\n};\n\nconst isFirehoseActive = (\n  match: unknown,\n  { pathname }: { pathname: string },\n) => {\n  return !!match || pathname.startsWith('/public');\n};\n\nconst MENU_WIDTH = 284;\n\nexport const NavigationPanel: React.FC = () => {\n  const intl = useIntl();\n  const { signedIn, disabledAccountId } = useIdentity();\n  const open = useAppSelector((state) => state.navigation.open);\n  const dispatch = useAppDispatch();\n  const openable = useBreakpoint('openable');\n  const showSearch = useBreakpoint('full');\n  const location = useLocation();\n  const overlayRef = useRef<HTMLDivElement | null>(null);\n\n  useEffect(() => {\n    dispatch(closeNavigation());\n  }, [dispatch, location]);\n\n  useEffect(() => {\n    const handleDocumentClick = (e: MouseEvent) => {\n      if (overlayRef.current && e.target === overlayRef.current) {\n        dispatch(closeNavigation());\n      }\n    };\n\n    const handleDocumentKeyUp = (e: KeyboardEvent) => {\n      if (e.key === 'Escape') {\n        dispatch(closeNavigation());\n      }\n    };\n\n    document.addEventListener('click', handleDocumentClick);\n    document.addEventListener('keyup', handleDocumentKeyUp);\n\n    return () => {\n      document.removeEventListener('click', handleDocumentClick);\n      document.removeEventListener('keyup', handleDocumentKeyUp);\n    };\n  }, [dispatch]);\n\n  const isLtrDir = getComputedStyle(document.body).direction !== 'rtl';\n\n  const OPEN_MENU_OFFSET = isLtrDir ? MENU_WIDTH : -MENU_WIDTH;\n\n  const [{ x }, spring] = useSpring(\n    () => ({\n      x: open ? 0 : OPEN_MENU_OFFSET,\n      onRest: {\n        x({ value }: { value: number }) {\n          if (value === 0) {\n            dispatch(openNavigation());\n          } else if (isLtrDir ? value > 0 : value < 0) {\n            dispatch(closeNavigation());\n          }\n        },\n      },\n    }),\n    [open],\n  );\n\n  const bind = useDrag(\n    ({\n      last,\n      offset: [xOffset],\n      velocity: [xVelocity],\n      direction: [xDirection],\n      cancel,\n    }) => {\n      const logicalXDirection = isLtrDir ? xDirection : -xDirection;\n      const logicalXOffset = isLtrDir ? xOffset : -xOffset;\n      const hasReachedDragThreshold = logicalXOffset < -70;\n\n      if (hasReachedDragThreshold) {\n        cancel();\n      }\n\n      if (last) {\n        const isAboveOpenThreshold = logicalXOffset > MENU_WIDTH / 2;\n        const isQuickFlick = xVelocity > 0.5 && logicalXDirection > 0;\n\n        if (isAboveOpenThreshold || isQuickFlick) {\n          void spring.start({ x: OPEN_MENU_OFFSET });\n        } else {\n          void spring.start({ x: 0 });\n        }\n      } else {\n        void spring.start({ x: xOffset, immediate: true });\n      }\n    },\n    {\n      from: () => [x.get(), 0],\n      filterTaps: true,\n      bounds: isLtrDir ? { left: 0 } : { right: 0 },\n      rubberband: true,\n    },\n  );\n\n  const previouslyFocusedElementRef = useRef<HTMLElement | null>();\n\n  useEffect(() => {\n    if (open) {\n      const firstLink = document.querySelector<HTMLAnchorElement>(\n        '.navigation-panel__menu .column-link',\n      );\n      previouslyFocusedElementRef.current =\n        document.activeElement as HTMLElement;\n      firstLink?.focus();\n    } else {\n      previouslyFocusedElementRef.current?.focus();\n    }\n  }, [open]);\n\n  let banner: React.ReactNode;\n\n  if (transientSingleColumn) {\n    banner = (\n      <div className='switch-to-advanced'>\n        {intl.formatMessage(messages.openedInClassicInterface)}{' '}\n        <a\n          href={`/deck${location.pathname}`}\n          className='switch-to-advanced__toggle'\n        >\n          {intl.formatMessage(messages.advancedInterface)}\n        </a>\n      </div>\n    );\n  }\n\n  const showOverlay = openable && open;\n\n  return (\n    <div\n      className={classNames(\n        'columns-area__panels__pane columns-area__panels__pane--start columns-area__panels__pane--navigational',\n        { 'columns-area__panels__pane--overlay': showOverlay },\n      )}\n      ref={overlayRef}\n    >\n      <animated.div\n        className='columns-area__panels__pane__inner'\n        {...bind()}\n        style={openable ? { x } : undefined}\n      >\n        <div className='navigation-panel'>\n          <div className='navigation-panel__logo'>\n            <Link to='/' className='column-link column-link--logo'>\n              <WordmarkLogo />\n            </Link>\n          </div>\n\n          {showSearch && <Search singleColumn />}\n\n          <ProfileCard />\n\n          {banner && <div className='navigation-panel__banner'>{banner}</div>}\n\n          <div className='navigation-panel__menu'>\n            {signedIn && (\n              <>\n                <ColumnLink\n                  to='/publish'\n                  icon='plus'\n                  iconComponent={AddIcon}\n                  activeIconComponent={AddIcon}\n                  text={intl.formatMessage(messages.compose)}\n                  className='button navigation-panel__compose-button'\n                />\n                <ColumnLink\n                  transparent\n                  to='/home'\n                  icon='home'\n                  iconComponent={HomeIcon}\n                  activeIconComponent={HomeActiveIcon}\n                  text={intl.formatMessage(messages.home)}\n                />\n              </>\n            )}\n\n            {trendsEnabled && (\n              <ColumnLink\n                transparent\n                to='/explore'\n                icon='explore'\n                iconComponent={TrendingUpIcon}\n                text={intl.formatMessage(messages.explore)}\n              />\n            )}\n\n            {(signedIn || timelinePreview) && (\n              <ColumnLink\n                transparent\n                to='/public/local'\n                icon='globe'\n                iconComponent={PublicIcon}\n                isActive={isFirehoseActive}\n                text={intl.formatMessage(messages.firehose)}\n              />\n            )}\n\n            {signedIn && (\n              <>\n                <NotificationsLink />\n\n                <FollowRequestsLink />\n\n                <hr />\n\n                <ListPanel />\n\n                <FollowedTagsPanel />\n\n                <ColumnLink\n                  transparent\n                  to='/favourites'\n                  icon='star'\n                  iconComponent={StarIcon}\n                  activeIconComponent={StarActiveIcon}\n                  text={intl.formatMessage(messages.favourites)}\n                />\n                <ColumnLink\n                  transparent\n                  to='/bookmarks'\n                  icon='bookmarks'\n                  iconComponent={BookmarksIcon}\n                  activeIconComponent={BookmarksActiveIcon}\n                  text={intl.formatMessage(messages.bookmarks)}\n                />\n                <ColumnLink\n                  transparent\n                  to='/conversations'\n                  icon='at'\n                  iconComponent={AlternateEmailIcon}\n                  text={intl.formatMessage(messages.direct)}\n                />\n\n                <hr />\n\n                <ColumnLink\n                  transparent\n                  href='/settings/preferences'\n                  icon='cog'\n                  iconComponent={SettingsIcon}\n                  text={intl.formatMessage(messages.preferences)}\n                />\n\n                <MoreLink />\n              </>\n            )}\n\n            <div className='navigation-panel__legal'>\n              <ColumnLink\n                transparent\n                to='/about'\n                icon='ellipsis-h'\n                iconComponent={InfoIcon}\n                text={intl.formatMessage(messages.about)}\n              />\n            </div>\n\n            {!signedIn && (\n              <div className='navigation-panel__sign-in-banner'>\n                <hr />\n\n                {disabledAccountId ? (\n                  <DisabledAccountBanner />\n                ) : (\n                  <SignInBanner />\n                )}\n              </div>\n            )}\n          </div>\n\n          <div className='flex-spacer' />\n\n          <Trends />\n        </div>\n      </animated.div>\n    </div>\n  );\n};\n","import PropTypes from 'prop-types';\nimport { Children, cloneElement, useCallback } from 'react';\n\nimport ImmutablePropTypes from 'react-immutable-proptypes';\nimport ImmutablePureComponent from 'react-immutable-pure-component';\n\nimport { scrollRight } from '../../../scroll';\nimport BundleContainer from '../containers/bundle_container';\nimport {\n  Compose,\n  Notifications,\n  HomeTimeline,\n  CommunityTimeline,\n  PublicTimeline,\n  HashtagTimeline,\n  DirectTimeline,\n  FavouritedStatuses,\n  BookmarkedStatuses,\n  ListTimeline,\n  Directory,\n} from '../util/async-components';\nimport { useColumnsContext } from '../util/columns_context';\n\nimport BundleColumnError from './bundle_column_error';\nimport { ColumnLoading } from './column_loading';\nimport { ComposePanel } from './compose_panel';\nimport DrawerLoading from './drawer_loading';\nimport { NavigationPanel } from 'mastodon/features/navigation_panel';\n\nconst componentMap = {\n  'COMPOSE': Compose,\n  'HOME': HomeTimeline,\n  'NOTIFICATIONS': Notifications,\n  'PUBLIC': PublicTimeline,\n  'REMOTE': PublicTimeline,\n  'COMMUNITY': CommunityTimeline,\n  'HASHTAG': HashtagTimeline,\n  'DIRECT': DirectTimeline,\n  'FAVOURITES': FavouritedStatuses,\n  'BOOKMARKS': BookmarkedStatuses,\n  'LIST': ListTimeline,\n  'DIRECTORY': Directory,\n};\n\nconst TabsBarPortal = () => {\n  const {setTabsBarElement} = useColumnsContext();\n\n  const setRef = useCallback((element) => {\n    if(element)\n      setTabsBarElement(element);\n  }, [setTabsBarElement]);\n\n  return <div id='tabs-bar__portal' ref={setRef} />;\n};\n\nexport default class ColumnsArea extends ImmutablePureComponent {\n  static propTypes = {\n    columns: ImmutablePropTypes.list.isRequired,\n    isModalOpen: PropTypes.bool.isRequired,\n    singleColumn: PropTypes.bool,\n    children: PropTypes.node,\n  };\n\n  // Corresponds to (max-width: $no-gap-breakpoint - 1px) in SCSS\n  mediaQuery = 'matchMedia' in window && window.matchMedia('(max-width: 1174px)');\n\n  state = {\n    renderComposePanel: !(this.mediaQuery && this.mediaQuery.matches),\n  };\n\n  componentDidMount() {\n    if (this.mediaQuery) {\n      if (this.mediaQuery.addEventListener) {\n        this.mediaQuery.addEventListener('change', this.handleLayoutChange);\n      } else {\n        this.mediaQuery.addListener(this.handleLayoutChange);\n      }\n      this.setState({ renderComposePanel: !this.mediaQuery.matches });\n    }\n\n    this.isRtlLayout = document.getElementsByTagName('body')[0].classList.contains('rtl');\n  }\n\n  componentWillUnmount () {\n    if (this.mediaQuery) {\n      if (this.mediaQuery.removeEventListener) {\n        this.mediaQuery.removeEventListener('change', this.handleLayoutChange);\n      } else {\n        this.mediaQuery.removeListener(this.handleLayoutChange);\n      }\n    }\n  }\n\n  handleChildrenContentChange() {\n    if (!this.props.singleColumn) {\n      const modifier = this.isRtlLayout ? -1 : 1;\n      scrollRight(this.node, (this.node.scrollWidth - window.innerWidth) * modifier);\n    }\n  }\n\n  handleLayoutChange = (e) => {\n    this.setState({ renderComposePanel: !e.matches });\n  };\n\n  setRef = (node) => {\n    this.node = node;\n  };\n\n  renderLoading = columnId => () => {\n    return columnId === 'COMPOSE' ? <DrawerLoading /> : <ColumnLoading multiColumn />;\n  };\n\n  renderError = (props) => {\n    return <BundleColumnError multiColumn errorType='network' {...props} />;\n  };\n\n  render () {\n    const { columns, children, singleColumn, isModalOpen } = this.props;\n    const { renderComposePanel } = this.state;\n\n    if (singleColumn) {\n      return (\n        <div className='columns-area__panels'>\n          <div className='columns-area__panels__pane columns-area__panels__pane--compositional'>\n            <div className='columns-area__panels__pane__inner'>\n              {renderComposePanel && <ComposePanel />}\n            </div>\n          </div>\n\n          <div className='columns-area__panels__main'>\n            <div className='tabs-bar__wrapper'><TabsBarPortal /></div>\n            <div className='columns-area columns-area--mobile'>{children}</div>\n          </div>\n\n          <NavigationPanel />\n        </div>\n      );\n    }\n\n    return (\n      <div className={`columns-area ${ isModalOpen ? 'unscrollable' : '' }`} ref={this.setRef}>\n        {columns.map(column => {\n          const params = column.get('params', null) === null ? null : column.get('params').toJS();\n          const other  = params && params.other ? params.other : {};\n\n          return (\n            <BundleContainer key={column.get('uuid')} fetchComponent={componentMap[column.get('id')]} loading={this.renderLoading(column.get('id'))} error={this.renderError}>\n              {SpecificComponent => <SpecificComponent columnId={column.get('uuid')} params={params} multiColumn {...other} />}\n            </BundleContainer>\n          );\n        })}\n\n        {Children.map(children, child => cloneElement(child, { multiColumn: true }))}\n      </div>\n    );\n  }\n\n}\n","import { connect } from 'react-redux';\n\nimport ColumnsArea from '../components/columns_area';\n\nconst mapStateToProps = state => ({\n  columns: state.getIn(['settings', 'columns']),\n  isModalOpen: !!state.get('modal').modalType,\n});\n\nexport default connect(mapStateToProps, null, null, { forwardRef: true })(ColumnsArea);\n","import PropTypes from 'prop-types';\nimport { Component, cloneElement, Children } from 'react';\n\nimport { Switch, Route, useLocation } from 'react-router-dom';\n\nimport StackTrace from 'stacktrace-js';\n\nimport BundleColumnError from '../components/bundle_column_error';\nimport { ColumnLoading } from '../components/column_loading';\nimport BundleContainer from '../containers/bundle_container';\n\n// Small wrapper to pass multiColumn to the route components\nexport const WrappedSwitch = ({ multiColumn, children }) => {\n  const  location = useLocation();\n\n  const decklessLocation = multiColumn && location.pathname.startsWith('/deck')\n    ? {...location, pathname: location.pathname.slice(5)}\n    : location;\n\n  return (\n    <Switch location={decklessLocation}>\n      {Children.map(children, child => child ? cloneElement(child, { multiColumn }) : null)}\n    </Switch>\n  );\n};\n\n\nWrappedSwitch.propTypes = {\n  multiColumn: PropTypes.bool,\n  children: PropTypes.node,\n};\n\n// Small Wrapper to extract the params from the route and pass\n// them to the rendered component, together with the content to\n// be rendered inside (the children)\nexport class WrappedRoute extends Component {\n\n  static propTypes = {\n    component: PropTypes.func.isRequired,\n    content: PropTypes.node,\n    multiColumn: PropTypes.bool,\n    componentParams: PropTypes.object,\n  };\n\n  static defaultProps = {\n    componentParams: {},\n  };\n\n  static getDerivedStateFromError () {\n    return {\n      hasError: true,\n    };\n  }\n\n  state = {\n    hasError: false,\n    stacktrace: '',\n  };\n\n  componentDidCatch (error) {\n    StackTrace.fromError(error).then(stackframes => {\n      this.setState({ stacktrace: error.toString() + '\\n' + stackframes.map(frame => frame.toString()).join('\\n') });\n    }).catch(err => {\n      console.error(err);\n    });\n  }\n\n  renderComponent = ({ match }) => {\n    const { component, content, multiColumn, componentParams } = this.props;\n    const { hasError, stacktrace } = this.state;\n\n    if (hasError) {\n      return (\n        <BundleColumnError\n          stacktrace={stacktrace}\n          multiColumn={multiColumn}\n          errorType='error'\n        />\n      );\n    }\n\n    return (\n      <BundleContainer fetchComponent={component} loading={this.renderLoading} error={this.renderError}>\n        {Component => <Component params={match.params} multiColumn={multiColumn} {...componentParams}>{content}</Component>}\n      </BundleContainer>\n    );\n  };\n\n  renderLoading = () => {\n    const { multiColumn } = this.props;\n\n    return <ColumnLoading multiColumn={multiColumn} />;\n  };\n\n  renderError = (props) => {\n    return <BundleColumnError {...props} errorType='network' />;\n  };\n\n  render () {\n    const { component: Component, content, ...rest } = this.props;\n\n    return <Route {...rest} render={this.renderComponent} />;\n  }\n\n}\n","import PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\n\nimport { defineMessages, injectIntl } from 'react-intl';\n\nimport classNames from 'classnames';\nimport { Redirect, Route, withRouter } from 'react-router-dom';\n\nimport { connect } from 'react-redux';\n\nimport { debounce } from 'lodash';\nimport { HotKeys } from 'react-hotkeys';\n\nimport { focusApp, unfocusApp, changeLayout } from 'mastodon/actions/app';\nimport { synchronouslySubmitMarkers, submitMarkers, fetchMarkers } from 'mastodon/actions/markers';\nimport { fetchNotifications } from 'mastodon/actions/notification_groups';\nimport { INTRODUCTION_VERSION } from 'mastodon/actions/onboarding';\nimport { AlertsController } from 'mastodon/components/alerts_controller';\nimport { HoverCardController } from 'mastodon/components/hover_card_controller';\nimport { PictureInPicture } from 'mastodon/features/picture_in_picture';\nimport { identityContextPropShape, withIdentity } from 'mastodon/identity_context';\nimport { layoutFromWindow } from 'mastodon/is_mobile';\nimport { WithRouterPropTypes } from 'mastodon/utils/react_router';\n\nimport { uploadCompose, resetCompose, changeComposeSpoilerness } from '../../actions/compose';\nimport { clearHeight } from '../../actions/height_cache';\nimport { fetchServer, fetchServerTranslationLanguages } from '../../actions/server';\nimport { expandHomeTimeline } from '../../actions/timelines';\nimport initialState, { me, owner, singleUserMode, trendsEnabled, trendsAsLanding, disableHoverCards } from '../../initial_state';\n\nimport BundleColumnError from './components/bundle_column_error';\nimport { NavigationBar } from './components/navigation_bar';\nimport { UploadArea } from './components/upload_area';\nimport { HashtagMenuController } from './components/hashtag_menu_controller';\nimport ColumnsAreaContainer from './containers/columns_area_container';\nimport LoadingBarContainer from './containers/loading_bar_container';\nimport ModalContainer from './containers/modal_container';\nimport {\n  Compose,\n  Status,\n  GettingStarted,\n  KeyboardShortcuts,\n  Firehose,\n  AccountTimeline,\n  AccountGallery,\n  HomeTimeline,\n  Followers,\n  Following,\n  Reblogs,\n  Favourites,\n  DirectTimeline,\n  HashtagTimeline,\n  Notifications,\n  NotificationRequests,\n  NotificationRequest,\n  FollowRequests,\n  FavouritedStatuses,\n  BookmarkedStatuses,\n  FollowedTags,\n  LinkTimeline,\n  ListTimeline,\n  Lists,\n  ListEdit,\n  ListMembers,\n  Blocks,\n  DomainBlocks,\n  Mutes,\n  PinnedStatuses,\n  Directory,\n  OnboardingProfile,\n  OnboardingFollows,\n  Explore,\n  Search,\n  About,\n  PrivacyPolicy,\n  TermsOfService,\n  AccountFeatured,\n} from './util/async-components';\nimport { ColumnsContextProvider } from './util/columns_context';\nimport { WrappedSwitch, WrappedRoute } from './util/react_router_helpers';\n\n// Dummy import, to make sure that <Status /> ends up in the application bundle.\n// Without this it ends up in ~8 very commonly used bundles.\nimport '../../components/status';\n\nconst messages = defineMessages({\n  beforeUnload: { id: 'ui.beforeunload', defaultMessage: 'Your draft will be lost if you leave Mastodon.' },\n});\n\nconst mapStateToProps = state => ({\n  layout: state.getIn(['meta', 'layout']),\n  isComposing: state.getIn(['compose', 'is_composing']),\n  hasComposingText: state.getIn(['compose', 'text']).trim().length !== 0,\n  hasMediaAttachments: state.getIn(['compose', 'media_attachments']).size > 0,\n  canUploadMore: !state.getIn(['compose', 'media_attachments']).some(x => ['audio', 'video'].includes(x.get('type'))) && state.getIn(['compose', 'media_attachments']).size < state.getIn(['server', 'server', 'configuration', 'statuses', 'max_media_attachments']),\n  firstLaunch: state.getIn(['settings', 'introductionVersion'], 0) < INTRODUCTION_VERSION,\n  newAccount: !state.getIn(['accounts', me, 'note']) && !state.getIn(['accounts', me, 'bot']) && state.getIn(['accounts', me, 'following_count'], 0) === 0 && state.getIn(['accounts', me, 'statuses_count'], 0) === 0,\n  username: state.getIn(['accounts', me, 'username']),\n});\n\nconst keyMap = {\n  help: '?',\n  new: 'n',\n  search: ['s', '/'],\n  forceNew: 'option+n',\n  toggleComposeSpoilers: 'option+x',\n  focusColumn: ['1', '2', '3', '4', '5', '6', '7', '8', '9'],\n  reply: 'r',\n  favourite: 'f',\n  boost: 'b',\n  mention: 'm',\n  open: ['enter', 'o'],\n  openProfile: 'p',\n  moveDown: ['down', 'j'],\n  moveUp: ['up', 'k'],\n  back: 'backspace',\n  goToHome: 'g h',\n  goToNotifications: 'g n',\n  goToLocal: 'g l',\n  goToFederated: 'g t',\n  goToDirect: 'g d',\n  goToStart: 'g s',\n  goToFavourites: 'g f',\n  goToPinned: 'g p',\n  goToProfile: 'g u',\n  goToBlocked: 'g b',\n  goToMuted: 'g m',\n  goToRequests: 'g r',\n  toggleHidden: 'x',\n  toggleSensitive: 'h',\n  openMedia: 'e',\n  onTranslate: 't',\n};\n\nclass SwitchingColumnsArea extends PureComponent {\n  static propTypes = {\n    identity: identityContextPropShape,\n    children: PropTypes.node,\n    location: PropTypes.object,\n    singleColumn: PropTypes.bool,\n    forceOnboarding: PropTypes.bool,\n  };\n\n  UNSAFE_componentWillMount () {\n    if (this.props.singleColumn) {\n      document.body.classList.toggle('layout-single-column', true);\n      document.body.classList.toggle('layout-multiple-columns', false);\n    } else {\n      document.body.classList.toggle('layout-single-column', false);\n      document.body.classList.toggle('layout-multiple-columns', true);\n    }\n  }\n\n  componentDidUpdate (prevProps) {\n    if (![this.props.location.pathname, '/'].includes(prevProps.location.pathname)) {\n      this.node.handleChildrenContentChange();\n    }\n\n    if (prevProps.singleColumn !== this.props.singleColumn) {\n      document.body.classList.toggle('layout-single-column', this.props.singleColumn);\n      document.body.classList.toggle('layout-multiple-columns', !this.props.singleColumn);\n    }\n  }\n\n  setRef = c => {\n    if (c) {\n      this.node = c;\n    }\n  };\n\n  render () {\n    const { children, singleColumn, forceOnboarding } = this.props;\n    const { signedIn } = this.props.identity;\n    const pathName = this.props.location.pathname;\n\n    let redirect;\n\n    if (signedIn) {\n      if (forceOnboarding) {\n        redirect = <Redirect from='/' to='/start' exact />;\n      } else if (singleColumn) {\n        redirect = <Redirect from='/' to='/home' exact />;\n      } else {\n        redirect = <Redirect from='/' to='/deck/getting-started' exact />;\n      }\n    } else if (singleUserMode && owner && initialState?.accounts[owner]) {\n      redirect = <Redirect from='/' to={`/@${initialState.accounts[owner].username}`} exact />;\n    } else if (trendsEnabled && trendsAsLanding) {\n      redirect = <Redirect from='/' to='/explore' exact />;\n    } else {\n      redirect = <Redirect from='/' to='/about' exact />;\n    }\n\n    return (\n      <ColumnsContextProvider multiColumn={!singleColumn}>\n        <ColumnsAreaContainer ref={this.setRef} singleColumn={singleColumn}>\n          <WrappedSwitch>\n            {redirect}\n\n            {singleColumn ? <Redirect from='/deck' to='/home' exact /> : null}\n            {singleColumn && pathName.startsWith('/deck/') ? <Redirect from={pathName} to={{...this.props.location, pathname: pathName.slice(5)}} /> : null}\n            {/* Redirect old bookmarks (without /deck) with home-like routes to the advanced interface */}\n            {!singleColumn && pathName === '/getting-started' ? <Redirect from='/getting-started' to='/deck/getting-started' exact /> : null}\n            {!singleColumn && pathName === '/home' ? <Redirect from='/home' to='/deck/getting-started' exact /> : null}\n\n            <WrappedRoute path='/getting-started' component={GettingStarted} content={children} />\n            <WrappedRoute path='/keyboard-shortcuts' component={KeyboardShortcuts} content={children} />\n            <WrappedRoute path='/about' component={About} content={children} />\n            <WrappedRoute path='/privacy-policy' component={PrivacyPolicy} content={children} />\n            <WrappedRoute path='/terms-of-service/:date?' component={TermsOfService} content={children} />\n\n            <WrappedRoute path={['/home', '/timelines/home']} component={HomeTimeline} content={children} />\n            <Redirect from='/timelines/public' to='/public' exact />\n            <Redirect from='/timelines/public/local' to='/public/local' exact />\n            <WrappedRoute path='/public' exact component={Firehose} componentParams={{ feedType: 'public' }} content={children} />\n            <WrappedRoute path='/public/local' exact component={Firehose} componentParams={{ feedType: 'community' }} content={children} />\n            <WrappedRoute path='/public/remote' exact component={Firehose} componentParams={{ feedType: 'public:remote' }} content={children} />\n            <WrappedRoute path={['/conversations', '/timelines/direct']} component={DirectTimeline} content={children} />\n            <WrappedRoute path='/tags/:id' component={HashtagTimeline} content={children} />\n            <WrappedRoute path='/links/:url' component={LinkTimeline} content={children} />\n            <WrappedRoute path='/lists/new' component={ListEdit} content={children} />\n            <WrappedRoute path='/lists/:id/edit' component={ListEdit} content={children} />\n            <WrappedRoute path='/lists/:id/members' component={ListMembers} content={children} />\n            <WrappedRoute path='/lists/:id' component={ListTimeline} content={children} />\n            <WrappedRoute path='/notifications' component={Notifications} content={children} exact />\n            <WrappedRoute path='/notifications/requests' component={NotificationRequests} content={children} exact />\n            <WrappedRoute path='/notifications/requests/:id' component={NotificationRequest} content={children} exact />\n            <WrappedRoute path='/favourites' component={FavouritedStatuses} content={children} />\n\n            <WrappedRoute path='/bookmarks' component={BookmarkedStatuses} content={children} />\n            <WrappedRoute path='/pinned' component={PinnedStatuses} content={children} />\n\n            <WrappedRoute path={['/start', '/start/profile']} exact component={OnboardingProfile} content={children} />\n            <WrappedRoute path='/start/follows' component={OnboardingFollows} content={children} />\n            <WrappedRoute path='/directory' component={Directory} content={children} />\n            <WrappedRoute path='/explore' component={Explore} content={children} />\n            <WrappedRoute path='/search' component={Search} content={children} />\n            <WrappedRoute path={['/publish', '/statuses/new']} component={Compose} content={children} />\n\n            <WrappedRoute path={['/@:acct', '/accounts/:id']} exact component={AccountTimeline} content={children} />\n            <WrappedRoute path={['/@:acct/featured', '/accounts/:id/featured']} component={AccountFeatured} content={children} />\n            <WrappedRoute path='/@:acct/tagged/:tagged?' exact component={AccountTimeline} content={children} />\n            <WrappedRoute path={['/@:acct/with_replies', '/accounts/:id/with_replies']} component={AccountTimeline} content={children} componentParams={{ withReplies: true }} />\n            <WrappedRoute path={['/accounts/:id/followers', '/users/:acct/followers', '/@:acct/followers']} component={Followers} content={children} />\n            <WrappedRoute path={['/accounts/:id/following', '/users/:acct/following', '/@:acct/following']} component={Following} content={children} />\n            <WrappedRoute path={['/@:acct/media', '/accounts/:id/media']} component={AccountGallery} content={children} />\n            <WrappedRoute path='/@:acct/:statusId' exact component={Status} content={children} />\n            <WrappedRoute path='/@:acct/:statusId/reblogs' component={Reblogs} content={children} />\n            <WrappedRoute path='/@:acct/:statusId/favourites' component={Favourites} content={children} />\n\n            {/* Legacy routes, cannot be easily factored with other routes because they share a param name */}\n            <WrappedRoute path='/timelines/tag/:id' component={HashtagTimeline} content={children} />\n            <WrappedRoute path='/timelines/list/:id' component={ListTimeline} content={children} />\n            <WrappedRoute path='/statuses/:statusId' exact component={Status} content={children} />\n            <WrappedRoute path='/statuses/:statusId/reblogs' component={Reblogs} content={children} />\n            <WrappedRoute path='/statuses/:statusId/favourites' component={Favourites} content={children} />\n\n            <WrappedRoute path='/follow_requests' component={FollowRequests} content={children} />\n            <WrappedRoute path='/blocks' component={Blocks} content={children} />\n            <WrappedRoute path='/domain_blocks' component={DomainBlocks} content={children} />\n            <WrappedRoute path='/followed_tags' component={FollowedTags} content={children} />\n            <WrappedRoute path='/mutes' component={Mutes} content={children} />\n            <WrappedRoute path='/lists' component={Lists} content={children} />\n\n            <Route component={BundleColumnError} />\n          </WrappedSwitch>\n        </ColumnsAreaContainer>\n      </ColumnsContextProvider>\n    );\n  }\n\n}\n\nclass UI extends PureComponent {\n  static propTypes = {\n    identity: identityContextPropShape,\n    dispatch: PropTypes.func.isRequired,\n    children: PropTypes.node,\n    isComposing: PropTypes.bool,\n    hasComposingText: PropTypes.bool,\n    hasMediaAttachments: PropTypes.bool,\n    canUploadMore: PropTypes.bool,\n    intl: PropTypes.object.isRequired,\n    layout: PropTypes.string.isRequired,\n    firstLaunch: PropTypes.bool,\n    newAccount: PropTypes.bool,\n    username: PropTypes.string,\n    ...WithRouterPropTypes,\n  };\n\n  state = {\n    draggingOver: false,\n  };\n\n  handleBeforeUnload = e => {\n    const { intl, dispatch, isComposing, hasComposingText, hasMediaAttachments } = this.props;\n\n    dispatch(synchronouslySubmitMarkers());\n\n    if (isComposing && (hasComposingText || hasMediaAttachments)) {\n      e.preventDefault();\n      // Setting returnValue to any string causes confirmation dialog.\n      // Many browsers no longer display this text to users,\n      // but we set user-friendly message for other browsers, e.g. Edge.\n      e.returnValue = intl.formatMessage(messages.beforeUnload);\n    }\n  };\n\n  handleWindowFocus = () => {\n    this.props.dispatch(focusApp());\n    this.props.dispatch(submitMarkers({ immediate: true }));\n  };\n\n  handleWindowBlur = () => {\n    this.props.dispatch(unfocusApp());\n  };\n\n  handleDragEnter = (e) => {\n    e.preventDefault();\n\n    if (!this.dragTargets) {\n      this.dragTargets = [];\n    }\n\n    if (this.dragTargets.indexOf(e.target) === -1) {\n      this.dragTargets.push(e.target);\n    }\n\n    if (e.dataTransfer && Array.from(e.dataTransfer.types).includes('Files') && this.props.canUploadMore && this.props.identity.signedIn) {\n      this.setState({ draggingOver: true });\n    }\n  };\n\n  handleDragOver = (e) => {\n    if (this.dataTransferIsText(e.dataTransfer)) return false;\n\n    e.preventDefault();\n    e.stopPropagation();\n\n    try {\n      e.dataTransfer.dropEffect = 'copy';\n    } catch {\n      // do nothing\n    }\n\n    return false;\n  };\n\n  handleDrop = (e) => {\n    if (this.dataTransferIsText(e.dataTransfer)) return;\n\n    e.preventDefault();\n\n    this.setState({ draggingOver: false });\n    this.dragTargets = [];\n\n    if (e.dataTransfer && e.dataTransfer.files.length >= 1 && this.props.canUploadMore && this.props.identity.signedIn) {\n      this.props.dispatch(uploadCompose(e.dataTransfer.files));\n    }\n  };\n\n  handleDragLeave = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n\n    this.dragTargets = this.dragTargets.filter(el => el !== e.target && this.node.contains(el));\n\n    if (this.dragTargets.length > 0) {\n      return;\n    }\n\n    this.setState({ draggingOver: false });\n  };\n\n  dataTransferIsText = (dataTransfer) => {\n    return (dataTransfer && Array.from(dataTransfer.types).filter((type) => type === 'text/plain').length === 1);\n  };\n\n  closeUploadModal = () => {\n    this.setState({ draggingOver: false });\n  };\n\n  handleServiceWorkerPostMessage = ({ data }) => {\n    if (data.type === 'navigate') {\n      this.props.history.push(data.path);\n    } else {\n      console.warn('Unknown message type:', data.type);\n    }\n  };\n\n  handleLayoutChange = debounce(() => {\n    this.props.dispatch(clearHeight()); // The cached heights are no longer accurate, invalidate\n  }, 500, {\n    trailing: true,\n  });\n\n  handleResize = () => {\n    const layout = layoutFromWindow();\n\n    if (layout !== this.props.layout) {\n      this.handleLayoutChange.cancel();\n      this.props.dispatch(changeLayout({ layout }));\n    } else {\n      this.handleLayoutChange();\n    }\n  };\n\n  componentDidMount () {\n    const { signedIn } = this.props.identity;\n\n    window.addEventListener('focus', this.handleWindowFocus, false);\n    window.addEventListener('blur', this.handleWindowBlur, false);\n    window.addEventListener('beforeunload', this.handleBeforeUnload, false);\n    window.addEventListener('resize', this.handleResize, { passive: true });\n\n    document.addEventListener('dragenter', this.handleDragEnter, false);\n    document.addEventListener('dragover', this.handleDragOver, false);\n    document.addEventListener('drop', this.handleDrop, false);\n    document.addEventListener('dragleave', this.handleDragLeave, false);\n    document.addEventListener('dragend', this.handleDragEnd, false);\n\n    if ('serviceWorker' in  navigator) {\n      navigator.serviceWorker.addEventListener('message', this.handleServiceWorkerPostMessage);\n    }\n\n    if (signedIn) {\n      this.props.dispatch(fetchMarkers());\n      this.props.dispatch(expandHomeTimeline());\n      this.props.dispatch(fetchNotifications());\n      this.props.dispatch(fetchServerTranslationLanguages());\n\n      setTimeout(() => this.props.dispatch(fetchServer()), 3000);\n    }\n\n    this.hotkeys.__mousetrap__.stopCallback = (e, element) => {\n      return ['TEXTAREA', 'SELECT', 'INPUT'].includes(element.tagName);\n    };\n  }\n\n  componentWillUnmount () {\n    window.removeEventListener('focus', this.handleWindowFocus);\n    window.removeEventListener('blur', this.handleWindowBlur);\n    window.removeEventListener('beforeunload', this.handleBeforeUnload);\n    window.removeEventListener('resize', this.handleResize);\n\n    document.removeEventListener('dragenter', this.handleDragEnter);\n    document.removeEventListener('dragover', this.handleDragOver);\n    document.removeEventListener('drop', this.handleDrop);\n    document.removeEventListener('dragleave', this.handleDragLeave);\n    document.removeEventListener('dragend', this.handleDragEnd);\n  }\n\n  setRef = c => {\n    this.node = c;\n  };\n\n  handleHotkeyNew = e => {\n    e.preventDefault();\n\n    const element = this.node.querySelector('.autosuggest-textarea__textarea');\n\n    if (element) {\n      element.focus();\n    }\n  };\n\n  handleHotkeySearch = e => {\n    e.preventDefault();\n\n    const element = this.node.querySelector('.search__input');\n\n    if (element) {\n      element.focus();\n    }\n  };\n\n  handleHotkeyForceNew = e => {\n    this.handleHotkeyNew(e);\n    this.props.dispatch(resetCompose());\n  };\n\n  handleHotkeyToggleComposeSpoilers = e => {\n    e.preventDefault();\n    this.props.dispatch(changeComposeSpoilerness());\n  };\n\n  handleHotkeyFocusColumn = e => {\n    const index  = (e.key * 1) + 1; // First child is drawer, skip that\n    const column = this.node.querySelector(`.column:nth-child(${index})`);\n    if (!column) return;\n    const container = column.querySelector('.scrollable');\n\n    if (container) {\n      const status = container.querySelector('.focusable');\n\n      if (status) {\n        if (container.scrollTop > status.offsetTop) {\n          status.scrollIntoView(true);\n        }\n        status.focus();\n      }\n    }\n  };\n\n  handleHotkeyBack = e => {\n    e.preventDefault();\n\n    const { history } = this.props;\n\n    if (history.location?.state?.fromMastodon) {\n      history.goBack();\n    } else {\n      history.push('/');\n    }\n  };\n\n  setHotkeysRef = c => {\n    this.hotkeys = c;\n  };\n\n  handleHotkeyToggleHelp = () => {\n    if (this.props.location.pathname === '/keyboard-shortcuts') {\n      this.props.history.goBack();\n    } else {\n      this.props.history.push('/keyboard-shortcuts');\n    }\n  };\n\n  handleHotkeyGoToHome = () => {\n    this.props.history.push('/home');\n  };\n\n  handleHotkeyGoToNotifications = () => {\n    this.props.history.push('/notifications');\n  };\n\n  handleHotkeyGoToLocal = () => {\n    this.props.history.push('/public/local');\n  };\n\n  handleHotkeyGoToFederated = () => {\n    this.props.history.push('/public');\n  };\n\n  handleHotkeyGoToDirect = () => {\n    this.props.history.push('/conversations');\n  };\n\n  handleHotkeyGoToStart = () => {\n    this.props.history.push('/getting-started');\n  };\n\n  handleHotkeyGoToFavourites = () => {\n    this.props.history.push('/favourites');\n  };\n\n  handleHotkeyGoToPinned = () => {\n    this.props.history.push('/pinned');\n  };\n\n  handleHotkeyGoToProfile = () => {\n    this.props.history.push(`/@${this.props.username}`);\n  };\n\n  handleHotkeyGoToBlocked = () => {\n    this.props.history.push('/blocks');\n  };\n\n  handleHotkeyGoToMuted = () => {\n    this.props.history.push('/mutes');\n  };\n\n  handleHotkeyGoToRequests = () => {\n    this.props.history.push('/follow_requests');\n  };\n\n  render () {\n    const { draggingOver } = this.state;\n    const { children, isComposing, location, layout, firstLaunch, newAccount } = this.props;\n\n    const handlers = {\n      help: this.handleHotkeyToggleHelp,\n      new: this.handleHotkeyNew,\n      search: this.handleHotkeySearch,\n      forceNew: this.handleHotkeyForceNew,\n      toggleComposeSpoilers: this.handleHotkeyToggleComposeSpoilers,\n      focusColumn: this.handleHotkeyFocusColumn,\n      back: this.handleHotkeyBack,\n      goToHome: this.handleHotkeyGoToHome,\n      goToNotifications: this.handleHotkeyGoToNotifications,\n      goToLocal: this.handleHotkeyGoToLocal,\n      goToFederated: this.handleHotkeyGoToFederated,\n      goToDirect: this.handleHotkeyGoToDirect,\n      goToStart: this.handleHotkeyGoToStart,\n      goToFavourites: this.handleHotkeyGoToFavourites,\n      goToPinned: this.handleHotkeyGoToPinned,\n      goToProfile: this.handleHotkeyGoToProfile,\n      goToBlocked: this.handleHotkeyGoToBlocked,\n      goToMuted: this.handleHotkeyGoToMuted,\n      goToRequests: this.handleHotkeyGoToRequests,\n    };\n\n    return (\n      <HotKeys keyMap={keyMap} handlers={handlers} ref={this.setHotkeysRef} attach={window} focused>\n        <div className={classNames('ui', { 'is-composing': isComposing })} ref={this.setRef}>\n          <SwitchingColumnsArea identity={this.props.identity} location={location} singleColumn={layout === 'mobile' || layout === 'single-column'} forceOnboarding={firstLaunch && newAccount}>\n            {children}\n          </SwitchingColumnsArea>\n\n          <NavigationBar />\n          {layout !== 'mobile' && <PictureInPicture />}\n          <AlertsController />\n          {!disableHoverCards && <HoverCardController />}\n          <HashtagMenuController />\n          <LoadingBarContainer className='loading-bar' />\n          <ModalContainer />\n          <UploadArea active={draggingOver} onClose={this.closeUploadModal} />\n        </div>\n      </HotKeys>\n    );\n  }\n\n}\n\nexport default connect(mapStateToProps)(injectIntl(withRouter(withIdentity(UI))));\n","import { PureComponent } from 'react';\n\nimport { Helmet } from 'react-helmet';\nimport { Route } from 'react-router-dom';\n\nimport { Provider as ReduxProvider } from 'react-redux';\n\nimport { ScrollContext } from 'react-router-scroll-4';\n\nimport { fetchCustomEmojis } from 'mastodon/actions/custom_emojis';\nimport { hydrateStore } from 'mastodon/actions/store';\nimport { connectUserStream } from 'mastodon/actions/streaming';\nimport ErrorBoundary from 'mastodon/components/error_boundary';\nimport { Router } from 'mastodon/components/router';\nimport UI from 'mastodon/features/ui';\nimport { IdentityContext, createIdentityContext } from 'mastodon/identity_context';\nimport initialState, { title as siteTitle } from 'mastodon/initial_state';\nimport { IntlProvider } from 'mastodon/locales';\nimport { store } from 'mastodon/store';\nimport { isProduction } from 'mastodon/utils/environment';\n\nconst title = isProduction() ? siteTitle : `${siteTitle} (Dev)`;\n\nconst hydrateAction = hydrateStore(initialState);\n\nstore.dispatch(hydrateAction);\nif (initialState.meta.me) {\n  store.dispatch(fetchCustomEmojis());\n}\n\nexport default class Mastodon extends PureComponent {\n  identity = createIdentityContext(initialState);\n\n  componentDidMount() {\n    if (this.identity.signedIn) {\n      this.disconnect = store.dispatch(connectUserStream());\n    }\n  }\n\n  componentWillUnmount () {\n    if (this.disconnect) {\n      this.disconnect();\n      this.disconnect = null;\n    }\n  }\n\n  shouldUpdateScroll (prevRouterProps, { location }) {\n    return !(location.state?.mastodonModalKey && location.state?.mastodonModalKey !== prevRouterProps?.location?.state?.mastodonModalKey);\n  }\n\n  render () {\n    return (\n      <IdentityContext.Provider value={this.identity}>\n        <IntlProvider>\n          <ReduxProvider store={store}>\n            <ErrorBoundary>\n              <Router>\n                <ScrollContext shouldUpdateScroll={this.shouldUpdateScroll}>\n                  <Route path='/' component={UI} />\n                </ScrollContext>\n              </Router>\n\n              <Helmet defaultTitle={title} titleTemplate={`%s - ${title}`} />\n            </ErrorBoundary>\n          </ReduxProvider>\n        </IntlProvider>\n      </IdentityContext.Provider>\n    );\n  }\n\n}\n","/* global performance */\nvar perf = typeof performance !== 'undefined' && performance;\n\nvar now = perf && perf.now\n  ? function () { return perf.now(); }\n  : function () { return Date.now(); }\n\nfunction throwIfEmpty (name) {\n  if (!name) {\n    throw new Error('name must be non-empty')\n  }\n}\n\n// simple binary sort insertion\nfunction insertSorted (arr, item) {\n  var low = 0;\n  var high = arr.length;\n  var mid;\n  while (low < high) {\n    mid = (low + high) >>> 1; // like (num / 2) but faster\n    if (arr[mid].startTime < item.startTime) {\n      low = mid + 1;\n    } else {\n      high = mid;\n    }\n  }\n  arr.splice(low, 0, item);\n}\n\nvar mark;\nvar stop;\nvar getEntries;\nvar clear;\n\nif (\n  perf &&\n  perf.mark &&\n  perf.measure &&\n  perf.getEntriesByName &&\n  perf.getEntriesByType &&\n  perf.clearMarks &&\n  perf.clearMeasures &&\n  // In Node, we want to detect that this perf/correctness fix [1] is available, which\n  // landed in Node 16.15.0, 17.6.0, and 18.0.0. However, it's not observable, and\n  // we don't want to rely on fragile version checks.\n  // So we can rely on this observable change [2] to add clearResourceTimings, which\n  // landed a bit later (18.2.0), but is close enough for our purposes.\n  // [1]: https://github.com/nodejs/node/pull/42032\n  // [2]: https://github.com/nodejs/node/pull/42725\n  (true )\n) {\n  mark = function (name) {\n    throwIfEmpty(name);\n    perf.mark((\"start \" + name));\n  };\n  stop = function (name) {\n    throwIfEmpty(name);\n    perf.mark((\"end \" + name));\n    var measure = perf.measure(name, (\"start \" + name), (\"end \" + name));\n    if (measure) {\n      // return value from performance.measure not supported in all browsers\n      // https://developer.mozilla.org/en-US/docs/Web/API/Performance/measure#browser_compatibility\n      return measure\n    }\n    var entries = perf.getEntriesByName(name);\n    return entries[entries.length - 1]\n  };\n  getEntries = function () { return perf.getEntriesByType('measure'); };\n  clear = function () {\n    perf.clearMarks();\n    perf.clearMeasures();\n  };\n} else {\n  var marks = {};\n  var entries = [];\n  mark = function (name) {\n    throwIfEmpty(name);\n    var startTime = now();\n    marks['$' + name] = startTime;\n  };\n  stop = function (name) {\n    throwIfEmpty(name);\n    var endTime = now();\n    var startTime = marks['$' + name];\n    if (!startTime) {\n      throw new Error((\"no known mark: \" + name))\n    }\n    var entry = {\n      startTime: startTime,\n      name: name,\n      duration: endTime - startTime,\n      entryType: 'measure'\n    };\n    // per the spec this should be at least 150:\n    // https://www.w3.org/TR/resource-timing-1/#extensions-performance-interface\n    // we just have no limit, per Chrome and Edge's de-facto behavior\n    insertSorted(entries, entry);\n    return entry\n  };\n  getEntries = function () { return entries; };\n  clear = function () {\n    marks = {};\n    entries = [];\n  };\n}\n\nexport { clear, getEntries, mark, stop };\n","//\n// Tools for performance debugging, only enabled in development mode.\n// Open up Chrome Dev Tools, then Timeline, then User Timing to see output.\n\nimport * as marky from 'marky';\n\nimport { isDevelopment } from './utils/environment';\n\nexport function start(name) {\n  if (isDevelopment()) {\n    marky.mark(name);\n  }\n}\n\nexport function stop(name) {\n  if (isDevelopment()) {\n    marky.stop(name);\n  }\n}\n","import { createRoot } from 'react-dom/client';\n\nimport { Globals } from '@react-spring/web';\n\nimport { setupBrowserNotifications } from 'mastodon/actions/notifications';\nimport Mastodon from 'mastodon/containers/mastodon';\nimport { me, reduceMotion } from 'mastodon/initial_state';\nimport * as perf from 'mastodon/performance';\nimport ready from 'mastodon/ready';\nimport { store } from 'mastodon/store';\n\nimport { isProduction, isDevelopment } from './utils/environment';\n\nfunction main() {\n  perf.start('main()');\n\n  return ready(async () => {\n    const mountNode = document.getElementById('mastodon');\n    if (!mountNode) {\n      throw new Error('Mount node not found');\n    }\n    const props = JSON.parse(\n      mountNode.getAttribute('data-props') ?? '{}',\n    ) as Record<string, unknown>;\n\n    if (reduceMotion) {\n      Globals.assign({\n        skipAnimation: true,\n      });\n    }\n\n    const root = createRoot(mountNode);\n    root.render(<Mastodon {...props} />);\n    store.dispatch(setupBrowserNotifications());\n\n    if (isProduction() && me && 'serviceWorker' in navigator) {\n      const { Workbox } = await import('workbox-window');\n      const wb = new Workbox(\n        isDevelopment() ? '/packs-dev/dev-sw.js?dev-sw' : '/sw.js',\n        { type: 'module', scope: '/' },\n      );\n      let registration;\n\n      try {\n        registration = await wb.register();\n      } catch (err) {\n        console.error(err);\n      }\n\n      if (\n        registration &&\n        'Notification' in window &&\n        Notification.permission === 'granted'\n      ) {\n        const registerPushNotifications = await import(\n          'mastodon/actions/push_notifications'\n        );\n\n        store.dispatch(registerPushNotifications.register());\n      }\n    }\n\n    perf.stop('main()');\n  });\n}\n\n// eslint-disable-next-line import/no-default-export\nexport default main;\n","import { loadLocale } from 'mastodon/locales';\nimport main from 'mastodon/main';\nimport { loadPolyfills } from 'mastodon/polyfills';\n\nloadPolyfills()\n  .then(loadLocale)\n  .then(main)\n  .catch((e: unknown) => {\n    console.error(e);\n  });\n"],"file":"assets/application-CCaUakGx.js"}