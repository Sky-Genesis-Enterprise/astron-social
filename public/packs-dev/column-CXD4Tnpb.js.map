{"version":3,"file":"column-CXD4Tnpb.js","sources":["../../app/javascript/mastodon/components/column.tsx"],"sourcesContent":["import { forwardRef, useRef, useImperativeHandle } from 'react';\nimport type { Ref } from 'react';\n\nimport { scrollTop } from 'mastodon/scroll';\n\nexport interface ColumnRef {\n  scrollTop: () => void;\n  node: HTMLDivElement | null;\n}\n\ninterface ColumnProps {\n  children?: React.ReactNode;\n  label?: string;\n  bindToDocument?: boolean;\n}\n\nexport const Column = forwardRef<ColumnRef, ColumnProps>(\n  ({ children, label, bindToDocument }, ref: Ref<ColumnRef>) => {\n    const nodeRef = useRef<HTMLDivElement>(null);\n\n    useImperativeHandle(ref, () => ({\n      node: nodeRef.current,\n\n      scrollTop() {\n        let scrollable = null;\n\n        if (bindToDocument) {\n          scrollable = document.scrollingElement;\n        } else {\n          scrollable = nodeRef.current?.querySelector('.scrollable');\n        }\n\n        if (!scrollable) {\n          return;\n        }\n\n        scrollTop(scrollable);\n      },\n    }));\n\n    return (\n      <div role='region' aria-label={label} className='column' ref={nodeRef}>\n        {children}\n      </div>\n    );\n  },\n);\n\nColumn.displayName = 'Column';\n\n// eslint-disable-next-line import/no-default-export\nexport default Column;\n"],"names":["Column","forwardRef","children","label","bindToDocument","ref","nodeRef","useRef","useImperativeHandle","node","current","scrollTop","scrollable","document","scrollingElement","querySelector","jsxDEV","this","displayName"],"mappings":"qHAgBO,MAAMA,EAASC,EAAAA,WACpB,CAAC,CAAEC,SAAAA,EAAUC,MAAAA,EAAOC,eAAAA,CAAAA,EAAkBC,IAAwB,CAC5D,MAAMC,EAAUC,EAAAA,OAAuB,IAAI,EAE3CC,OAAAA,EAAAA,oBAAoBH,EAAK,KAAO,CAC9BI,KAAMH,EAAQI,QAEdC,WAAY,OACV,IAAIC,EAAa,KAEbR,EACFQ,EAAaC,SAASC,iBAEtBF,GAAaN,EAAAA,EAAQI,UAARJ,YAAAA,EAAiBS,cAAc,eAGzCH,GAILD,EAAUC,CAAU,CAAA,CACtB,EACA,EAGAI,EAAAA,OAAC,MAAA,CAAI,KAAK,SAAS,aAAYb,EAAO,UAAU,SAAS,IAAKG,EAC3DJ,SAAAA,CAAAA,EADH,OAAA,GAAA,CAAA,SAAA,uFAAA,WAAA,GAAA,aAAA,CAAA,EAAAe,MAEA,CAAA,CAGN,EAEAjB,EAAOkB,YAAc"}