{"version":3,"mappings":"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","names":["DisplayName","React","PureComponent","handleMouseEnter","currentTarget","autoPlayGif","querySelectorAll","forEach","emoji","originalSrc","getAttribute","src","handleMouseLeave","staticSrc","render","others","localDomain","props","displayName","suffix","account","size","first","take","map","a","jsxDEV","__html","get","reduce","prev","cur","acct","includes","Skeleton","getAccountBase","state","id","accounts","getAccountRelationship","relationships","getAccountMoved","movedToId","moved","FullAccountFactory","ImmutableRecord","accountDefaultValues","relationship","makeGetAccount","createSelector","base","set","getAccountHidden","hidden","following","requested","me","followingOrRequested","isSelf","getAccountFamiliarFollowers","accounts_familiar_followers","filter","f","isMenuItem","item","isActionItem","isExternalLinkItem","DropdownMenu","items","loading","scrollable","onClose","openedViaKeyboard","renderItem","renderHeader","onItemClick","nodeRef","useRef","focusedItemRef","useEffect","handleDocumentClick","e","target","Node","current","contains","stopPropagation","preventDefault","handleKeyDown","Array","from","index","document","activeElement","indexOf","element","key","length","shiftKey","HTMLElement","focus","addEventListener","capture","preventScroll","removeEventListener","handleFocusedItemRef","useCallback","c","handleItemClick","i","Number","action","handleItemKeyUp","renderItemMethod","nativeRenderItem","option","this","text","dangerous","undefined","href","method","Link","to","classNames","CircularProgress","onClick","onKeyUp","offset","popperConfig","strategy","Dropdown","children","icon","iconComponent","title","disabled","status","forceDropdown","onOpen","scrollKey","dispatch","useAppDispatch","openDropdownId","useAppSelector","dropdownMenu","openId","keyboard","currentId","useState","open","targetRef","prefetchAccountId","getIn","handleClose","closeModal","modalType","ignoreFocus","closeDropdownMenu","handleClick","type","fetchRelationships","isUserTouching","openModal","modalProps","actions","openDropdownMenu","handleMouseDown","handleButtonKeyDown","handleKeyPress","button","cloneElement","Children","only","onMouseDown","onKeyDown","onKeyPress","ref","IconButton","Fragment","Overlay","arrowProps","placement","emptyComponent","noop","Bundle","mod","forceRender","load","fetchComponent","onFetch","onFetchSuccess","onFetchFail","renderDelay","cachedMod","cache","setState","Promise","resolve","default","timestamp","Date","timeout","setTimeout","then","catch","error","UNSAFE_componentWillMount","UNSAFE_componentWillReceiveProps","nextProps","componentWillUnmount","clearTimeout","Loading","Error","elapsed","__publicField","defaultProps","Map","_Bundle","EmojiPicker","__vitePreload","Compose","Notifications","HomeTimeline","PublicTimeline","CommunityTimeline","Firehose","HashtagTimeline","DirectTimeline","ListTimeline","Lists","Status","GettingStarted","KeyboardShortcuts","PinnedStatuses","AccountTimeline","AccountGallery","AccountFeatured","Followers","Following","Reblogs","Favourites","FollowRequests","FavouritedStatuses","FollowedTags","BookmarkedStatuses","Blocks","DomainBlocks","Mutes","MuteModal","BlockModal","DomainBlockModal","ReportModal","IgnoreNotificationsModal","MediaGallery","Video","n","EmbedModal","ListAdder","Tesseract","Audio","Directory","OnboardingProfile","OnboardingFollows","CompareHistoryModal","Explore","Search","FilterModal","InteractionModal","SubscribedLanguagesModal","ClosedRegistrationsModal","About","PrivacyPolicy","TermsOfService","NotificationRequests","NotificationRequest","LinkTimeline","AnnualReportModal","ListEdit","ListMembers","SvgMoreHoriz","React.createElement","toServerSideType","columnType","getFilters","filters","_","contextType","now","serverSideType","context","expiration","getStatusHidden","filtered","statuses","some","result","getStatusList","status_lists","toList","SvgAlternateEmail","SvgLock","SvgPublic","SvgQuietTime","BannerVariant","Warning","Filter","StatusBanner","variant","expanded","descriptionId","useId","buttonRef","forwardClick","click","FormattedMessage","ContentWarning"],"ignoreList":[],"sources":["../../app/javascript/mastodon/components/display_name.tsx","../../app/javascript/mastodon/selectors/accounts.ts","../../app/javascript/mastodon/models/dropdown_menu.ts","../../app/javascript/mastodon/components/dropdown_menu.tsx","../../app/javascript/mastodon/features/ui/components/bundle.jsx","../../app/javascript/mastodon/features/ui/util/async-components.js","../../app/javascript/material-icons/400-24px/more_horiz.svg?react","../../app/javascript/mastodon/utils/filters.ts","../../app/javascript/mastodon/selectors/filters.ts","../../app/javascript/mastodon/selectors/statuses.ts","../../app/javascript/material-icons/400-24px/alternate_email.svg?react","../../app/javascript/material-icons/400-24px/lock.svg?react","../../app/javascript/material-icons/400-24px/public.svg?react","../../app/javascript/material-icons/400-24px/quiet_time.svg?react","../../app/javascript/mastodon/components/status_banner.tsx","../../app/javascript/mastodon/components/content_warning.tsx"],"sourcesContent":["import React from 'react';\n\nimport type { List } from 'immutable';\n\nimport type { Account } from 'mastodon/models/account';\n\nimport { autoPlayGif } from '../initial_state';\n\nimport { Skeleton } from './skeleton';\n\ninterface Props {\n  account?: Account;\n  others?: List<Account>;\n  localDomain?: string;\n}\n\nexport class DisplayName extends React.PureComponent<Props> {\n  handleMouseEnter: React.ReactEventHandler<HTMLSpanElement> = ({\n    currentTarget,\n  }) => {\n    if (autoPlayGif) {\n      return;\n    }\n\n    const emojis =\n      currentTarget.querySelectorAll<HTMLImageElement>('img.custom-emoji');\n\n    emojis.forEach((emoji) => {\n      const originalSrc = emoji.getAttribute('data-original');\n      if (originalSrc != null) emoji.src = originalSrc;\n    });\n  };\n\n  handleMouseLeave: React.ReactEventHandler<HTMLSpanElement> = ({\n    currentTarget,\n  }) => {\n    if (autoPlayGif) {\n      return;\n    }\n\n    const emojis =\n      currentTarget.querySelectorAll<HTMLImageElement>('img.custom-emoji');\n\n    emojis.forEach((emoji) => {\n      const staticSrc = emoji.getAttribute('data-static');\n      if (staticSrc != null) emoji.src = staticSrc;\n    });\n  };\n\n  render() {\n    const { others, localDomain } = this.props;\n\n    let displayName: React.ReactNode,\n      suffix: React.ReactNode,\n      account: Account | undefined;\n\n    if (others && others.size > 0) {\n      account = others.first();\n    } else if (this.props.account) {\n      account = this.props.account;\n    }\n\n    if (others && others.size > 1) {\n      displayName = others\n        .take(2)\n        .map((a) => (\n          <bdi key={a.get('id')}>\n            <strong\n              className='display-name__html'\n              dangerouslySetInnerHTML={{ __html: a.get('display_name_html') }}\n            />\n          </bdi>\n        ))\n        .reduce((prev, cur) => [prev, ', ', cur]);\n\n      if (others.size - 2 > 0) {\n        suffix = `+${others.size - 2}`;\n      }\n    } else if (account) {\n      let acct = account.get('acct');\n\n      if (!acct.includes('@') && localDomain) {\n        acct = `${acct}@${localDomain}`;\n      }\n\n      displayName = (\n        <bdi>\n          <strong\n            className='display-name__html'\n            dangerouslySetInnerHTML={{\n              __html: account.get('display_name_html'),\n            }}\n          />\n        </bdi>\n      );\n      suffix = <span className='display-name__account'>@{acct}</span>;\n    } else {\n      displayName = (\n        <bdi>\n          <strong className='display-name__html'>\n            <Skeleton width='10ch' />\n          </strong>\n        </bdi>\n      );\n      suffix = (\n        <span className='display-name__account'>\n          <Skeleton width='7ch' />\n        </span>\n      );\n    }\n\n    return (\n      <span\n        className='display-name'\n        onMouseEnter={this.handleMouseEnter}\n        onMouseLeave={this.handleMouseLeave}\n      >\n        {displayName} {suffix}\n      </span>\n    );\n  }\n}\n","import { createSelector } from '@reduxjs/toolkit';\nimport { Record as ImmutableRecord } from 'immutable';\n\nimport { me } from 'mastodon/initial_state';\nimport { accountDefaultValues } from 'mastodon/models/account';\nimport type { Account, AccountShape } from 'mastodon/models/account';\nimport type { Relationship } from 'mastodon/models/relationship';\nimport type { RootState } from 'mastodon/store';\n\nconst getAccountBase = (state: RootState, id: string) =>\n  state.accounts.get(id, null);\n\nconst getAccountRelationship = (state: RootState, id: string) =>\n  state.relationships.get(id, null);\n\nconst getAccountMoved = (state: RootState, id: string) => {\n  const movedToId = state.accounts.get(id)?.moved;\n\n  if (!movedToId) return undefined;\n\n  return state.accounts.get(movedToId);\n};\n\ninterface FullAccountShape extends Omit<AccountShape, 'moved'> {\n  relationship: Relationship | null;\n  moved: Account | null;\n}\n\nconst FullAccountFactory = ImmutableRecord<FullAccountShape>({\n  ...accountDefaultValues,\n  moved: null,\n  relationship: null,\n});\n\nexport function makeGetAccount() {\n  return createSelector(\n    [getAccountBase, getAccountRelationship, getAccountMoved],\n    (base, relationship, moved) => {\n      if (base === null) {\n        return null;\n      }\n\n      return FullAccountFactory(base)\n        .set('relationship', relationship)\n        .set('moved', moved ?? null);\n    },\n  );\n}\n\nexport const getAccountHidden = createSelector(\n  [\n    (state: RootState, id: string) => state.accounts.get(id)?.hidden,\n    (state: RootState, id: string) =>\n      state.relationships.get(id)?.following ||\n      state.relationships.get(id)?.requested,\n    (state: RootState, id: string) => id === me,\n  ],\n  (hidden, followingOrRequested, isSelf) => {\n    return hidden && !(isSelf || followingOrRequested);\n  },\n);\n\nexport const getAccountFamiliarFollowers = createSelector(\n  [\n    (state: RootState) => state.accounts,\n    (state: RootState, id: string) => state.accounts_familiar_followers[id],\n  ],\n  (accounts, accounts_familiar_followers) => {\n    if (!accounts_familiar_followers) return null;\n    return accounts_familiar_followers\n      .map((id) => accounts.get(id))\n      .filter((f) => !!f);\n  },\n);\n","interface BaseMenuItem {\n  text: string;\n  dangerous?: boolean;\n}\n\nexport interface ActionMenuItem extends BaseMenuItem {\n  action: () => void;\n}\n\nexport interface LinkMenuItem extends BaseMenuItem {\n  to: string;\n}\n\nexport interface ExternalLinkMenuItem extends BaseMenuItem {\n  href: string;\n  target?: string;\n  method?: 'post' | 'put' | 'delete';\n}\n\nexport type MenuItem =\n  | ActionMenuItem\n  | LinkMenuItem\n  | ExternalLinkMenuItem\n  | null;\n\nexport const isMenuItem = (item: unknown): item is MenuItem => {\n  if (item === null) {\n    return true;\n  }\n\n  return typeof item === 'object' && 'text' in item;\n};\n\nexport const isActionItem = (item: unknown): item is ActionMenuItem => {\n  if (!item || !isMenuItem(item)) {\n    return false;\n  }\n\n  return 'action' in item;\n};\n\nexport const isExternalLinkItem = (\n  item: unknown,\n): item is ExternalLinkMenuItem => {\n  if (!item || !isMenuItem(item)) {\n    return false;\n  }\n\n  return 'href' in item;\n};\n","import {\n  useState,\n  useEffect,\n  useRef,\n  useCallback,\n  cloneElement,\n  Children,\n} from 'react';\n\nimport classNames from 'classnames';\nimport { Link } from 'react-router-dom';\n\nimport type { Map as ImmutableMap } from 'immutable';\n\nimport Overlay from 'react-overlays/Overlay';\nimport type {\n  OffsetValue,\n  UsePopperOptions,\n} from 'react-overlays/esm/usePopper';\n\nimport { fetchRelationships } from 'mastodon/actions/accounts';\nimport {\n  openDropdownMenu,\n  closeDropdownMenu,\n} from 'mastodon/actions/dropdown_menu';\nimport { openModal, closeModal } from 'mastodon/actions/modal';\nimport { CircularProgress } from 'mastodon/components/circular_progress';\nimport { isUserTouching } from 'mastodon/is_mobile';\nimport {\n  isMenuItem,\n  isActionItem,\n  isExternalLinkItem,\n} from 'mastodon/models/dropdown_menu';\nimport type { MenuItem } from 'mastodon/models/dropdown_menu';\nimport { useAppDispatch, useAppSelector } from 'mastodon/store';\n\nimport type { IconProp } from './icon';\nimport { IconButton } from './icon_button';\n\nlet id = 0;\n\ntype RenderItemFn<Item = MenuItem> = (\n  item: Item,\n  index: number,\n  handlers: {\n    onClick: (e: React.MouseEvent) => void;\n    onKeyUp: (e: React.KeyboardEvent) => void;\n  },\n) => React.ReactNode;\n\ntype ItemClickFn<Item = MenuItem> = (item: Item, index: number) => void;\n\ntype RenderHeaderFn<Item = MenuItem> = (items: Item[]) => React.ReactNode;\n\ninterface DropdownMenuProps<Item = MenuItem> {\n  items?: Item[];\n  loading?: boolean;\n  scrollable?: boolean;\n  onClose: () => void;\n  openedViaKeyboard: boolean;\n  renderItem?: RenderItemFn<Item>;\n  renderHeader?: RenderHeaderFn<Item>;\n  onItemClick?: ItemClickFn<Item>;\n}\n\nexport const DropdownMenu = <Item = MenuItem,>({\n  items,\n  loading,\n  scrollable,\n  onClose,\n  openedViaKeyboard,\n  renderItem,\n  renderHeader,\n  onItemClick,\n}: DropdownMenuProps<Item>) => {\n  const nodeRef = useRef<HTMLDivElement>(null);\n  const focusedItemRef = useRef<HTMLElement | null>(null);\n\n  useEffect(() => {\n    const handleDocumentClick = (e: MouseEvent) => {\n      if (\n        e.target instanceof Node &&\n        nodeRef.current &&\n        !nodeRef.current.contains(e.target)\n      ) {\n        onClose();\n        e.stopPropagation();\n        e.preventDefault();\n      }\n    };\n\n    const handleKeyDown = (e: KeyboardEvent) => {\n      if (!nodeRef.current) {\n        return;\n      }\n\n      const items = Array.from(nodeRef.current.querySelectorAll('a, button'));\n      const index = document.activeElement\n        ? items.indexOf(document.activeElement)\n        : -1;\n\n      let element: Element | undefined;\n\n      switch (e.key) {\n        case 'ArrowDown':\n          element = items[index + 1] ?? items[0];\n          break;\n        case 'ArrowUp':\n          element = items[index - 1] ?? items[items.length - 1];\n          break;\n        case 'Tab':\n          if (e.shiftKey) {\n            element = items[index - 1] ?? items[items.length - 1];\n          } else {\n            element = items[index + 1] ?? items[0];\n          }\n          break;\n        case 'Home':\n          element = items[0];\n          break;\n        case 'End':\n          element = items[items.length - 1];\n          break;\n        case 'Escape':\n          onClose();\n          break;\n      }\n\n      if (element && element instanceof HTMLElement) {\n        element.focus();\n        e.preventDefault();\n        e.stopPropagation();\n      }\n    };\n\n    document.addEventListener('click', handleDocumentClick, { capture: true });\n    document.addEventListener('keydown', handleKeyDown, { capture: true });\n\n    if (focusedItemRef.current && openedViaKeyboard) {\n      focusedItemRef.current.focus({ preventScroll: true });\n    }\n\n    return () => {\n      document.removeEventListener('click', handleDocumentClick, {\n        capture: true,\n      });\n      document.removeEventListener('keydown', handleKeyDown, { capture: true });\n    };\n  }, [onClose, openedViaKeyboard]);\n\n  const handleFocusedItemRef = useCallback(\n    (c: HTMLAnchorElement | HTMLButtonElement | null) => {\n      focusedItemRef.current = c as HTMLElement;\n    },\n    [],\n  );\n\n  const handleItemClick = useCallback(\n    (e: React.MouseEvent | React.KeyboardEvent) => {\n      const i = Number(e.currentTarget.getAttribute('data-index'));\n      const item = items?.[i];\n\n      onClose();\n\n      if (!item) {\n        return;\n      }\n\n      if (typeof onItemClick === 'function') {\n        e.preventDefault();\n        onItemClick(item, i);\n      } else if (isActionItem(item)) {\n        e.preventDefault();\n        item.action();\n      }\n    },\n    [onClose, onItemClick, items],\n  );\n\n  const handleItemKeyUp = useCallback(\n    (e: React.KeyboardEvent) => {\n      if (e.key === 'Enter' || e.key === ' ') {\n        handleItemClick(e);\n      }\n    },\n    [handleItemClick],\n  );\n\n  const nativeRenderItem = (option: Item, i: number) => {\n    if (!isMenuItem(option)) {\n      return null;\n    }\n\n    if (option === null) {\n      return <li key={`sep-${i}`} className='dropdown-menu__separator' />;\n    }\n\n    const { text, dangerous } = option;\n\n    let element: React.ReactElement;\n\n    if (isActionItem(option)) {\n      element = (\n        <button\n          ref={i === 0 ? handleFocusedItemRef : undefined}\n          onClick={handleItemClick}\n          onKeyUp={handleItemKeyUp}\n          data-index={i}\n        >\n          {text}\n        </button>\n      );\n    } else if (isExternalLinkItem(option)) {\n      element = (\n        <a\n          href={option.href}\n          target={option.target ?? '_target'}\n          data-method={option.method}\n          rel='noopener'\n          ref={i === 0 ? handleFocusedItemRef : undefined}\n          onClick={handleItemClick}\n          onKeyUp={handleItemKeyUp}\n          data-index={i}\n        >\n          {text}\n        </a>\n      );\n    } else {\n      element = (\n        <Link\n          to={option.to}\n          ref={i === 0 ? handleFocusedItemRef : undefined}\n          onClick={handleItemClick}\n          onKeyUp={handleItemKeyUp}\n          data-index={i}\n        >\n          {text}\n        </Link>\n      );\n    }\n\n    return (\n      <li\n        className={classNames('dropdown-menu__item', {\n          'dropdown-menu__item--dangerous': dangerous,\n        })}\n        key={`${text}-${i}`}\n      >\n        {element}\n      </li>\n    );\n  };\n\n  const renderItemMethod = renderItem ?? nativeRenderItem;\n\n  return (\n    <div\n      className={classNames('dropdown-menu__container', {\n        'dropdown-menu__container--loading': loading,\n      })}\n      ref={nodeRef}\n    >\n      {(loading || !items) && <CircularProgress size={30} strokeWidth={3.5} />}\n\n      {!loading && renderHeader && items && (\n        <div className='dropdown-menu__container__header'>\n          {renderHeader(items)}\n        </div>\n      )}\n\n      {!loading && items && (\n        <ul\n          className={classNames('dropdown-menu__container__list', {\n            'dropdown-menu__container__list--scrollable': scrollable,\n          })}\n        >\n          {items.map((option, i) =>\n            renderItemMethod(option, i, {\n              onClick: handleItemClick,\n              onKeyUp: handleItemKeyUp,\n            }),\n          )}\n        </ul>\n      )}\n    </div>\n  );\n};\n\ninterface DropdownProps<Item = MenuItem> {\n  children?: React.ReactElement;\n  icon?: string;\n  iconComponent?: IconProp;\n  items?: Item[];\n  loading?: boolean;\n  title?: string;\n  disabled?: boolean;\n  scrollable?: boolean;\n  scrollKey?: string;\n  status?: ImmutableMap<string, unknown>;\n  forceDropdown?: boolean;\n  renderItem?: RenderItemFn<Item>;\n  renderHeader?: RenderHeaderFn<Item>;\n  onOpen?: () => void;\n  onItemClick?: ItemClickFn<Item>;\n}\n\nconst offset = [5, 5] as OffsetValue;\nconst popperConfig = { strategy: 'fixed' } as UsePopperOptions;\n\nexport const Dropdown = <Item = MenuItem,>({\n  children,\n  icon,\n  iconComponent,\n  items,\n  loading,\n  title = 'Menu',\n  disabled,\n  scrollable,\n  status,\n  forceDropdown = false,\n  renderItem,\n  renderHeader,\n  onOpen,\n  onItemClick,\n  scrollKey,\n}: DropdownProps<Item>) => {\n  const dispatch = useAppDispatch();\n  const openDropdownId = useAppSelector((state) => state.dropdownMenu.openId);\n  const openedViaKeyboard = useAppSelector(\n    (state) => state.dropdownMenu.keyboard,\n  );\n  const [currentId] = useState(id++);\n  const open = currentId === openDropdownId;\n  const activeElement = useRef<HTMLElement | null>(null);\n  const targetRef = useRef<HTMLButtonElement | null>(null);\n  const prefetchAccountId = status\n    ? status.getIn(['account', 'id'])\n    : undefined;\n\n  const handleClose = useCallback(() => {\n    if (activeElement.current) {\n      activeElement.current.focus({ preventScroll: true });\n      activeElement.current = null;\n    }\n\n    dispatch(\n      closeModal({\n        modalType: 'ACTIONS',\n        ignoreFocus: false,\n      }),\n    );\n\n    dispatch(closeDropdownMenu({ id: currentId }));\n  }, [dispatch, currentId]);\n\n  const handleItemClick = useCallback(\n    (e: React.MouseEvent | React.KeyboardEvent) => {\n      const i = Number(e.currentTarget.getAttribute('data-index'));\n      const item = items?.[i];\n\n      handleClose();\n\n      if (!item) {\n        return;\n      }\n\n      if (typeof onItemClick === 'function') {\n        e.preventDefault();\n        onItemClick(item, i);\n      } else if (isActionItem(item)) {\n        e.preventDefault();\n        item.action();\n      }\n    },\n    [handleClose, onItemClick, items],\n  );\n\n  const handleClick = useCallback(\n    (e: React.MouseEvent | React.KeyboardEvent) => {\n      const { type } = e;\n\n      if (open) {\n        handleClose();\n      } else {\n        onOpen?.();\n\n        if (prefetchAccountId) {\n          dispatch(fetchRelationships([prefetchAccountId]));\n        }\n\n        if (isUserTouching() && !forceDropdown) {\n          dispatch(\n            openModal({\n              modalType: 'ACTIONS',\n              modalProps: {\n                actions: items,\n                onClick: handleItemClick,\n              },\n            }),\n          );\n        } else {\n          dispatch(\n            openDropdownMenu({\n              id: currentId,\n              keyboard: type !== 'click',\n              scrollKey,\n            }),\n          );\n        }\n      }\n    },\n    [\n      dispatch,\n      currentId,\n      prefetchAccountId,\n      scrollKey,\n      onOpen,\n      handleItemClick,\n      open,\n      items,\n      forceDropdown,\n      handleClose,\n    ],\n  );\n\n  const handleMouseDown = useCallback(() => {\n    if (!open && document.activeElement instanceof HTMLElement) {\n      activeElement.current = document.activeElement;\n    }\n  }, [open]);\n\n  const handleButtonKeyDown = useCallback(\n    (e: React.KeyboardEvent) => {\n      switch (e.key) {\n        case ' ':\n        case 'Enter':\n          handleMouseDown();\n          break;\n      }\n    },\n    [handleMouseDown],\n  );\n\n  const handleKeyPress = useCallback(\n    (e: React.KeyboardEvent) => {\n      switch (e.key) {\n        case ' ':\n        case 'Enter':\n          handleClick(e);\n          e.stopPropagation();\n          e.preventDefault();\n          break;\n      }\n    },\n    [handleClick],\n  );\n\n  useEffect(() => {\n    return () => {\n      if (currentId === openDropdownId) {\n        handleClose();\n      }\n    };\n  }, [currentId, openDropdownId, handleClose]);\n\n  let button: React.ReactElement;\n\n  if (children) {\n    button = cloneElement(Children.only(children), {\n      onClick: handleClick,\n      onMouseDown: handleMouseDown,\n      onKeyDown: handleButtonKeyDown,\n      onKeyPress: handleKeyPress,\n      ref: targetRef,\n    });\n  } else if (icon && iconComponent) {\n    button = (\n      <IconButton\n        icon={!open ? icon : 'close'}\n        iconComponent={iconComponent}\n        title={title}\n        active={open}\n        disabled={disabled}\n        onClick={handleClick}\n        onMouseDown={handleMouseDown}\n        onKeyDown={handleButtonKeyDown}\n        onKeyPress={handleKeyPress}\n        ref={targetRef}\n      />\n    );\n  } else {\n    return null;\n  }\n\n  return (\n    <>\n      {button}\n\n      <Overlay\n        show={open}\n        offset={offset}\n        placement='bottom'\n        flip\n        target={targetRef}\n        popperConfig={popperConfig}\n      >\n        {({ props, arrowProps, placement }) => (\n          <div {...props}>\n            <div className={`dropdown-animation dropdown-menu ${placement}`}>\n              <div\n                className={`dropdown-menu__arrow ${placement}`}\n                {...arrowProps}\n              />\n\n              <DropdownMenu\n                items={items}\n                loading={loading}\n                scrollable={scrollable}\n                onClose={handleClose}\n                openedViaKeyboard={openedViaKeyboard}\n                renderItem={renderItem}\n                renderHeader={renderHeader}\n                onItemClick={onItemClick}\n              />\n            </div>\n          </div>\n        )}\n      </Overlay>\n    </>\n  );\n};\n","import PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\n\nconst emptyComponent = () => null;\nconst noop = () => { };\n\nclass Bundle extends PureComponent {\n\n  static propTypes = {\n    fetchComponent: PropTypes.func.isRequired,\n    loading: PropTypes.func,\n    error: PropTypes.func,\n    children: PropTypes.func.isRequired,\n    renderDelay: PropTypes.number,\n    onFetch: PropTypes.func,\n    onFetchSuccess: PropTypes.func,\n    onFetchFail: PropTypes.func,\n  };\n\n  static defaultProps = {\n    loading: emptyComponent,\n    error: emptyComponent,\n    renderDelay: 0,\n    onFetch: noop,\n    onFetchSuccess: noop,\n    onFetchFail: noop,\n  };\n\n  static cache = new Map;\n\n  state = {\n    mod: undefined,\n    forceRender: false,\n  };\n\n  UNSAFE_componentWillMount() {\n    this.load(this.props);\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    if (nextProps.fetchComponent !== this.props.fetchComponent) {\n      this.load(nextProps);\n    }\n  }\n\n  componentWillUnmount () {\n    if (this.timeout) {\n      clearTimeout(this.timeout);\n    }\n  }\n\n  load = (props) => {\n    const { fetchComponent, onFetch, onFetchSuccess, onFetchFail, renderDelay } = props || this.props;\n    const cachedMod = Bundle.cache.get(fetchComponent);\n\n    if (fetchComponent === undefined) {\n      this.setState({ mod: null });\n      return Promise.resolve();\n    }\n\n    onFetch();\n\n    if (cachedMod) {\n      this.setState({ mod: cachedMod.default });\n      onFetchSuccess();\n      return Promise.resolve();\n    }\n\n    this.setState({ mod: undefined });\n\n    if (renderDelay !== 0) {\n      this.timestamp = new Date();\n      this.timeout = setTimeout(() => this.setState({ forceRender: true }), renderDelay);\n    }\n\n    return fetchComponent()\n      .then((mod) => {\n        Bundle.cache.set(fetchComponent, mod);\n        this.setState({ mod: mod.default });\n        onFetchSuccess();\n      })\n      .catch((error) => {\n        this.setState({ mod: null });\n        onFetchFail(error);\n      });\n  };\n\n  render() {\n    const { loading: Loading, error: Error, children, renderDelay } = this.props;\n    const { mod, forceRender } = this.state;\n    const elapsed = this.timestamp ? (new Date() - this.timestamp) : renderDelay;\n\n    if (mod === undefined) {\n      return (elapsed >= renderDelay || forceRender) ? <Loading /> : null;\n    }\n\n    if (mod === null) {\n      return <Error onRetry={this.load} />;\n    }\n\n    return children(mod);\n  }\n\n}\n\nexport default Bundle;\n","export function EmojiPicker () {\n  return import('../../emoji/emoji_picker');\n}\n\nexport function Compose () {\n  return import('../../compose');\n}\n\nexport function Notifications () {\n  return import('../../notifications_v2');\n}\n\nexport function HomeTimeline () {\n  return import('../../home_timeline');\n}\n\nexport function PublicTimeline () {\n  return import('../../public_timeline');\n}\n\nexport function CommunityTimeline () {\n  return import('../../community_timeline');\n}\n\nexport function Firehose () {\n  return import('../../firehose');\n}\n\nexport function HashtagTimeline () {\n  return import('../../hashtag_timeline');\n}\n\nexport function DirectTimeline() {\n  return import('../../direct_timeline');\n}\n\nexport function ListTimeline () {\n  return import('../../list_timeline');\n}\n\nexport function Lists () {\n  return import('../../lists');\n}\n\nexport function Status () {\n  return import('../../status');\n}\n\nexport function GettingStarted () {\n  return import('../../getting_started');\n}\n\nexport function KeyboardShortcuts () {\n  return import('../../keyboard_shortcuts');\n}\n\nexport function PinnedStatuses () {\n  return import('../../pinned_statuses');\n}\n\nexport function AccountTimeline () {\n  return import('../../account_timeline');\n}\n\nexport function AccountGallery () {\n  return import('../../account_gallery');\n}\n\nexport function AccountFeatured() {\n  return import('../../account_featured');\n}\n\nexport function Followers () {\n  return import('../../followers');\n}\n\nexport function Following () {\n  return import('../../following');\n}\n\nexport function Reblogs () {\n  return import('../../reblogs');\n}\n\nexport function Favourites () {\n  return import('../../favourites');\n}\n\nexport function FollowRequests () {\n  return import('../../follow_requests');\n}\n\nexport function FavouritedStatuses () {\n  return import('../../favourited_statuses');\n}\n\nexport function FollowedTags () {\n  return import('../../followed_tags');\n}\n\nexport function BookmarkedStatuses () {\n  return import('../../bookmarked_statuses');\n}\n\nexport function Blocks () {\n  return import('../../blocks');\n}\n\nexport function DomainBlocks () {\n  return import('../../domain_blocks');\n}\n\nexport function Mutes () {\n  return import('../../mutes');\n}\n\nexport function MuteModal () {\n  return import('../components/mute_modal');\n}\n\nexport function BlockModal () {\n  return import('../components/block_modal');\n}\n\nexport function DomainBlockModal () {\n  return import('../components/domain_block_modal');\n}\n\nexport function ReportModal () {\n  return import('../components/report_modal');\n}\n\nexport function IgnoreNotificationsModal () {\n  return import('../components/ignore_notifications_modal');\n}\n\nexport function MediaGallery () {\n  return import('../../../components/media_gallery');\n}\n\nexport function Video () {\n  return import('../../video');\n}\n\nexport function EmbedModal () {\n  return import('../components/embed_modal');\n}\n\nexport function ListAdder () {\n  return import('../../list_adder');\n}\n\nexport function Tesseract () {\n  return import('tesseract.js');\n}\n\nexport function Audio () {\n  return import('../../audio');\n}\n\nexport function Directory () {\n  return import('../../directory');\n}\n\nexport function OnboardingProfile () {\n  return import('../../onboarding/profile');\n}\n\nexport function OnboardingFollows () {\n  return import('../../onboarding/follows');\n}\n\nexport function CompareHistoryModal () {\n  return import('../components/compare_history_modal');\n}\n\nexport function Explore () {\n  return import('../../explore');\n}\n\nexport function Search () {\n  return import('../../search');\n}\n\nexport function FilterModal () {\n  return import('../components/filter_modal');\n}\n\nexport function InteractionModal () {\n  return import('../../interaction_modal');\n}\n\nexport function SubscribedLanguagesModal () {\n  return import('../../subscribed_languages_modal');\n}\n\nexport function ClosedRegistrationsModal () {\n  return import('../../closed_registrations_modal');\n}\n\nexport function About () {\n  return import('../../about');\n}\n\nexport function PrivacyPolicy () {\n  return import('../../privacy_policy');\n}\n\nexport function TermsOfService () {\n  return import('../../terms_of_service');\n}\n\nexport function NotificationRequests () {\n  return import('../../notifications/requests');\n}\n\nexport function NotificationRequest () {\n  return import('../../notifications/request');\n}\n\nexport function LinkTimeline () {\n  return import('../../link_timeline');\n}\n\nexport function AnnualReportModal () {\n  return import('../components/annual_report_modal');\n}\n\nexport function ListEdit () {\n  return import('../../lists/new');\n}\n\nexport function ListMembers () {\n  return import('../../lists/members');\n}\n","import * as React from \"react\";\nconst SvgMoreHoriz = (props) => /* @__PURE__ */ React.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", height: 24, viewBox: \"0 -960 960 960\", width: 24, ...props }, /* @__PURE__ */ React.createElement(\"path\", { d: \"M240-400q-33 0-56.5-23.5T160-480q0-33 23.5-56.5T240-560q33 0 56.5 23.5T320-480q0 33-23.5 56.5T240-400Zm240 0q-33 0-56.5-23.5T400-480q0-33 23.5-56.5T480-560q33 0 56.5 23.5T560-480q0 33-23.5 56.5T480-400Zm240 0q-33 0-56.5-23.5T640-480q0-33 23.5-56.5T720-560q33 0 56.5 23.5T800-480q0 33-23.5 56.5T720-400Z\" }));\nexport default SvgMoreHoriz;\n","export const toServerSideType = (columnType: string) => {\n  switch (columnType) {\n    case 'home':\n    case 'notifications':\n    case 'public':\n    case 'thread':\n    case 'account':\n      return columnType;\n    case 'detailed':\n      return 'thread';\n    case 'bookmarks':\n    case 'favourites':\n      return 'home';\n    default:\n      if (columnType.includes('list:')) {\n        return 'home';\n      } else {\n        return 'public'; // community, account, hashtag\n      }\n  }\n};\n","import { createSelector } from '@reduxjs/toolkit';\n\nimport type { RootState } from 'mastodon/store';\nimport { toServerSideType } from 'mastodon/utils/filters';\n\n// TODO: move to `app/javascript/mastodon/models` and use more globally\ntype Filter = Immutable.Map<string, unknown>;\n\n// TODO: move to `app/javascript/mastodon/models` and use more globally\ntype FilterResult = Immutable.Map<string, unknown>;\n\nexport const getFilters = createSelector(\n  [\n    (state: RootState) => state.filters as Immutable.Map<string, Filter>,\n    (_, { contextType }: { contextType: string }) => contextType,\n  ],\n  (filters, contextType) => {\n    if (!contextType) {\n      return null;\n    }\n\n    const now = new Date();\n    const serverSideType = toServerSideType(contextType);\n\n    return filters.filter((filter) => {\n      const context = filter.get('context') as Immutable.List<string>;\n      const expiration = filter.get('expires_at') as Date | null;\n      return (\n        context.includes(serverSideType) &&\n        (expiration === null || expiration > now)\n      );\n    });\n  },\n);\n\nexport const getStatusHidden = (\n  state: RootState,\n  { id, contextType }: { id: string; contextType: string },\n) => {\n  const filters = getFilters(state, { contextType });\n  if (filters === null) return false;\n\n  const filtered = state.statuses.getIn([id, 'filtered']) as\n    | Immutable.List<FilterResult>\n    | undefined;\n  return filtered?.some(\n    (result) =>\n      filters.getIn([result.get('filter'), 'filter_action']) === 'hide',\n  );\n};\n","import { createSelector } from '@reduxjs/toolkit';\nimport type { OrderedSet as ImmutableOrderedSet } from 'immutable';\n\nimport type { RootState } from 'mastodon/store';\n\nexport const getStatusList = createSelector(\n  [\n    (\n      state: RootState,\n      type: 'favourites' | 'bookmarks' | 'pins' | 'trending',\n    ) =>\n      state.status_lists.getIn([type, 'items']) as ImmutableOrderedSet<string>,\n  ],\n  (items) => items.toList(),\n);\n","import * as React from \"react\";\nconst SvgAlternateEmail = (props) => /* @__PURE__ */ React.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", height: 24, viewBox: \"0 -960 960 960\", width: 24, ...props }, /* @__PURE__ */ React.createElement(\"path\", { d: \"M480-80q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480v58q0 59-40.5 100.5T740-280q-35 0-66-15t-52-43q-29 29-65.5 43.5T480-280q-83 0-141.5-58.5T280-480q0-83 58.5-141.5T480-680q83 0 141.5 58.5T680-480v58q0 26 17 44t43 18q26 0 43-18t17-44v-58q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93h200v80H480Zm0-280q50 0 85-35t35-85q0-50-35-85t-85-35q-50 0-85 35t-35 85q0 50 35 85t85 35Z\" }));\nexport default SvgAlternateEmail;\n","import * as React from \"react\";\nconst SvgLock = (props) => /* @__PURE__ */ React.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", height: 24, viewBox: \"0 -960 960 960\", width: 24, ...props }, /* @__PURE__ */ React.createElement(\"path\", { d: \"M240-80q-33 0-56.5-23.5T160-160v-400q0-33 23.5-56.5T240-640h40v-80q0-83 58.5-141.5T480-920q83 0 141.5 58.5T680-720v80h40q33 0 56.5 23.5T800-560v400q0 33-23.5 56.5T720-80H240Zm0-80h480v-400H240v400Zm240-120q33 0 56.5-23.5T560-360q0-33-23.5-56.5T480-440q-33 0-56.5 23.5T400-360q0 33 23.5 56.5T480-280ZM360-640h240v-80q0-50-35-85t-85-35q-50 0-85 35t-35 85v80ZM240-160v-400 400Z\" }));\nexport default SvgLock;\n","import * as React from \"react\";\nconst SvgPublic = (props) => /* @__PURE__ */ React.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", height: 24, viewBox: \"0 -960 960 960\", width: 24, ...props }, /* @__PURE__ */ React.createElement(\"path\", { d: \"M480-80q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm-40-82v-78q-33 0-56.5-23.5T360-320v-40L168-552q-3 18-5.5 36t-2.5 36q0 121 79.5 212T440-162Zm276-102q41-45 62.5-100.5T800-480q0-98-54.5-179T600-776v16q0 33-23.5 56.5T520-680h-80v80q0 17-11.5 28.5T400-560h-80v80h240q17 0 28.5 11.5T600-440v120h40q26 0 47 15.5t29 40.5Z\" }));\nexport default SvgPublic;\n","import * as React from \"react\";\nconst SvgQuietTime = (props) => /* @__PURE__ */ React.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", height: 24, viewBox: \"0 -960 960 960\", width: 24, ...props }, /* @__PURE__ */ React.createElement(\"path\", { d: \"M484-80q-84 0-157.5-32t-128-86.5Q144-253 112-326.5T80-484q0-146 93-257.5T410-880q-18 99 11 193.5T521-521q71 71 165.5 100T880-410q-26 144-138 237T484-80Zm0-80q88 0 163-44t118-121q-86-8-163-43.5T464-465q-61-61-97-138t-43-163q-77 43-120.5 118.5T160-484q0 135 94.5 229.5T484-160Zm-20-305Z\" }));\nexport default SvgQuietTime;\n","import type { MouseEventHandler } from 'react';\nimport { useCallback, useRef, useId } from 'react';\n\nimport { FormattedMessage } from 'react-intl';\n\nexport enum BannerVariant {\n  Warning = 'warning',\n  Filter = 'filter',\n}\n\nconst stopPropagation: MouseEventHandler = (e) => {\n  e.stopPropagation();\n};\n\nexport const StatusBanner: React.FC<{\n  children: React.ReactNode;\n  variant: BannerVariant;\n  expanded?: boolean;\n  onClick?: () => void;\n}> = ({ children, variant, expanded, onClick }) => {\n  const descriptionId = useId();\n\n  const buttonRef = useRef<HTMLButtonElement>(null);\n  const forwardClick = useCallback<MouseEventHandler>((e) => {\n    if (\n      buttonRef.current &&\n      e.target !== buttonRef.current &&\n      !buttonRef.current.contains(e.target as Node)\n    ) {\n      buttonRef.current.click();\n      buttonRef.current.focus();\n    }\n  }, []);\n\n  return (\n    // Element clicks are passed on to button\n    // eslint-disable-next-line jsx-a11y/click-events-have-key-events, jsx-a11y/no-static-element-interactions\n    <div\n      className={\n        variant === BannerVariant.Warning\n          ? 'content-warning'\n          : 'content-warning content-warning--filter'\n      }\n      onClick={forwardClick}\n      onMouseUp={stopPropagation}\n    >\n      <p id={descriptionId}>{children}</p>\n\n      <button\n        ref={buttonRef}\n        className='link-button'\n        onClick={onClick}\n        aria-describedby={descriptionId}\n      >\n        {expanded ? (\n          <FormattedMessage\n            id='content_warning.hide'\n            defaultMessage='Hide post'\n          />\n        ) : variant === BannerVariant.Warning ? (\n          <FormattedMessage\n            id='content_warning.show_more'\n            defaultMessage='Show more'\n          />\n        ) : (\n          <FormattedMessage\n            id='content_warning.show'\n            defaultMessage='Show anyway'\n          />\n        )}\n      </button>\n    </div>\n  );\n};\n","import { StatusBanner, BannerVariant } from './status_banner';\n\nexport const ContentWarning: React.FC<{\n  text: string;\n  expanded?: boolean;\n  onClick?: () => void;\n}> = ({ text, expanded, onClick }) => (\n  <StatusBanner\n    expanded={expanded}\n    onClick={onClick}\n    variant={BannerVariant.Warning}\n  >\n    <span dangerouslySetInnerHTML={{ __html: text }} />\n  </StatusBanner>\n);\n"],"file":"content_warning-ZcoJE_cd.js"}