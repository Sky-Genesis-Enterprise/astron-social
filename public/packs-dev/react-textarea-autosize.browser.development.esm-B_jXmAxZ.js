import{_ as k,g as I}from"./short_number--sxn3OKQ.js";import{R as z,r as h}from"./index-ykyyQSL-.js";import{i as B}from"./use-isomorphic-layout-effect.browser.esm-Bg5tPKmX.js";var M=function(e){var r=z.useRef(e);return B(function(){r.current=e}),r},L=function(e,r){if(typeof e=="function"){e(r);return}e.current=r},N=function(e,r){var t=z.useRef();return z.useCallback(function(i){e.current=i,t.current&&L(t.current,null),t.current=r,r&&L(r,i)},[r])},C={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0",display:"block"},P=function(e){Object.keys(C).forEach(function(r){e.style.setProperty(r,C[r],"important")})},E=P,o=null,T=function(e,r){var t=e.scrollHeight;return r.sizingStyle.boxSizing==="border-box"?t+r.borderSize:t-r.paddingSize};function _(n,e,r,t){r===void 0&&(r=1),t===void 0&&(t=1/0),o||(o=document.createElement("textarea"),o.setAttribute("tabindex","-1"),o.setAttribute("aria-hidden","true"),E(o)),o.parentNode===null&&document.body.appendChild(o);var i=n.paddingSize,f=n.borderSize,a=n.sizingStyle,p=a.boxSizing;Object.keys(a).forEach(function(c){var m=c;o.style[m]=a[m]}),E(o),o.value=e;var d=T(o,n);o.value=e,d=T(o,n),o.value="x";var g=o.scrollHeight-i,u=g*r;p==="border-box"&&(u=u+i+f),d=Math.max(u,d);var l=g*t;return p==="border-box"&&(l=l+i+f),d=Math.min(l,d),[d,g]}var F=function(){},$=function(e,r){return e.reduce(function(t,i){return t[i]=r[i],t},{})},j=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak","wordSpacing","scrollbarGutter"],U=!!document.documentElement.currentStyle,G=function(e){var r=window.getComputedStyle(e);if(r===null)return null;var t=$(j,r),i=t.boxSizing;if(i==="")return null;U&&i==="border-box"&&(t.width=parseFloat(t.width)+parseFloat(t.borderRightWidth)+parseFloat(t.borderLeftWidth)+parseFloat(t.paddingRight)+parseFloat(t.paddingLeft)+"px");var f=parseFloat(t.paddingBottom)+parseFloat(t.paddingTop),a=parseFloat(t.borderBottomWidth)+parseFloat(t.borderTopWidth);return{sizingStyle:t,paddingSize:f,borderSize:a}},O=G;function R(n,e,r){var t=M(r);h.useLayoutEffect(function(){var i=function(a){return t.current(a)};if(n)return n.addEventListener(e,i),function(){return n.removeEventListener(e,i)}},[])}var Y=function(e,r){R(document.body,"reset",function(t){e.current.form===t.target&&r(t)})},q=function(e){R(window,"resize",e)},X=function(e){R(document.fonts,"loadingdone",e)},Z=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],D=function(e,r){var t=e.cacheMeasurements,i=e.maxRows,f=e.minRows,a=e.onChange,p=a===void 0?F:a,d=e.onHeightChange,g=d===void 0?F:d,u=k(e,Z);if(u.style){if("maxHeight"in u.style)throw new Error("Using `style.maxHeight` for <TextareaAutosize/> is not supported. Please use `maxRows`.");if("minHeight"in u.style)throw new Error("Using `style.minHeight` for <TextareaAutosize/> is not supported. Please use `minRows`.")}var l=u.value!==void 0,c=h.useRef(null),m=N(c,r),w=h.useRef(0),x=h.useRef(),v=function(){var s=c.current,y=t&&x.current?x.current:O(s);if(y){x.current=y;var H=_(y,s.value||s.placeholder||"x",f,i),b=H[0],A=H[1];w.current!==b&&(w.current=b,s.style.setProperty("height",b+"px","important"),g(b,{rowHeight:A}))}},W=function(s){l||v(),p(s)};return h.useLayoutEffect(v),Y(c,function(){if(!l){var S=c.current.value;requestAnimationFrame(function(){var s=c.current;s&&S!==s.value&&v()})}}),q(v),X(v),h.createElement("textarea",I({},u,{onChange:W,ref:m}))},V=h.forwardRef(D);export{V as i};
//# sourceMappingURL=react-textarea-autosize.browser.development.esm-B_jXmAxZ.js.map
