import{j as e}from"./client-BG6VvM0b.js";import{r as t,u as E,d as D}from"./index-ykyyQSL-.js";import{I as B,O as V,u as M,a as C,o as k,cM as F}from"./useSelectableClick-DBo53LOf.js";import{c as S}from"./index-guCj-HqV.js";import{D as P}from"./dropdown_selector-BZah7_41.js";import{M as l}from"./message-Bb0z64dP.js";const I=i=>t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:24,viewBox:"0 -960 960 960",width:24,...i},t.createElement("path",{d:"M480-360 280-560h400L480-360Z"})),A=({value:i,options:o,disabled:a,onChange:d,placement:f="bottom-end"})=>{const m=t.useRef(null),b=t.useRef(null),[n,c]=t.useState(!1),[s,_]=t.useState(f),v=t.useCallback(()=>{n&&m.current&&m.current instanceof HTMLElement&&m.current.focus({preventScroll:!0}),c(!n)},[n,c]),g=t.useCallback(()=>{n||(m.current=document.activeElement)},[n]),x=t.useCallback(r=>{switch(r.key){case" ":case"Enter":n||(m.current=document.activeElement);break}},[n]),j=t.useCallback(()=>{n&&m.current&&m.current instanceof HTMLElement&&m.current.focus({preventScroll:!0}),c(!1)},[n]),y=t.useCallback(r=>{r.placement&&_(r.placement)},[_]),N=o.find(r=>r.value===i);return e.jsxDEV("div",{ref:b,children:[e.jsxDEV("button",{type:"button",onClick:v,onMouseDown:g,onKeyDown:x,disabled:a,className:S("dropdown-button",{active:n}),children:[e.jsxDEV("span",{className:"dropdown-button__label",children:N==null?void 0:N.text},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/select_with_label.tsx",lineNumber:91,columnNumber:9},void 0),e.jsxDEV(B,{id:"down",icon:I},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/select_with_label.tsx",lineNumber:92,columnNumber:9},void 0)]},void 0,!0,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/select_with_label.tsx",lineNumber:83,columnNumber:7},void 0),e.jsxDEV(V,{show:n,offset:[5,5],placement:s,flip:!0,target:b,popperConfig:{strategy:"fixed",onFirstUpdate:y},children:({props:r,placement:w})=>e.jsxDEV("div",{...r,children:e.jsxDEV("div",{className:`dropdown-animation privacy-dropdown__dropdown ${w}`,children:e.jsxDEV(P,{items:o,value:i,onClose:j,onChange:d,classNamePrefix:"privacy-dropdown"},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/select_with_label.tsx",lineNumber:108,columnNumber:15},void 0)},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/select_with_label.tsx",lineNumber:105,columnNumber:13},void 0)},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/select_with_label.tsx",lineNumber:104,columnNumber:9},void 0)},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/select_with_label.tsx",lineNumber:95,columnNumber:7},void 0)]},void 0,!0,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/select_with_label.tsx",lineNumber:82,columnNumber:5},void 0)},p=({value:i,options:o,disabled:a,children:d,onChange:f})=>e.jsxDEV("label",{className:"app-form__toggle",children:[e.jsxDEV("div",{className:"app-form__toggle__label",children:d},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/select_with_label.tsx",lineNumber:139,columnNumber:7},void 0),e.jsxDEV("div",{className:"app-form__toggle__toggle",children:e.jsxDEV("div",{children:e.jsxDEV(A,{value:i,onChange:f,disabled:a,options:o},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/select_with_label.tsx",lineNumber:143,columnNumber:11},void 0)},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/select_with_label.tsx",lineNumber:142,columnNumber:9},void 0)},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/select_with_label.tsx",lineNumber:141,columnNumber:7},void 0)]},void 0,!0,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/select_with_label.tsx",lineNumber:138,columnNumber:5},void 0),u=D({accept:{id:"notifications.policy.accept",defaultMessage:"Accept"},accept_hint:{id:"notifications.policy.accept_hint",defaultMessage:"Show in notifications"},filter:{id:"notifications.policy.filter",defaultMessage:"Filter"},filter_hint:{id:"notifications.policy.filter_hint",defaultMessage:"Send to filtered notifications inbox"},drop:{id:"notifications.policy.drop",defaultMessage:"Ignore"},drop_hint:{id:"notifications.policy.drop_hint",defaultMessage:"Send to the void, never to be seen again"}}),h=(i,o,a)=>{i(a==="drop"?k({modalType:"IGNORE_NOTIFICATIONS",modalProps:{filterType:o}}):F({[o]:a}))},K=()=>{const i=E(),o=M(),a=C(s=>s.notificationPolicy),d=t.useCallback(s=>{h(o,"for_not_following",s)},[o]),f=t.useCallback(s=>{h(o,"for_not_followers",s)},[o]),m=t.useCallback(s=>{h(o,"for_new_accounts",s)},[o]),b=t.useCallback(s=>{h(o,"for_private_mentions",s)},[o]),n=t.useCallback(s=>{h(o,"for_limited_accounts",s)},[o]);if(!a)return null;const c=[{value:"accept",text:i.formatMessage(u.accept),meta:i.formatMessage(u.accept_hint)},{value:"filter",text:i.formatMessage(u.filter),meta:i.formatMessage(u.filter_hint)},{value:"drop",text:i.formatMessage(u.drop),meta:i.formatMessage(u.drop_hint)}];return e.jsxDEV("section",{children:[e.jsxDEV("h3",{children:e.jsxDEV(l,{id:"notifications.policy.title",defaultMessage:"Manage notifications fromâ€¦"},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/policy_controls.tsx",lineNumber:114,columnNumber:9},void 0)},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/policy_controls.tsx",lineNumber:113,columnNumber:7},void 0),e.jsxDEV("div",{className:"column-settings__row",children:[e.jsxDEV(p,{value:a.for_not_following,onChange:d,options:c,children:[e.jsxDEV("strong",{children:e.jsxDEV(l,{id:"notifications.policy.filter_not_following_title",defaultMessage:"People you don't follow"},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/policy_controls.tsx",lineNumber:127,columnNumber:13},void 0)},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/policy_controls.tsx",lineNumber:126,columnNumber:11},void 0),e.jsxDEV("span",{className:"hint",children:e.jsxDEV(l,{id:"notifications.policy.filter_not_following_hint",defaultMessage:"Until you manually approve them"},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/policy_controls.tsx",lineNumber:133,columnNumber:13},void 0)},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/policy_controls.tsx",lineNumber:132,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/policy_controls.tsx",lineNumber:121,columnNumber:9},void 0),e.jsxDEV(p,{value:a.for_not_followers,onChange:f,options:c,children:[e.jsxDEV("strong",{children:e.jsxDEV(l,{id:"notifications.policy.filter_not_followers_title",defaultMessage:"People not following you"},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/policy_controls.tsx",lineNumber:146,columnNumber:13},void 0)},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/policy_controls.tsx",lineNumber:145,columnNumber:11},void 0),e.jsxDEV("span",{className:"hint",children:e.jsxDEV(l,{id:"notifications.policy.filter_not_followers_hint",defaultMessage:"Including people who have been following you fewer than {days, plural, one {one day} other {# days}}",values:{days:3}},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/policy_controls.tsx",lineNumber:152,columnNumber:13},void 0)},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/policy_controls.tsx",lineNumber:151,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/policy_controls.tsx",lineNumber:140,columnNumber:9},void 0),e.jsxDEV(p,{value:a.for_new_accounts,onChange:m,options:c,children:[e.jsxDEV("strong",{children:e.jsxDEV(l,{id:"notifications.policy.filter_new_accounts_title",defaultMessage:"New accounts"},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/policy_controls.tsx",lineNumber:166,columnNumber:13},void 0)},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/policy_controls.tsx",lineNumber:165,columnNumber:11},void 0),e.jsxDEV("span",{className:"hint",children:e.jsxDEV(l,{id:"notifications.policy.filter_new_accounts.hint",defaultMessage:"Created within the past {days, plural, one {one day} other {# days}}",values:{days:30}},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/policy_controls.tsx",lineNumber:172,columnNumber:13},void 0)},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/policy_controls.tsx",lineNumber:171,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/policy_controls.tsx",lineNumber:160,columnNumber:9},void 0),e.jsxDEV(p,{value:a.for_private_mentions,onChange:b,options:c,children:[e.jsxDEV("strong",{children:e.jsxDEV(l,{id:"notifications.policy.filter_private_mentions_title",defaultMessage:"Unsolicited private mentions"},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/policy_controls.tsx",lineNumber:186,columnNumber:13},void 0)},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/policy_controls.tsx",lineNumber:185,columnNumber:11},void 0),e.jsxDEV("span",{className:"hint",children:e.jsxDEV(l,{id:"notifications.policy.filter_private_mentions_hint",defaultMessage:"Filtered unless it's in reply to your own mention or if you follow the sender"},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/policy_controls.tsx",lineNumber:192,columnNumber:13},void 0)},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/policy_controls.tsx",lineNumber:191,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/policy_controls.tsx",lineNumber:180,columnNumber:9},void 0),e.jsxDEV(p,{value:a.for_limited_accounts,onChange:n,options:c,children:[e.jsxDEV("strong",{children:e.jsxDEV(l,{id:"notifications.policy.filter_limited_accounts_title",defaultMessage:"Moderated accounts"},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/policy_controls.tsx",lineNumber:205,columnNumber:13},void 0)},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/policy_controls.tsx",lineNumber:204,columnNumber:11},void 0),e.jsxDEV("span",{className:"hint",children:e.jsxDEV(l,{id:"notifications.policy.filter_limited_accounts_hint",defaultMessage:"Limited by server moderators"},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/policy_controls.tsx",lineNumber:211,columnNumber:13},void 0)},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/policy_controls.tsx",lineNumber:210,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/policy_controls.tsx",lineNumber:199,columnNumber:9},void 0)]},void 0,!0,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/policy_controls.tsx",lineNumber:120,columnNumber:7},void 0)]},void 0,!0,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/policy_controls.tsx",lineNumber:112,columnNumber:5},void 0)};export{K as P,I as S};
//# sourceMappingURL=policy_controls-WEgV6-Gl.js.map
