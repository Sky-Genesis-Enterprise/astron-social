var Q=Object.defineProperty;var J=(r,s,t)=>s in r?Q(r,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[s]=t;var p=(r,s,t)=>J(r,typeof s!="symbol"?s+"":s,t);import{j as e}from"./client-BG6VvM0b.js";import{r as N,i as R,d as V,u as X}from"./index-ykyyQSL-.js";import{H as ee}from"./Helmet-D0DLVOv1.js";import{y as H,z as B,A as te,b as E,S as ie,j as F,cu as oe,ct as ae,aR as se,I as v,v as ne,ab as re,a3 as me,a$ as ue,b0 as ce,c4 as le,bs as de,bt as x,e5 as pe,d$ as fe,e0 as he,e6 as be,e7 as ge}from"./useSelectableClick-DBo53LOf.js";import{S as Ne}from"./delete-D4JNeg_F.js";import{S as ve}from"./done-stYzd4iP.js";import{S as je}from"./inventory_2-CJnm9fSs.js";import{C as xe}from"./column-CXD4Tnpb.js";import{C as De}from"./column_header-CtuyYpNB.js";import{S as _e}from"./scrollable_list-DlG-2WSw.js";import{c as Be}from"./status-D92xLx8p.js";import{b as Me,m as Ee,c as Ve}from"./index-Ds3K_5LX.js";import{P as u,L as y,w as Se}from"./short_number--sxn3OKQ.js";import{c as f}from"./index-guCj-HqV.js";import{i as h}from"./index.es-D--CQIAj.js";import{S as we}from"./edit-BBCPRxUI.js";import{R as qe,M as ye,S as Re}from"./relationships_severance_event-Cm5LQQPh.js";import{S as He}from"./home-fill-Bk1KNO-t.js";import{S as Ie}from"./insert_chart-Ii2pHaWX.js";import{S as P}from"./person_add-fill-B5rUSpdE.js";import{A as T}from"./account-1vhP702Z.js";import{S as D}from"./status_quoted-D9176USW.js";import{e as Pe}from"./initial_state-BP3UcUr4.js";import{D as Te,ak as ke}from"./content_warning-ZcoJE_cd.js";import{S as We}from"./close-DPVxbBbs.js";import{A as Ce}from"./avatar_overlay-XCWEKsBg.js";import{R as Fe}from"./index-DHslUCy5.js";import{M as d}from"./message-Bb0z64dP.js";import"./api-uqk9CYtW.js";import"./index-lj9VQs0f.js";import"./ready-DpOgoWSg.js";import"./load_locale-C-B7BkCQ.js";import"./scroll-BygYx8ga.js";import"./add-ZanakRnh.js";import"./chevron_left-R_fqLHXp.js";import"./scroll_container-BQpJ36fQ.js";import"./react-router-scroll-4.es-6ieDtVAa.js";import"./interopRequireDefault-CdiRfGvq.js";import"./schedule_idle_task-CTsEu-tt.js";import"./load_more-BJ-OkDO5.js";import"./loading_indicator-BBuNQ1GS.js";import"./card-v59kuVL6.js";import"./toString-CBWlLvSL.js";import"./status_content-BS1khha6.js";import"./poll-wjP7LpZg.js";import"./permissions-Djze7cmB.js";import"./visibility_icon-B5XmIQZP.js";import"./numbers-CGZQWBYL.js";import"./gavel-dpkYApfO.js";import"./index-JeRepxZU.js";import"./counters-BuwkZXvq.js";import"./follow_button-DdHXSblv.js";import"./skeleton-_5CK2hDo.js";import"./verified_badge-BOKoz3CJ.js";import"./domain_blocks-DiDVA5xw.js";import"./reports-BY0N2xif.js";const Ae=r=>N.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:24,viewBox:"0 -960 960 960",width:24,...r},N.createElement("path",{d:"M480-480q-66 0-113-47t-47-113q0-66 47-113t113-47q66 0 113 47t47 113q0 66-47 113t-113 47ZM160-160v-112q0-34 17.5-62.5T224-378q62-31 126-46.5T480-440q66 0 130 15.5T736-378q29 15 46.5 43.5T800-272v112H160Z"})),k=V({authorize:{id:"follow_request.authorize",defaultMessage:"Authorize"},reject:{id:"follow_request.reject",defaultMessage:"Reject"}});class A extends H{render(){const{intl:s,hidden:t,account:i,onAuthorize:o,onReject:a}=this.props;return i?t?e.jsxDEV(e.Fragment,{children:[i.get("display_name"),i.get("username")]},void 0,!0,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/follow_request.jsx",lineNumber:39,columnNumber:9},this):e.jsxDEV("div",{className:"account",children:e.jsxDEV("div",{className:"account__wrapper",children:[e.jsxDEV(y,{className:"account__display-name",title:i.get("acct"),to:`/@${i.get("acct")}`,children:[e.jsxDEV("div",{className:"account__avatar-wrapper",children:e.jsxDEV(te,{account:i,size:36},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/follow_request.jsx",lineNumber:50,columnNumber:54},this)},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/follow_request.jsx",lineNumber:50,columnNumber:13},this),e.jsxDEV(Te,{account:i},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/follow_request.jsx",lineNumber:51,columnNumber:13},this)]},i.get("id"),!0,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/follow_request.jsx",lineNumber:49,columnNumber:11},this),e.jsxDEV("div",{className:"account__relationship",children:[e.jsxDEV(E,{title:s.formatMessage(k.authorize),icon:"check",iconComponent:ie,onClick:o},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/follow_request.jsx",lineNumber:55,columnNumber:13},this),e.jsxDEV(E,{title:s.formatMessage(k.reject),icon:"times",iconComponent:We,onClick:a},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/follow_request.jsx",lineNumber:56,columnNumber:13},this)]},void 0,!0,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/follow_request.jsx",lineNumber:54,columnNumber:11},this)]},void 0,!0,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/follow_request.jsx",lineNumber:48,columnNumber:9},this)},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/follow_request.jsx",lineNumber:47,columnNumber:7},this):e.jsxDEV("div",{},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/follow_request.jsx",lineNumber:34,columnNumber:14},this)}}p(A,"propTypes",{account:B.record.isRequired,onAuthorize:u.func.isRequired,onReject:u.func.isRequired,intl:u.object.isRequired});const $e=R(A),Ue=()=>{const r=ke();return(t,i)=>({account:r(t,i.id)})},Le=(r,{id:s})=>({onAuthorize(){r(ae(s))},onReject(){r(oe(s))}}),ze=F(Ue,Le)($e),W=V({openReport:{id:"report_notification.open",defaultMessage:"Open report"},other:{id:"report_notification.categories.other",defaultMessage:"Other"},spam:{id:"report_notification.categories.spam",defaultMessage:"Spam"},legal:{id:"report_notification.categories.legal",defaultMessage:"Legal"},violation:{id:"report_notification.categories.violation",defaultMessage:"Rule violation"}});class $ extends H{render(){const{intl:s,hidden:t,report:i,account:o}=this.props;return i?t?e.jsxDEV(e.Fragment,{children:i.get("id")},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/report.jsx",lineNumber:38,columnNumber:9},this):e.jsxDEV("div",{className:"notification__report",children:[e.jsxDEV("div",{className:"notification__report__avatar",children:e.jsxDEV(Ce,{account:i.get("target_account"),friend:o},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/report.jsx",lineNumber:47,columnNumber:11},this)},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/report.jsx",lineNumber:46,columnNumber:9},this),e.jsxDEV("div",{className:"notification__report__details",children:[e.jsxDEV("div",{children:[e.jsxDEV(Fe,{timestamp:i.get("created_at"),short:!1},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/report.jsx",lineNumber:52,columnNumber:13},this)," Â· ",e.jsxDEV(d,{id:"report_notification.attached_statuses",defaultMessage:"{count, plural, one {# post} other {# posts}} attached",values:{count:i.get("status_ids").size}},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/report.jsx",lineNumber:52,columnNumber:88},this),e.jsxDEV("br",{},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/report.jsx",lineNumber:53,columnNumber:13},this),e.jsxDEV("strong",{children:s.formatMessage(W[i.get("category")])},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/report.jsx",lineNumber:54,columnNumber:13},this)]},void 0,!0,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/report.jsx",lineNumber:51,columnNumber:11},this),e.jsxDEV("div",{className:"notification__report__actions",children:e.jsxDEV("a",{href:`/admin/reports/${i.get("id")}`,className:"button",target:"_blank",rel:"noopener",children:s.formatMessage(W.openReport)},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/report.jsx",lineNumber:58,columnNumber:13},this)},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/report.jsx",lineNumber:57,columnNumber:11},this)]},void 0,!0,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/report.jsx",lineNumber:50,columnNumber:9},this)]},void 0,!0,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/report.jsx",lineNumber:45,columnNumber:7},this):null}}p($,"propTypes",{account:B.record.isRequired,report:B.map.isRequired,hidden:u.bool,intl:u.object.isRequired});const Ke=R($),b=V({favourite:{id:"notification.favourite",defaultMessage:"{name} favorited your post"},follow:{id:"notification.follow",defaultMessage:"{name} followed you"},ownPoll:{id:"notification.own_poll",defaultMessage:"Your poll has ended"},poll:{id:"notification.poll",defaultMessage:"A poll you voted in has ended"},reblog:{id:"notification.reblog",defaultMessage:"{name} boosted your post"},status:{id:"notification.status",defaultMessage:"{name} just posted"},update:{id:"notification.update",defaultMessage:"{name} edited a post"},adminSignUp:{id:"notification.admin.sign_up",defaultMessage:"{name} signed up"},adminReport:{id:"notification.admin.report",defaultMessage:"{name} reported {target}"},relationshipsSevered:{id:"notification.relationships_severance_event",defaultMessage:"Lost connections with {name}"},moderationWarning:{id:"notification.moderation_warning",defaultMessage:"You have received a moderation warning"}}),g=(r,s,t)=>{const i=[s];return i.push(r.formatDate(t,{hour:"2-digit",minute:"2-digit",month:"short",day:"numeric"})),i.join(", ")};class U extends H{constructor(){super(...arguments);p(this,"handleMoveUp",()=>{const{notification:t,onMoveUp:i}=this.props;i(t.get("id"))});p(this,"handleMoveDown",()=>{const{notification:t,onMoveDown:i}=this.props;i(t.get("id"))});p(this,"handleOpen",()=>{const{notification:t}=this.props;t.get("status")?this.props.history.push(`/@${t.getIn(["status","account","acct"])}/${t.get("status")}`):this.handleOpenProfile()});p(this,"handleOpenProfile",()=>{const{notification:t}=this.props;this.props.history.push(`/@${t.getIn(["account","acct"])}`)});p(this,"handleMention",t=>{t.preventDefault();const{notification:i,onMention:o}=this.props;o(i.get("account"))});p(this,"handleHotkeyFavourite",()=>{const{status:t}=this.props;t&&this.props.onFavourite(t)});p(this,"handleHotkeyBoost",t=>{const{status:i}=this.props;i&&this.props.onReblog(i,t)});p(this,"handleHotkeyToggleHidden",()=>{const{status:t}=this.props;t&&this.props.onToggleHidden(t)})}getHandlers(){return{reply:this.handleMention,favourite:this.handleHotkeyFavourite,boost:this.handleHotkeyBoost,mention:this.handleMention,open:this.handleOpen,openProfile:this.handleOpenProfile,moveUp:this.handleMoveUp,moveDown:this.handleMoveDown,toggleHidden:this.handleHotkeyToggleHidden}}renderFollow(t,i,o){const{intl:a,unread:n}=this.props;return e.jsxDEV(h.HotKeys,{handlers:this.getHandlers(),children:e.jsxDEV("div",{className:f("notification notification-follow focusable",{unread:n}),tabIndex:0,"aria-label":g(a,a.formatMessage(b.follow,{name:i.get("acct")}),t.get("created_at")),children:[e.jsxDEV("div",{className:"notification__message",children:[e.jsxDEV(v,{id:"user-plus",icon:P},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/notification.jsx",lineNumber:143,columnNumber:13},this),e.jsxDEV("span",{title:t.get("created_at"),children:e.jsxDEV(d,{id:"notification.follow",defaultMessage:"{name} followed you",values:{name:o}},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/notification.jsx",lineNumber:146,columnNumber:15},this)},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/notification.jsx",lineNumber:145,columnNumber:13},this)]},void 0,!0,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/notification.jsx",lineNumber:142,columnNumber:11},this),e.jsxDEV(T,{id:i.get("id"),hidden:this.props.hidden},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/notification.jsx",lineNumber:150,columnNumber:11},this)]},void 0,!0,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/notification.jsx",lineNumber:141,columnNumber:9},this)},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/notification.jsx",lineNumber:140,columnNumber:7},this)}renderFollowRequest(t,i,o){const{intl:a,unread:n}=this.props;return e.jsxDEV(h.HotKeys,{handlers:this.getHandlers(),children:e.jsxDEV("div",{className:f("notification notification-follow-request focusable",{unread:n}),tabIndex:0,"aria-label":g(a,a.formatMessage({id:"notification.follow_request",defaultMessage:"{name} has requested to follow you"},{name:i.get("acct")}),t.get("created_at")),children:[e.jsxDEV("div",{className:"notification__message",children:[e.jsxDEV(v,{id:"user",icon:Ae},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/notification.jsx",lineNumber:163,columnNumber:13},this),e.jsxDEV("span",{title:t.get("created_at"),children:e.jsxDEV(d,{id:"notification.follow_request",defaultMessage:"{name} has requested to follow you",values:{name:o}},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/notification.jsx",lineNumber:166,columnNumber:15},this)},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/notification.jsx",lineNumber:165,columnNumber:13},this)]},void 0,!0,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/notification.jsx",lineNumber:162,columnNumber:11},this),e.jsxDEV(ze,{id:i.get("id"),hidden:this.props.hidden},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/notification.jsx",lineNumber:170,columnNumber:11},this)]},void 0,!0,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/notification.jsx",lineNumber:161,columnNumber:9},this)},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/notification.jsx",lineNumber:160,columnNumber:7},this)}renderMention(t){return e.jsxDEV(D,{id:t.get("status"),withDismiss:!0,hidden:this.props.hidden,onMoveDown:this.handleMoveDown,onMoveUp:this.handleMoveUp,contextType:"notifications",getScrollPosition:this.props.getScrollPosition,updateScrollBottom:this.props.updateScrollBottom,cachedMediaWidth:this.props.cachedMediaWidth,cacheMediaWidth:this.props.cacheMediaWidth,unread:this.props.unread},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/notification.jsx",lineNumber:178,columnNumber:7},this)}renderFavourite(t,i){const{intl:o,unread:a}=this.props;return e.jsxDEV(h.HotKeys,{handlers:this.getHandlers(),children:e.jsxDEV("div",{className:f("notification notification-favourite focusable",{unread:a}),tabIndex:0,"aria-label":g(o,o.formatMessage(b.favourite,{name:t.getIn(["account","acct"])}),t.get("created_at")),children:[e.jsxDEV("div",{className:"notification__message",children:[e.jsxDEV(v,{id:"star",icon:ne,className:"star-icon"},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/notification.jsx",lineNumber:201,columnNumber:13},this),e.jsxDEV("span",{title:t.get("created_at"),children:e.jsxDEV(d,{id:"notification.favourite",defaultMessage:"{name} favorited your post",values:{name:i}},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/notification.jsx",lineNumber:204,columnNumber:15},this)},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/notification.jsx",lineNumber:203,columnNumber:13},this)]},void 0,!0,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/notification.jsx",lineNumber:200,columnNumber:11},this),e.jsxDEV(D,{id:t.get("status"),account:t.get("account"),muted:!0,withDismiss:!0,hidden:!!this.props.hidden,getScrollPosition:this.props.getScrollPosition,updateScrollBottom:this.props.updateScrollBottom,cachedMediaWidth:this.props.cachedMediaWidth,cacheMediaWidth:this.props.cacheMediaWidth},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/notification.jsx",lineNumber:208,columnNumber:11},this)]},void 0,!0,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/notification.jsx",lineNumber:199,columnNumber:9},this)},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/notification.jsx",lineNumber:198,columnNumber:7},this)}renderReblog(t,i){const{intl:o,unread:a}=this.props;return e.jsxDEV(h.HotKeys,{handlers:this.getHandlers(),children:e.jsxDEV("div",{className:f("notification notification-reblog focusable",{unread:a}),tabIndex:0,"aria-label":g(o,o.formatMessage(b.reblog,{name:t.getIn(["account","acct"])}),t.get("created_at")),children:[e.jsxDEV("div",{className:"notification__message",children:[e.jsxDEV(v,{id:"retweet",icon:re},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/notification.jsx",lineNumber:231,columnNumber:13},this),e.jsxDEV("span",{title:t.get("created_at"),children:e.jsxDEV(d,{id:"notification.reblog",defaultMessage:"{name} boosted your post",values:{name:i}},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/notification.jsx",lineNumber:234,columnNumber:15},this)},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/notification.jsx",lineNumber:233,columnNumber:13},this)]},void 0,!0,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/notification.jsx",lineNumber:230,columnNumber:11},this),e.jsxDEV(D,{id:t.get("status"),account:t.get("account"),muted:!0,withDismiss:!0,hidden:this.props.hidden,getScrollPosition:this.props.getScrollPosition,updateScrollBottom:this.props.updateScrollBottom,cachedMediaWidth:this.props.cachedMediaWidth,cacheMediaWidth:this.props.cacheMediaWidth},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/notification.jsx",lineNumber:238,columnNumber:11},this)]},void 0,!0,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/notification.jsx",lineNumber:229,columnNumber:9},this)},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/notification.jsx",lineNumber:228,columnNumber:7},this)}renderStatus(t,i){const{intl:o,unread:a,status:n}=this.props;return n?e.jsxDEV(h.HotKeys,{handlers:this.getHandlers(),children:e.jsxDEV("div",{className:f("notification notification-status focusable",{unread:a}),tabIndex:0,"aria-label":g(o,o.formatMessage(b.status,{name:t.getIn(["account","acct"])}),t.get("created_at")),children:[e.jsxDEV("div",{className:"notification__message",children:[e.jsxDEV(v,{id:"home",icon:He},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/notification.jsx",lineNumber:265,columnNumber:13},this),e.jsxDEV("span",{title:t.get("created_at"),children:e.jsxDEV(d,{id:"notification.status",defaultMessage:"{name} just posted",values:{name:i}},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/notification.jsx",lineNumber:268,columnNumber:15},this)},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/notification.jsx",lineNumber:267,columnNumber:13},this)]},void 0,!0,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/notification.jsx",lineNumber:264,columnNumber:11},this),e.jsxDEV(D,{id:t.get("status"),account:t.get("account"),contextType:"notifications",muted:!0,withDismiss:!0,hidden:this.props.hidden,getScrollPosition:this.props.getScrollPosition,updateScrollBottom:this.props.updateScrollBottom,cachedMediaWidth:this.props.cachedMediaWidth,cacheMediaWidth:this.props.cacheMediaWidth},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/notification.jsx",lineNumber:272,columnNumber:11},this)]},void 0,!0,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/notification.jsx",lineNumber:263,columnNumber:9},this)},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/notification.jsx",lineNumber:262,columnNumber:7},this):null}renderUpdate(t,i){const{intl:o,unread:a,status:n}=this.props;return n?e.jsxDEV(h.HotKeys,{handlers:this.getHandlers(),children:e.jsxDEV("div",{className:f("notification notification-update focusable",{unread:a}),tabIndex:0,"aria-label":g(o,o.formatMessage(b.update,{name:t.getIn(["account","acct"])}),t.get("created_at")),children:[e.jsxDEV("div",{className:"notification__message",children:[e.jsxDEV(v,{id:"pencil",icon:we},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/notification.jsx",lineNumber:300,columnNumber:13},this),e.jsxDEV("span",{title:t.get("created_at"),children:e.jsxDEV(d,{id:"notification.update",defaultMessage:"{name} edited a post",values:{name:i}},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/notification.jsx",lineNumber:303,columnNumber:15},this)},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/notification.jsx",lineNumber:302,columnNumber:13},this)]},void 0,!0,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/notification.jsx",lineNumber:299,columnNumber:11},this),e.jsxDEV(D,{id:t.get("status"),account:t.get("account"),contextType:"notifications",muted:!0,withDismiss:!0,hidden:this.props.hidden,getScrollPosition:this.props.getScrollPosition,updateScrollBottom:this.props.updateScrollBottom,cachedMediaWidth:this.props.cachedMediaWidth,cacheMediaWidth:this.props.cacheMediaWidth},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/notification.jsx",lineNumber:307,columnNumber:11},this)]},void 0,!0,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/notification.jsx",lineNumber:298,columnNumber:9},this)},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/notification.jsx",lineNumber:297,columnNumber:7},this):null}renderPoll(t,i){const{intl:o,unread:a,status:n}=this.props,c=Pe===i.get("id"),l=c?o.formatMessage(b.ownPoll):o.formatMessage(b.poll);return n?e.jsxDEV(h.HotKeys,{handlers:this.getHandlers(),children:e.jsxDEV("div",{className:f("notification notification-poll focusable",{unread:a}),tabIndex:0,"aria-label":g(o,l,t.get("created_at")),children:[e.jsxDEV("div",{className:"notification__message",children:[e.jsxDEV(v,{id:"tasks",icon:Ie},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/notification.jsx",lineNumber:337,columnNumber:13},this),e.jsxDEV("span",{title:t.get("created_at"),children:c?e.jsxDEV(d,{id:"notification.own_poll",defaultMessage:"Your poll has ended"},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/notification.jsx",lineNumber:341,columnNumber:15},this):e.jsxDEV(d,{id:"notification.poll",defaultMessage:"A poll you voted in has ended"},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/notification.jsx",lineNumber:343,columnNumber:15},this)},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/notification.jsx",lineNumber:339,columnNumber:13},this)]},void 0,!0,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/notification.jsx",lineNumber:336,columnNumber:11},this),e.jsxDEV(D,{id:t.get("status"),account:i,contextType:"notifications",muted:!0,withDismiss:!0,hidden:this.props.hidden,getScrollPosition:this.props.getScrollPosition,updateScrollBottom:this.props.updateScrollBottom,cachedMediaWidth:this.props.cachedMediaWidth,cacheMediaWidth:this.props.cacheMediaWidth},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/notification.jsx",lineNumber:348,columnNumber:11},this)]},void 0,!0,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/notification.jsx",lineNumber:335,columnNumber:9},this)},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/notification.jsx",lineNumber:334,columnNumber:7},this):null}renderRelationshipsSevered(t){const{intl:i,unread:o,hidden:a}=this.props,n=t.get("event");return n?e.jsxDEV(h.HotKeys,{handlers:this.getHandlers(),children:e.jsxDEV("div",{className:f("notification notification-severed-relationships focusable",{unread:o}),tabIndex:0,"aria-label":g(i,i.formatMessage(b.relationshipsSevered,{name:t.getIn(["event","target_name"])}),t.get("created_at")),children:e.jsxDEV(qe,{type:n.get("type"),target:n.get("target_name"),followersCount:n.get("followers_count"),followingCount:n.get("following_count"),hidden:a},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/notification.jsx",lineNumber:376,columnNumber:11},this)},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/notification.jsx",lineNumber:375,columnNumber:9},this)},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/notification.jsx",lineNumber:374,columnNumber:7},this):null}renderModerationWarning(t){const{intl:i,unread:o,hidden:a}=this.props,n=t.get("moderation_warning");return n?e.jsxDEV(h.HotKeys,{handlers:this.getHandlers(),children:e.jsxDEV("div",{className:f("notification notification-moderation-warning focusable",{unread:o}),tabIndex:0,"aria-label":g(i,i.formatMessage(b.moderationWarning),t.get("created_at")),children:e.jsxDEV(ye,{action:n.get("action"),id:n.get("id"),hidden:a},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/notification.jsx",lineNumber:399,columnNumber:11},this)},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/notification.jsx",lineNumber:398,columnNumber:9},this)},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/notification.jsx",lineNumber:397,columnNumber:7},this):null}renderAdminSignUp(t,i,o){const{intl:a,unread:n}=this.props;return e.jsxDEV(h.HotKeys,{handlers:this.getHandlers(),children:e.jsxDEV("div",{className:f("notification notification-admin-sign-up focusable",{unread:n}),tabIndex:0,"aria-label":g(a,a.formatMessage(b.adminSignUp,{name:i.get("acct")}),t.get("created_at")),children:[e.jsxDEV("div",{className:"notification__message",children:[e.jsxDEV(v,{id:"user-plus",icon:P},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/notification.jsx",lineNumber:416,columnNumber:13},this),e.jsxDEV("span",{title:t.get("created_at"),children:e.jsxDEV(d,{id:"notification.admin.sign_up",defaultMessage:"{name} signed up",values:{name:o}},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/notification.jsx",lineNumber:419,columnNumber:15},this)},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/notification.jsx",lineNumber:418,columnNumber:13},this)]},void 0,!0,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/notification.jsx",lineNumber:415,columnNumber:11},this),e.jsxDEV(T,{id:i.get("id"),hidden:this.props.hidden},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/notification.jsx",lineNumber:423,columnNumber:11},this)]},void 0,!0,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/notification.jsx",lineNumber:414,columnNumber:9},this)},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/notification.jsx",lineNumber:413,columnNumber:7},this)}renderAdminReport(t,i,o){const{intl:a,unread:n,report:c}=this.props;if(!c)return null;const l=c.get("target_account"),M={__html:l.get("display_name_html")},S=e.jsxDEV("bdi",{children:e.jsxDEV(y,{className:"notification__display-name",title:l.get("acct"),"data-hover-card-account":l.get("id"),to:`/@${l.get("acct")}`,dangerouslySetInnerHTML:M},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/notification.jsx",lineNumber:438,columnNumber:29},this)},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/notification.jsx",lineNumber:438,columnNumber:24},this);return e.jsxDEV(h.HotKeys,{handlers:this.getHandlers(),children:e.jsxDEV("div",{className:f("notification notification-admin-report focusable",{unread:n}),tabIndex:0,"aria-label":g(a,a.formatMessage(b.adminReport,{name:i.get("acct"),target:t.getIn(["report","target_account","acct"])}),t.get("created_at")),children:[e.jsxDEV("div",{className:"notification__message",children:[e.jsxDEV(v,{id:"flag",icon:Re},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/notification.jsx",lineNumber:444,columnNumber:13},this),e.jsxDEV("span",{title:t.get("created_at"),children:e.jsxDEV(d,{id:"notification.admin.report",defaultMessage:"{name} reported {target}",values:{name:o,target:S}},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/notification.jsx",lineNumber:447,columnNumber:15},this)},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/notification.jsx",lineNumber:446,columnNumber:13},this)]},void 0,!0,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/notification.jsx",lineNumber:443,columnNumber:11},this),e.jsxDEV(Ke,{account:i,report:t.get("report"),hidden:this.props.hidden},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/notification.jsx",lineNumber:451,columnNumber:11},this)]},void 0,!0,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/notification.jsx",lineNumber:442,columnNumber:9},this)},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/notification.jsx",lineNumber:441,columnNumber:7},this)}render(){const{notification:t}=this.props,i=t.get("account"),o={__html:i.get("display_name_html")},a=e.jsxDEV("bdi",{children:e.jsxDEV(y,{className:"notification__display-name",href:`/@${i.get("acct")}`,title:i.get("acct"),"data-hover-card-account":i.get("id"),to:`/@${i.get("acct")}`,dangerouslySetInnerHTML:o},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/notification.jsx",lineNumber:461,columnNumber:23},this)},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/components/notification.jsx",lineNumber:461,columnNumber:18},this);switch(t.get("type")){case"follow":return this.renderFollow(t,i,a);case"follow_request":return this.renderFollowRequest(t,i,a);case"mention":return this.renderMention(t);case"favourite":return this.renderFavourite(t,a);case"reblog":return this.renderReblog(t,a);case"status":return this.renderStatus(t,a);case"update":return this.renderUpdate(t,a);case"poll":return this.renderPoll(t,i);case"severed_relationships":return this.renderRelationshipsSevered(t);case"moderation_warning":return this.renderModerationWarning(t);case"admin.sign_up":return this.renderAdminSignUp(t,i,a);case"admin.report":return this.renderAdminReport(t,i,a)}return null}}p(U,"propTypes",{notification:B.map.isRequired,hidden:u.bool,onMoveUp:u.func.isRequired,onMoveDown:u.func.isRequired,onMention:u.func.isRequired,onFavourite:u.func.isRequired,onReblog:u.func.isRequired,onToggleHidden:u.func.isRequired,status:B.map,intl:u.object.isRequired,getScrollPosition:u.func,updateScrollBottom:u.func,cacheMediaWidth:u.func,cachedMediaWidth:u.number,unread:u.bool,...se});const Oe=Se(R(U)),Ge=()=>{const r=Me(),s=Ee(),t=Ve();return(o,a)=>{const n=r(o,a.notification,a.accountId);return{notification:n,status:n.get("status")?s(o,{id:n.get("status"),contextType:"notifications"}):null,report:n.get("report")?t(o,n.get("report"),n.getIn(["report","target_account","id"])):null}}},Ye=r=>({onMention:s=>{r(le(s))},onReblog(s,t){r(ce(s.get("id"),t.shiftKey))},onFavourite(s){r(ue(s.get("id")))},onToggleHidden(s){r(me(s.get("id")))}}),Ze=F(Ge,Ye)(Oe),q=V({title:{id:"notification_requests.notifications_from",defaultMessage:"Notifications from {name}"},accept:{id:"notification_requests.accept",defaultMessage:"Accept"},dismiss:{id:"notification_requests.dismiss",defaultMessage:"Dismiss"}}),C=(r,s,t)=>{const i=r.current.node,o=i.querySelector(`article:nth-of-type(${s+1}) .focusable`);o&&(t&&i.scrollTop>o.offsetTop?o.scrollIntoView(!0):!t&&i.scrollTop+i.clientHeight<o.offsetTop+o.offsetHeight&&o.scrollIntoView(!1),o.focus())},ei=({multiColumn:r,params:{id:s}})=>{const t=N.useRef(),i=X(),o=de(),a=x(m=>{var j;return((j=m.notificationRequests.current.item)==null?void 0:j.id)===s?m.notificationRequests.current.item:null}),n=a==null?void 0:a.account_id,c=x(m=>m.getIn(["accounts",n])),l=x(m=>m.notificationRequests.current.notifications.items),M=x(m=>m.notificationRequests.current.notifications.isLoading),S=x(m=>!!m.notificationRequests.current.notifications.next),L=x(m=>m.notificationRequests.current.removed),z=N.useCallback(()=>{var m;(m=t.current)==null||m.scrollTop()},[t]),K=N.useCallback(()=>{o(pe({accountId:n}))},[o,n]),O=N.useCallback(()=>{o(fe({id:s}))},[o,s]),G=N.useCallback(()=>{o(he({id:s}))},[o,s]),Y=N.useCallback(m=>{const j=l.findIndex(_=>_!==null&&_.get("id")===m)-1;C(t,j,!0)},[t,l]),Z=N.useCallback(m=>{const j=l.findIndex(_=>_!==null&&_.get("id")===m)+1;C(t,j,!1)},[t,l]);N.useEffect(()=>{o(be({id:s}))},[o,s]),N.useEffect(()=>{n&&o(ge({accountId:n}))},[o,n]);const w=i.formatMessage(q.title,{name:(c==null?void 0:c.get("display_name"))||(c==null?void 0:c.get("username"))});let I=null;if(c!=null&&c.limited){const m=c.acct.indexOf("@")===-1;I=e.jsxDEV("div",{className:"dismissable-banner",children:e.jsxDEV("div",{className:"dismissable-banner__message",children:m?e.jsxDEV(d,{id:"notification_requests.explainer_for_limited_account",defaultMessage:"Notifications from this account have been filtered because the account has been limited by a moderator."},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/request.jsx",lineNumber:107,columnNumber:9},void 0):e.jsxDEV(d,{id:"notification_requests.explainer_for_limited_remote_account",defaultMessage:"Notifications from this account have been filtered because the account or its server has been limited by a moderator."},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/request.jsx",lineNumber:109,columnNumber:9},void 0)},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/request.jsx",lineNumber:105,columnNumber:9},void 0)},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/request.jsx",lineNumber:104,columnNumber:5},void 0)}return e.jsxDEV(xe,{bindToDocument:!r,ref:t,label:w,children:[e.jsxDEV(De,{icon:"archive",iconComponent:je,title:w,onClick:z,multiColumn:r,showBackButton:!0,extraButton:!L&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV(E,{className:"column-header__button",iconComponent:Ne,onClick:O,title:i.formatMessage(q.dismiss)},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/request.jsx",lineNumber:127,columnNumber:13},void 0),e.jsxDEV(E,{className:"column-header__button",iconComponent:ve,onClick:G,title:i.formatMessage(q.accept)},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/request.jsx",lineNumber:128,columnNumber:13},void 0)]},void 0,!0,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/request.jsx",lineNumber:126,columnNumber:9},void 0)},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/request.jsx",lineNumber:118,columnNumber:7},void 0),e.jsxDEV(Be,{hideMediaByDefault:!0,children:e.jsxDEV(_e,{prepend:I,scrollKey:`notification_requests/${s}`,trackScroll:!r,bindToDocument:!r,isLoading:M,showLoading:M&&l.size===0,hasMore:S,onLoadMore:K,children:l.map(m=>m&&e.jsxDEV(Ze,{notification:m,accountId:m.get("account"),onMoveUp:Y,onMoveDown:Z},m.get("id"),!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/request.jsx",lineNumber:145,columnNumber:19},void 0))},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/request.jsx",lineNumber:134,columnNumber:9},void 0)},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/request.jsx",lineNumber:133,columnNumber:7},void 0),e.jsxDEV(ee,{children:[e.jsxDEV("title",{children:w},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/request.jsx",lineNumber:157,columnNumber:9},void 0),e.jsxDEV("meta",{name:"robots",content:"noindex"},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/request.jsx",lineNumber:158,columnNumber:9},void 0)]},void 0,!0,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/request.jsx",lineNumber:156,columnNumber:7},void 0)]},void 0,!0,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/notifications/request.jsx",lineNumber:117,columnNumber:5},void 0)};export{ei as NotificationRequest,ei as default};
//# sourceMappingURL=request-BBevgksb.js.map
