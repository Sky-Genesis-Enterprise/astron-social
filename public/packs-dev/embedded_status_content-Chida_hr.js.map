{"version":3,"file":"embedded_status_content-Chida_hr.js","sources":["../../app/javascript/material-icons/400-20px/bar_chart_4_bars.svg?react","../../app/javascript/material-icons/400-24px/bar_chart_4_bars.svg?react","../../app/javascript/material-icons/400-24px/photo_library.svg?react","../../app/javascript/mastodon/features/notifications_v2/components/embedded_status_content.tsx"],"sourcesContent":["import * as React from \"react\";\nconst SvgBarChart4Bars = (props) => /* @__PURE__ */ React.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", height: 20, viewBox: \"0 -960 960 960\", width: 20, ...props }, /* @__PURE__ */ React.createElement(\"path\", { d: \"M96-144v-72h768v72H96Zm48-120v-264h96v264h-96Zm192 0v-456h96v456h-96Zm192 0v-336h96v336h-96Zm192 0v-552h96v552h-96Z\" }));\nexport default SvgBarChart4Bars;\n","import * as React from \"react\";\nconst SvgBarChart4Bars = (props) => /* @__PURE__ */ React.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", height: 24, viewBox: \"0 -960 960 960\", width: 24, ...props }, /* @__PURE__ */ React.createElement(\"path\", { d: \"M80-120v-80h800v80H80Zm40-120v-280h120v280H120Zm200 0v-480h120v480H320Zm200 0v-360h120v360H520Zm200 0v-600h120v600H720Z\" }));\nexport default SvgBarChart4Bars;\n","import * as React from \"react\";\nconst SvgPhotoLibrary = (props) => /* @__PURE__ */ React.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", height: 24, viewBox: \"0 -960 960 960\", width: 24, ...props }, /* @__PURE__ */ React.createElement(\"path\", { d: \"M360-400h400L622-580l-92 120-62-80-108 140Zm-40 160q-33 0-56.5-23.5T240-320v-480q0-33 23.5-56.5T320-880h480q33 0 56.5 23.5T880-800v480q0 33-23.5 56.5T800-240H320Zm0-80h480v-480H320v480ZM160-80q-33 0-56.5-23.5T80-160v-560h80v560h560v80H160Zm160-720v480-480Z\" }));\nexport default SvgPhotoLibrary;\n","import { useCallback } from 'react';\n\nimport { useHistory } from 'react-router-dom';\n\nimport type { List } from 'immutable';\n\nimport type { History } from 'history';\n\nimport type { Mention } from './embedded_status';\n\nconst handleMentionClick = (\n  history: History,\n  mention: Mention,\n  e: MouseEvent,\n) => {\n  if (e.button === 0 && !(e.ctrlKey || e.metaKey)) {\n    e.preventDefault();\n    history.push(`/@${mention.get('acct')}`);\n  }\n};\n\nconst handleHashtagClick = (\n  history: History,\n  hashtag: string,\n  e: MouseEvent,\n) => {\n  if (e.button === 0 && !(e.ctrlKey || e.metaKey)) {\n    e.preventDefault();\n    history.push(`/tags/${hashtag.replace(/^#/, '')}`);\n  }\n};\n\nexport const EmbeddedStatusContent: React.FC<{\n  content: string;\n  mentions: List<Mention>;\n  language: string;\n  className?: string;\n}> = ({ content, mentions, language, className }) => {\n  const history = useHistory();\n\n  const handleContentRef = useCallback(\n    (node: HTMLDivElement | null) => {\n      if (!node) {\n        return;\n      }\n\n      const links = node.querySelectorAll<HTMLAnchorElement>('a');\n\n      for (const link of links) {\n        if (link.classList.contains('status-link')) {\n          continue;\n        }\n\n        link.classList.add('status-link');\n\n        const mention = mentions.find((item) => link.href === item.get('url'));\n\n        if (mention) {\n          link.addEventListener(\n            'click',\n            handleMentionClick.bind(null, history, mention),\n            false,\n          );\n          link.setAttribute('title', `@${mention.get('acct')}`);\n          link.setAttribute('href', `/@${mention.get('acct')}`);\n        } else if (\n          link.textContent?.[0] === '#' ||\n          link.previousSibling?.textContent?.endsWith('#')\n        ) {\n          link.addEventListener(\n            'click',\n            handleHashtagClick.bind(null, history, link.text),\n            false,\n          );\n          link.setAttribute('href', `/tags/${link.text.replace(/^#/, '')}`);\n        } else {\n          link.setAttribute('title', link.href);\n          link.classList.add('unhandled-link');\n        }\n      }\n    },\n    [mentions, history],\n  );\n\n  return (\n    <div\n      className={className}\n      ref={handleContentRef}\n      lang={language}\n      dangerouslySetInnerHTML={{ __html: content }}\n    />\n  );\n};\n"],"names":["SvgBarChart4Bars","props","React.createElement","SvgPhotoLibrary","handleMentionClick","history","mention","e","button","ctrlKey","metaKey","preventDefault","push","get","handleHashtagClick","hashtag","replace","EmbeddedStatusContent","content","mentions","language","className","useHistory","handleContentRef","useCallback","node","links","querySelectorAll","link","classList","contains","add","find","item","href","addEventListener","bind","setAttribute","textContent","previousSibling","endsWith","text","jsxDEV","__html","this"],"mappings":"gIACK,MAACA,EAAoBC,GAA0BC,gBAAoB,MAAO,CAAE,MAAO,6BAA8B,OAAQ,GAAI,QAAS,iBAAkB,MAAO,GAAI,GAAGD,CAAK,EAAoBC,EAAAA,cAAoB,OAAQ,CAAE,EAAG,sHAAuH,CAAC,ECAvVF,EAAoBC,GAA0BC,gBAAoB,MAAO,CAAE,MAAO,6BAA8B,OAAQ,GAAI,QAAS,iBAAkB,MAAO,GAAI,GAAGD,CAAK,EAAoBC,EAAAA,cAAoB,OAAQ,CAAE,EAAG,0HAA2H,CAAC,ECA3VC,EAAmBF,GAA0BC,gBAAoB,MAAO,CAAE,MAAO,6BAA8B,OAAQ,GAAI,QAAS,iBAAkB,MAAO,GAAI,GAAGD,CAAK,EAAoBC,EAAAA,cAAoB,OAAQ,CAAE,EAAG,mQAAoQ,CAAC,ECSneE,EAAqBA,CACzBC,EACAC,EACAC,IACG,CACCA,EAAEC,SAAW,GAAK,EAAED,EAAEE,SAAWF,EAAEG,WACrCH,EAAEI,eAAAA,EACFN,EAAQO,KAAK,KAAKN,EAAQO,IAAI,MAAM,CAAC,EAAE,EAE3C,EAEMC,EAAqBA,CACzBT,EACAU,EACAR,IACG,CACCA,EAAEC,SAAW,GAAK,EAAED,EAAEE,SAAWF,EAAEG,WACrCH,EAAEI,eAAAA,EACFN,EAAQO,KAAK,SAASG,EAAQC,QAAQ,KAAM,EAAE,CAAC,EAAE,EAErD,EAEaC,EAKRA,CAAC,CAAEC,QAAAA,EAASC,SAAAA,EAAUC,SAAAA,EAAUC,UAAAA,KAAgB,CACnD,MAAMhB,EAAUiB,EAAAA,EAEVC,EAAmBC,EAAAA,YACtBC,GAAgC,WAC/B,GAAI,CAACA,EACH,OAGF,MAAMC,EAAQD,EAAKE,iBAAoC,GAAG,EAE1D,UAAWC,KAAQF,EAAO,CACxB,GAAIE,EAAKC,UAAUC,SAAS,aAAa,EACvC,SAGFF,EAAKC,UAAUE,IAAI,aAAa,EAEhC,MAAMzB,EAAUa,EAASa,KAAMC,GAASL,EAAKM,OAASD,EAAKpB,IAAI,KAAK,CAAC,EAEjEP,GACFsB,EAAKO,iBACH,QACA/B,EAAmBgC,KAAK,KAAM/B,EAASC,CAAO,EAC9C,EAAA,EAEFsB,EAAKS,aAAa,QAAS,IAAI/B,EAAQO,IAAI,MAAM,CAAC,EAAE,EACpDe,EAAKS,aAAa,OAAQ,KAAK/B,EAAQO,IAAI,MAAM,CAAC,EAAE,KAEpDe,EAAAA,EAAKU,cAALV,YAAAA,EAAmB,MAAO,MAC1BA,GAAAA,EAAAA,EAAKW,kBAALX,YAAAA,EAAsBU,cAAtBV,MAAAA,EAAmCY,SAAS,MAE5CZ,EAAKO,iBACH,QACArB,EAAmBsB,KAAK,KAAM/B,EAASuB,EAAKa,IAAI,EAChD,EAAA,EAEFb,EAAKS,aAAa,OAAQ,SAAST,EAAKa,KAAKzB,QAAQ,KAAM,EAAE,CAAC,EAAE,IAEhEY,EAAKS,aAAa,QAAST,EAAKM,IAAI,EACpCN,EAAKC,UAAUE,IAAI,gBAAgB,EACrC,CACF,EAEF,CAACZ,EAAUd,CAAO,CAAA,EAGpB,OACEqC,EAAAA,OAAC,MAAA,CACC,UAAArB,EACA,IAAKE,EACL,KAAMH,EACN,wBAAyB,CAAEuB,OAAQzB,CAAAA,CAAQ,EAJ7C,OAAA,GAAA,CAAA,SAAA,kIAAA,WAAA,GAAA,aAAA,CAAA,EAAA0B,MAAA,CAOJ"}