{"version":3,"file":"closed_registrations_modal-index-CuhouI_m.js","sources":["../../app/javascript/mastodon/features/closed_registrations_modal/index.jsx"],"sourcesContent":["import { FormattedMessage } from 'react-intl';\n\nimport ImmutablePureComponent from 'react-immutable-pure-component';\nimport { connect } from 'react-redux';\n\nimport { fetchServer } from 'mastodon/actions/server';\nimport { domain } from 'mastodon/initial_state';\n\nconst mapStateToProps = state => ({\n  message: state.getIn(['server', 'server', 'registrations', 'message']),\n});\n\nclass ClosedRegistrationsModal extends ImmutablePureComponent {\n\n  componentDidMount () {\n    const { dispatch } = this.props;\n    dispatch(fetchServer());\n  }\n\n  render () {\n    let closedRegistrationsMessage;\n\n    if (this.props.message) {\n      closedRegistrationsMessage = (\n        <p\n          className='prose'\n          dangerouslySetInnerHTML={{ __html: this.props.message }}\n        />\n      );\n    } else {\n      closedRegistrationsMessage = (\n        <p className='prose'>\n          <FormattedMessage\n            id='closed_registrations_modal.description'\n            defaultMessage='Creating an account on {domain} is currently not possible, but please keep in mind that you do not need an account specifically on {domain} to use Mastodon.'\n            values={{ domain: <strong>{domain}</strong> }}\n          />\n        </p>\n      );\n    }\n\n    return (\n      <div className='modal-root__modal interaction-modal'>\n        <div className='interaction-modal__lead'>\n          <h3><FormattedMessage id='closed_registrations_modal.title' defaultMessage='Signing up on Mastodon' /></h3>\n          <p>\n            <FormattedMessage\n              id='closed_registrations_modal.preamble'\n              defaultMessage='Mastodon is decentralized, so no matter where you create your account, you will be able to follow and interact with anyone on this server. You can even self-host it!'\n            />\n          </p>\n        </div>\n\n        <div className='interaction-modal__choices'>\n          <div className='interaction-modal__choices__choice'>\n            <h3><FormattedMessage id='interaction_modal.on_this_server' defaultMessage='On this server' /></h3>\n            {closedRegistrationsMessage}\n          </div>\n\n          <div className='interaction-modal__choices__choice'>\n            <h3><FormattedMessage id='interaction_modal.on_another_server' defaultMessage='On a different server' /></h3>\n            <p className='prose'>\n              <FormattedMessage\n                id='closed_registrations.other_server_instructions'\n                defaultMessage='Since Mastodon is decentralized, you can create an account on another server and still interact with this one.'\n              />\n            </p>\n            <a href='https://joinmastodon.org/servers' className='button button--block'><FormattedMessage id='closed_registrations_modal.find_another_server' defaultMessage='Find another server' /></a>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n}\n\nexport default connect(mapStateToProps)(ClosedRegistrationsModal);\n"],"names":["mapStateToProps","state","message","getIn","ClosedRegistrationsModal","ImmutablePureComponent","componentDidMount","dispatch","props","fetchServer","render","closedRegistrationsMessage","jsxDEV","__html","FormattedMessage","domain","index","connect"],"mappings":"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"}