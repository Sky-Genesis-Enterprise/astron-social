var N=Object.defineProperty;var j=(i,s,e)=>s in i?N(i,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[s]=e;var n=(i,s,e)=>j(i,typeof s!="symbol"?s+"":s,e);import{j as o}from"./client-BG6VvM0b.js";import{P as m}from"./short_number--sxn3OKQ.js";import{y as x,z as y}from"./useSelectableClick-DBo53LOf.js";import{g as _}from"./index-ykyyQSL-.js";import{W as c,ae as I,af as V,ad as E}from"./content_warning-ZcoJE_cd.js";var h,f;function D(){if(f)return h;f=1;function i(){}return h=i,h}var B=D();const b=_(B);class v extends x{constructor(){super(...arguments);n(this,"updateOnProps",["status"]);n(this,"renderLoadingMediaGallery",()=>{const{height:e,width:t}=this.props;return o.jsxDEV("div",{className:"media-gallery",style:{height:e,width:t}},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/components/media_attachments.jsx",lineNumber:34,columnNumber:7},this)});n(this,"renderLoadingVideoPlayer",()=>{const{height:e,width:t}=this.props;return o.jsxDEV("div",{className:"video-player",style:{height:e,width:t}},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/components/media_attachments.jsx",lineNumber:42,columnNumber:7},this)});n(this,"renderLoadingAudioPlayer",()=>{const{height:e,width:t}=this.props;return o.jsxDEV("div",{className:"audio-player",style:{height:e,width:t}},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/components/media_attachments.jsx",lineNumber:50,columnNumber:7},this)})}render(){const{status:e,width:t,height:l,visible:g}=this.props,r=e.get("media_attachments"),u=e.getIn(["language","translation"])||e.get("language")||this.props.lang;if(r.size===0)return null;if(r.getIn([0,"type"])==="audio"){const a=r.get(0),d=a.getIn(["translation","description"])||a.get("description");return o.jsxDEV(c,{fetchComponent:I,loading:this.renderLoadingAudioPlayer,children:p=>o.jsxDEV(p,{src:a.get("url"),alt:d,lang:u,width:t,height:l,poster:a.get("preview_url")||e.getIn(["account","avatar_static"]),backgroundColor:a.getIn(["meta","colors","background"]),foregroundColor:a.getIn(["meta","colors","foreground"]),accentColor:a.getIn(["meta","colors","accent"]),duration:a.getIn(["meta","original","duration"],0)},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/components/media_attachments.jsx",lineNumber:70,columnNumber:11},this)},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/components/media_attachments.jsx",lineNumber:68,columnNumber:9},this)}else if(r.getIn([0,"type"])==="video"){const a=r.get(0),d=a.getIn(["translation","description"])||a.get("description");return o.jsxDEV(c,{fetchComponent:V,loading:this.renderLoadingVideoPlayer,children:p=>o.jsxDEV(p,{preview:a.get("preview_url"),frameRate:a.getIn(["meta","original","frame_rate"]),blurhash:a.get("blurhash"),src:a.get("url"),alt:d,lang:u,width:t,height:l,inline:!0,sensitive:e.get("sensitive"),visible:g,onOpenVideo:b},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/components/media_attachments.jsx",lineNumber:92,columnNumber:11},this)},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/components/media_attachments.jsx",lineNumber:90,columnNumber:9},this)}else return o.jsxDEV(c,{fetchComponent:E,loading:this.renderLoadingMediaGallery,children:a=>o.jsxDEV(a,{media:r,lang:u,sensitive:e.get("sensitive"),defaultWidth:t,visible:g,height:l,onOpenMedia:b},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/components/media_attachments.jsx",lineNumber:113,columnNumber:11},this)},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/components/media_attachments.jsx",lineNumber:111,columnNumber:9},this)}}n(v,"propTypes",{status:y.map.isRequired,lang:m.string,height:m.number,width:m.number,visible:m.bool}),n(v,"defaultProps",{height:110,width:239});export{v as M};
//# sourceMappingURL=media_attachments-DGp0YzNB.js.map
