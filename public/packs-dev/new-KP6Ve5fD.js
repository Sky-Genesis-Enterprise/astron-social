import{j as e}from"./client-BG6VvM0b.js";import{u as v,r as i,d as D}from"./index-ykyyQSL-.js";import{H as B}from"./Helmet-D0DLVOv1.js";import{k as V,d as _,L as M}from"./short_number--sxn3OKQ.js";import{u as y,a as C,d7 as S,ea as A,dJ as L,b7 as k,eb as H,I,aQ as T,A as F}from"./useSelectableClick-DBo53LOf.js";import{T as P}from"./index-Bvr20mGV.js";import{S as R}from"./list_alt-Ctquh2nL.js";import{A as $}from"./avatar_group-CaQvETuJ.js";import{C as z}from"./column-CXD4Tnpb.js";import{C as G}from"./column_header-CtuyYpNB.js";import{L as q}from"./loading_indicator-BBuNQ1GS.js";import{messages as J}from"./members-DTxIHWN-.js";import{M as o}from"./message-Bb0z64dP.js";import"./numbers-CGZQWBYL.js";import"./api-uqk9CYtW.js";import"./index-lj9VQs0f.js";import"./initial_state-BP3UcUr4.js";import"./ready-DpOgoWSg.js";import"./index-DHslUCy5.js";import"./load_locale-C-B7BkCQ.js";import"./index-guCj-HqV.js";import"./scroll-BygYx8ga.js";import"./add-ZanakRnh.js";import"./chevron_left-R_fqLHXp.js";import"./close-DPVxbBbs.js";import"./index.module-CVExFLDO.js";import"./squiggly_arrow-DB0402nw.js";import"./index-JeRepxZU.js";import"./column_search_header-BmO1Q-01.js";import"./counters-BuwkZXvq.js";import"./content_warning-ZcoJE_cd.js";import"./skeleton-_5CK2hDo.js";import"./scrollable_list-DlG-2WSw.js";import"./scroll_container-BQpJ36fQ.js";import"./react-router-scroll-4.es-6ieDtVAa.js";import"./interopRequireDefault-CdiRfGvq.js";import"./schedule_idle_task-CTsEu-tt.js";import"./load_more-BJ-OkDO5.js";import"./verified_badge-BOKoz3CJ.js";const n=D({edit:{id:"column.edit_list",defaultMessage:"Edit list"},create:{id:"column.create_list",defaultMessage:"Create list"}}),Q=({id:u})=>{const m=v(),[s,r]=i.useState(0),[d,l]=i.useState([]);return i.useEffect(()=>{H(u).then(t=>{r(t.length),l(t.slice(0,3))}).catch(()=>{})},[u]),e.jsxDEV(M,{to:`/lists/${u}/members`,className:"app-form__link",children:[e.jsxDEV("div",{className:"app-form__link__text",children:[e.jsxDEV("strong",{children:[m.formatMessage(J.manageMembers),e.jsxDEV(I,{id:"chevron_right",icon:T},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/lists/new.tsx",lineNumber:57,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/lists/new.tsx",lineNumber:55,columnNumber:9},void 0),e.jsxDEV(o,{id:"lists.list_members_count",defaultMessage:"{count, plural, one {# member} other {# members}}",values:{count:s}},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/lists/new.tsx",lineNumber:59,columnNumber:9},void 0)]},void 0,!0,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/lists/new.tsx",lineNumber:54,columnNumber:7},void 0),e.jsxDEV($,{compact:!0,children:d.map(t=>e.jsxDEV(F,{account:t,size:30},t.id,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/lists/new.tsx",lineNumber:68,columnNumber:9},void 0))},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/lists/new.tsx",lineNumber:66,columnNumber:7},void 0)]},void 0,!0,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/lists/new.tsx",lineNumber:53,columnNumber:5},void 0)},Ae=({multiColumn:u})=>{const m=y(),{id:s}=V(),r=v(),d=_(),l=C(a=>s?a.lists.get(s):void 0),[t,p]=i.useState(""),[f,c]=i.useState(!1),[b,h]=i.useState("list"),[x,N]=i.useState(!1);i.useEffect(()=>{s&&m(S(s))},[m,s]),i.useEffect(()=>{s&&l&&(p(l.title),c(l.exclusive),h(l.replies_policy))},[p,c,h,s,l]);const g=i.useCallback(({target:{value:a}})=>{p(a)},[p]),j=i.useCallback(({target:{checked:a}})=>{c(a)},[c]),w=i.useCallback(({target:{value:a}})=>{h(a)},[h]),E=i.useCallback(()=>{N(!0),s?m(A({id:s,title:t,exclusive:f,replies_policy:b})).then(()=>(N(!1),"")):m(L({title:t,exclusive:f,replies_policy:b})).then(a=>(N(!1),k(a)&&(d.replace(`/lists/${a.payload.id}/edit`),d.push(`/lists/${a.payload.id}/members`)),""))},[d,m,N,s,t,f,b]);return e.jsxDEV(z,{bindToDocument:!u,label:r.formatMessage(s?n.edit:n.create),children:[e.jsxDEV(G,{title:r.formatMessage(s?n.edit:n.create),icon:"list-ul",iconComponent:R,multiColumn:u,showBackButton:!0},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/lists/new.tsx",lineNumber:166,columnNumber:7},void 0),e.jsxDEV("div",{className:"scrollable",children:e.jsxDEV("form",{className:"simple_form app-form",onSubmit:E,children:[e.jsxDEV("div",{className:"fields-group",children:e.jsxDEV("div",{className:"input with_label",children:e.jsxDEV("div",{className:"label_input",children:[e.jsxDEV("label",{htmlFor:"list_title",children:e.jsxDEV(o,{id:"lists.list_name",defaultMessage:"List name"},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/lists/new.tsx",lineNumber:180,columnNumber:19},void 0)},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/lists/new.tsx",lineNumber:179,columnNumber:17},void 0),e.jsxDEV("div",{className:"label_input__wrapper",children:e.jsxDEV("input",{id:"list_title",type:"text",value:t,onChange:g,maxLength:30,required:!0,placeholder:" "},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/lists/new.tsx",lineNumber:187,columnNumber:19},void 0)},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/lists/new.tsx",lineNumber:186,columnNumber:17},void 0)]},void 0,!0,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/lists/new.tsx",lineNumber:178,columnNumber:15},void 0)},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/lists/new.tsx",lineNumber:177,columnNumber:13},void 0)},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/lists/new.tsx",lineNumber:176,columnNumber:11},void 0),e.jsxDEV("div",{className:"fields-group",children:e.jsxDEV("div",{className:"input with_label",children:e.jsxDEV("div",{className:"label_input",children:[e.jsxDEV("label",{htmlFor:"list_replies_policy",children:e.jsxDEV(o,{id:"lists.show_replies_to",defaultMessage:"Include replies from list members to"},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/lists/new.tsx",lineNumber:205,columnNumber:19},void 0)},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/lists/new.tsx",lineNumber:204,columnNumber:17},void 0),e.jsxDEV("div",{className:"label_input__wrapper",children:e.jsxDEV("select",{id:"list_replies_policy",value:b,onChange:w,children:[e.jsxDEV(o,{id:"lists.replies_policy.none",defaultMessage:"No one",children:a=>e.jsxDEV("option",{value:"none",children:a},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/lists/new.tsx",lineNumber:221,columnNumber:33},void 0)},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/lists/new.tsx",lineNumber:217,columnNumber:21},void 0),e.jsxDEV(o,{id:"lists.replies_policy.list",defaultMessage:"Members of the list",children:a=>e.jsxDEV("option",{value:"list",children:a},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/lists/new.tsx",lineNumber:227,columnNumber:33},void 0)},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/lists/new.tsx",lineNumber:223,columnNumber:21},void 0),e.jsxDEV(o,{id:"lists.replies_policy.followed",defaultMessage:"Any followed user",children:a=>e.jsxDEV("option",{value:"followed",children:a},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/lists/new.tsx",lineNumber:233,columnNumber:33},void 0)},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/lists/new.tsx",lineNumber:229,columnNumber:21},void 0)]},void 0,!0,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/lists/new.tsx",lineNumber:212,columnNumber:19},void 0)},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/lists/new.tsx",lineNumber:211,columnNumber:17},void 0)]},void 0,!0,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/lists/new.tsx",lineNumber:203,columnNumber:15},void 0)},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/lists/new.tsx",lineNumber:202,columnNumber:13},void 0)},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/lists/new.tsx",lineNumber:201,columnNumber:11},void 0),s&&e.jsxDEV("div",{className:"fields-group",children:e.jsxDEV(Q,{id:s},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/lists/new.tsx",lineNumber:243,columnNumber:15},void 0)},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/lists/new.tsx",lineNumber:242,columnNumber:11},void 0),e.jsxDEV("div",{className:"fields-group",children:e.jsxDEV("label",{className:"app-form__toggle",children:[e.jsxDEV("div",{className:"app-form__toggle__label",children:[e.jsxDEV("strong",{children:e.jsxDEV(o,{id:"lists.exclusive",defaultMessage:"Hide members in Home"},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/lists/new.tsx",lineNumber:252,columnNumber:19},void 0)},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/lists/new.tsx",lineNumber:251,columnNumber:17},void 0),e.jsxDEV("span",{className:"hint",children:e.jsxDEV(o,{id:"lists.exclusive_hint",defaultMessage:"If someone is on this list, hide them in your Home feed to avoid seeing their posts twice."},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/lists/new.tsx",lineNumber:258,columnNumber:19},void 0)},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/lists/new.tsx",lineNumber:257,columnNumber:17},void 0)]},void 0,!0,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/lists/new.tsx",lineNumber:250,columnNumber:15},void 0),e.jsxDEV("div",{className:"app-form__toggle__toggle",children:e.jsxDEV("div",{children:e.jsxDEV(P,{checked:f,onChange:j},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/lists/new.tsx",lineNumber:267,columnNumber:19},void 0)},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/lists/new.tsx",lineNumber:266,columnNumber:17},void 0)},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/lists/new.tsx",lineNumber:265,columnNumber:15},void 0)]},void 0,!0,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/lists/new.tsx",lineNumber:249,columnNumber:13},void 0)},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/lists/new.tsx",lineNumber:247,columnNumber:11},void 0),e.jsxDEV("div",{className:"actions",children:e.jsxDEV("button",{className:"button",type:"submit",children:x?e.jsxDEV(q,{},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/lists/new.tsx",lineNumber:279,columnNumber:15},void 0):s?e.jsxDEV(o,{id:"lists.save",defaultMessage:"Save"},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/lists/new.tsx",lineNumber:281,columnNumber:15},void 0):e.jsxDEV(o,{id:"lists.create",defaultMessage:"Create"},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/lists/new.tsx",lineNumber:283,columnNumber:15},void 0)},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/lists/new.tsx",lineNumber:277,columnNumber:13},void 0)},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/lists/new.tsx",lineNumber:276,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/lists/new.tsx",lineNumber:175,columnNumber:9},void 0)},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/lists/new.tsx",lineNumber:174,columnNumber:7},void 0),e.jsxDEV(B,{children:[e.jsxDEV("title",{children:r.formatMessage(s?n.edit:n.create)},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/lists/new.tsx",lineNumber:291,columnNumber:9},void 0),e.jsxDEV("meta",{name:"robots",content:"noindex"},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/lists/new.tsx",lineNumber:294,columnNumber:9},void 0)]},void 0,!0,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/lists/new.tsx",lineNumber:290,columnNumber:7},void 0)]},void 0,!0,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/lists/new.tsx",lineNumber:162,columnNumber:5},void 0)};export{Ae as default};
//# sourceMappingURL=new-KP6Ve5fD.js.map
