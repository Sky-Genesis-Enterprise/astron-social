import{j as a}from"./client-BG6VvM0b.js";import{r as t,u as c,d as p}from"./index-ykyyQSL-.js";import{S as f}from"./close-DPVxbBbs.js";import{a as g,u as N,c_ as m,aM as o,b as h}from"./useSelectableClick-DBo53LOf.js";const v=p({dismiss:{id:"dismissable_banner.dismiss",defaultMessage:"Dismiss"}}),E=({id:s,children:r})=>{const i=g(b=>b.settings.getIn(["dismissed_banners",s],!1)),e=N(),[n,l]=t.useState(!m.get(s)&&!i),u=c(),d=t.useCallback(()=>{l(!1),m.set(s,!0),e(o(["dismissed_banners",s],!0))},[s,e]);return t.useEffect(()=>{!n&&!i&&e(o(["dismissed_banners",s],!0))},[s,e,n,i]),n?a.jsxDEV("div",{className:"dismissable-banner",children:[a.jsxDEV("div",{className:"dismissable-banner__action",children:a.jsxDEV(h,{icon:"times",iconComponent:f,title:u.formatMessage(v.dismiss),onClick:d},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/components/dismissable_banner.tsx",lineNumber:57,columnNumber:9},void 0)},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/components/dismissable_banner.tsx",lineNumber:56,columnNumber:7},void 0),a.jsxDEV("div",{className:"dismissable-banner__message",children:r},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/components/dismissable_banner.tsx",lineNumber:65,columnNumber:7},void 0)]},void 0,!0,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/components/dismissable_banner.tsx",lineNumber:55,columnNumber:5},void 0):null};export{E as D};
//# sourceMappingURL=dismissable_banner-gWE579A1.js.map
