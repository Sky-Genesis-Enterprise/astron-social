{"version":3,"file":"emoji_picker-CgIFSTPA.js","sources":["../../node_modules/emoji-mart/dist-es/utils/data.js","../../node_modules/emoji-mart/dist-es/polyfills/stringFromCodePoint.js","../../node_modules/emoji-mart/dist-es/utils/index.js","../../node_modules/emoji-mart/dist-es/utils/shared-props.js","../../node_modules/emoji-mart/dist-es/utils/shared-default-props.js","../../node_modules/emoji-mart/dist-es/components/emoji/nimble-emoji.js","../../node_modules/emoji-mart/dist-es/svgs/index.js","../../node_modules/emoji-mart/dist-es/utils/store.js","../../node_modules/emoji-mart/dist-es/utils/frequently.js","../../node_modules/emoji-mart/dist-es/components/anchors.js","../../node_modules/emoji-mart/dist-es/components/not-found.js","../../node_modules/intersection-observer/intersection-observer.js","../../node_modules/emoji-mart/dist-es/components/category.js","../../node_modules/emoji-mart/dist-es/components/skins.js","../../node_modules/emoji-mart/dist-es/components/skins-emoji.js","../../node_modules/emoji-mart/dist-es/components/skins-dot.js","../../node_modules/emoji-mart/dist-es/components/preview.js","../../node_modules/emoji-mart/dist-es/utils/emoji-index/nimble-emoji-index.js","../../node_modules/emoji-mart/dist-es/components/search.js","../../node_modules/emoji-mart/dist-es/components/picker/nimble-picker.js","../../app/javascript/mastodon/features/emoji/emoji_picker.tsx"],"sourcesContent":["var mapping = {\n  name: 'a',\n  unified: 'b',\n  non_qualified: 'c',\n  has_img_apple: 'd',\n  has_img_google: 'e',\n  has_img_twitter: 'f',\n  has_img_facebook: 'h',\n  keywords: 'j',\n  sheet: 'k',\n  emoticons: 'l',\n  text: 'm',\n  short_names: 'n',\n  added_in: 'o'\n};\n\nvar buildSearch = function buildSearch(emoji) {\n  var search = [];\n\n  var addToSearch = function addToSearch(strings, split) {\n    if (!strings) {\n      return;\n    }\n\n    ;\n    (Array.isArray(strings) ? strings : [strings]).forEach(function (string) {\n      ;\n      (split ? string.split(/[-|_|\\s]+/) : [string]).forEach(function (s) {\n        s = s.toLowerCase();\n\n        if (search.indexOf(s) == -1) {\n          search.push(s);\n        }\n      });\n    });\n  };\n\n  addToSearch(emoji.short_names, true);\n  addToSearch(emoji.name, true);\n  addToSearch(emoji.keywords, false);\n  addToSearch(emoji.emoticons, false);\n  return search.join(',');\n};\n\nvar compress = function compress(emoji) {\n  emoji.short_names = emoji.short_names.filter(function (short_name) {\n    return short_name !== emoji.short_name;\n  });\n  delete emoji.short_name;\n  emoji.sheet = [emoji.sheet_x, emoji.sheet_y];\n  delete emoji.sheet_x;\n  delete emoji.sheet_y;\n  emoji.added_in = parseInt(emoji.added_in);\n\n  if (emoji.added_in === 6) {\n    delete emoji.added_in;\n  }\n\n  for (var key in mapping) {\n    emoji[mapping[key]] = emoji[key];\n    delete emoji[key];\n  }\n\n  for (var _key in emoji) {\n    var value = emoji[_key];\n\n    if (Array.isArray(value) && !value.length) {\n      delete emoji[_key];\n    } else if (typeof value === 'string' && !value.length) {\n      delete emoji[_key];\n    } else if (value === null) {\n      delete emoji[_key];\n    }\n  }\n};\n\nvar uncompress = function uncompress(data) {\n  data.compressed = false;\n\n  for (var id in data.emojis) {\n    var emoji = data.emojis[id];\n\n    for (var key in mapping) {\n      emoji[key] = emoji[mapping[key]];\n      delete emoji[mapping[key]];\n    }\n\n    if (!emoji.short_names) emoji.short_names = [];\n    emoji.short_names.unshift(id);\n    emoji.sheet_x = emoji.sheet[0];\n    emoji.sheet_y = emoji.sheet[1];\n    delete emoji.sheet;\n    if (!emoji.text) emoji.text = '';\n    if (!emoji.added_in) emoji.added_in = 6;\n    emoji.added_in = emoji.added_in.toFixed(1);\n    emoji.search = buildSearch(emoji);\n  }\n};\n\nexport { buildSearch, compress, uncompress };","var _String = String;\nexport default _String.fromCodePoint || function stringFromCodePoint() {\n  var MAX_SIZE = 0x4000;\n  var codeUnits = [];\n  var highSurrogate;\n  var lowSurrogate;\n  var index = -1;\n  var length = arguments.length;\n\n  if (!length) {\n    return '';\n  }\n\n  var result = '';\n\n  while (++index < length) {\n    var codePoint = Number(arguments[index]);\n\n    if (!isFinite(codePoint) || // `NaN`, `+Infinity`, or `-Infinity`\n    codePoint < 0 || // not a valid Unicode code point\n    codePoint > 0x10ffff || // not a valid Unicode code point\n    Math.floor(codePoint) != codePoint // not an integer\n    ) {\n      throw RangeError('Invalid code point: ' + codePoint);\n    }\n\n    if (codePoint <= 0xffff) {\n      // BMP code point\n      codeUnits.push(codePoint);\n    } else {\n      // Astral code point; split in surrogate halves\n      // http://mathiasbynens.be/notes/javascript-encoding#surrogate-formulae\n      codePoint -= 0x10000;\n      highSurrogate = (codePoint >> 10) + 0xd800;\n      lowSurrogate = codePoint % 0x400 + 0xdc00;\n      codeUnits.push(highSurrogate, lowSurrogate);\n    }\n\n    if (index + 1 === length || codeUnits.length > MAX_SIZE) {\n      result += String.fromCharCode.apply(null, codeUnits);\n      codeUnits.length = 0;\n    }\n  }\n\n  return result;\n};","import _typeof from \"@babel/runtime/helpers/typeof\";\nimport { buildSearch } from './data';\nimport stringFromCodePoint from '../polyfills/stringFromCodePoint';\nimport { uncompress } from './data';\nvar COLONS_REGEX = /^(?:\\:([^\\:]+)\\:)(?:\\:skin-tone-(\\d)\\:)?$/;\nvar SKINS = ['1F3FA', '1F3FB', '1F3FC', '1F3FD', '1F3FE', '1F3FF'];\n\nfunction unifiedToNative(unified) {\n  var unicodes = unified.split('-'),\n      codePoints = unicodes.map(function (u) {\n    return \"0x\".concat(u);\n  });\n  return stringFromCodePoint.apply(null, codePoints);\n}\n\nfunction sanitize(emoji) {\n  var name = emoji.name,\n      short_names = emoji.short_names,\n      skin_tone = emoji.skin_tone,\n      skin_variations = emoji.skin_variations,\n      emoticons = emoji.emoticons,\n      unified = emoji.unified,\n      custom = emoji.custom,\n      customCategory = emoji.customCategory,\n      imageUrl = emoji.imageUrl,\n      id = emoji.id || short_names[0],\n      colons = \":\".concat(id, \":\");\n\n  if (custom) {\n    return {\n      id: id,\n      name: name,\n      short_names: short_names,\n      colons: colons,\n      emoticons: emoticons,\n      custom: custom,\n      customCategory: customCategory,\n      imageUrl: imageUrl\n    };\n  }\n\n  if (skin_tone) {\n    colons += \":skin-tone-\".concat(skin_tone, \":\");\n  }\n\n  return {\n    id: id,\n    name: name,\n    short_names: short_names,\n    colons: colons,\n    emoticons: emoticons,\n    unified: unified.toLowerCase(),\n    skin: skin_tone || (skin_variations ? 1 : null),\n    \"native\": unifiedToNative(unified)\n  };\n}\n\nfunction getSanitizedData() {\n  return sanitize(getData.apply(void 0, arguments));\n}\n\nfunction getData(emoji, skin, set, data) {\n  var emojiData = {};\n\n  if (typeof emoji == 'string') {\n    var matches = emoji.match(COLONS_REGEX);\n\n    if (matches) {\n      emoji = matches[1];\n\n      if (matches[2]) {\n        skin = parseInt(matches[2], 10);\n      }\n    }\n\n    if (data.aliases.hasOwnProperty(emoji)) {\n      emoji = data.aliases[emoji];\n    }\n\n    if (data.emojis.hasOwnProperty(emoji)) {\n      emojiData = data.emojis[emoji];\n    } else {\n      return null;\n    }\n  } else if (emoji.id) {\n    if (data.aliases.hasOwnProperty(emoji.id)) {\n      emoji.id = data.aliases[emoji.id];\n    }\n\n    if (data.emojis.hasOwnProperty(emoji.id)) {\n      emojiData = data.emojis[emoji.id];\n      skin || (skin = emoji.skin);\n    }\n  }\n\n  if (!Object.keys(emojiData).length) {\n    emojiData = emoji;\n    emojiData.custom = true;\n\n    if (!emojiData.search) {\n      emojiData.search = buildSearch(emoji);\n    }\n  }\n\n  emojiData.emoticons || (emojiData.emoticons = []);\n  emojiData.variations || (emojiData.variations = []);\n\n  if (emojiData.skin_variations && skin > 1) {\n    emojiData = JSON.parse(JSON.stringify(emojiData));\n    var skinKey = SKINS[skin - 1],\n        variationData = emojiData.skin_variations[skinKey];\n\n    if (variationData) {\n      if (!variationData.variations && emojiData.variations) {\n        delete emojiData.variations;\n      }\n\n      if (set && (variationData[\"has_img_\".concat(set)] == undefined || variationData[\"has_img_\".concat(set)]) || !set) {\n        emojiData.skin_tone = skin;\n\n        for (var k in variationData) {\n          var v = variationData[k];\n          emojiData[k] = v;\n        }\n      }\n    }\n  }\n\n  if (emojiData.variations && emojiData.variations.length) {\n    emojiData = JSON.parse(JSON.stringify(emojiData));\n    emojiData.unified = emojiData.variations.shift();\n  }\n\n  return emojiData;\n}\n\nfunction getEmojiDataFromNative(nativeString, set, data) {\n  if (data.compressed) {\n    uncompress(data);\n  }\n\n  var skinTones = ['🏻', '🏼', '🏽', '🏾', '🏿'];\n  var skinCodes = ['1F3FB', '1F3FC', '1F3FD', '1F3FE', '1F3FF'];\n  var skin;\n  var skinCode;\n  var baseNativeString = nativeString;\n  skinTones.forEach(function (skinTone, skinToneIndex) {\n    if (nativeString.indexOf(skinTone) > 0) {\n      skin = skinToneIndex + 2;\n      skinCode = skinCodes[skinToneIndex];\n    }\n  });\n  var emojiData;\n\n  for (var id in data.emojis) {\n    var emoji = data.emojis[id];\n    var emojiUnified = emoji.unified;\n\n    if (emoji.variations && emoji.variations.length) {\n      emojiUnified = emoji.variations.shift();\n    }\n\n    if (skin && emoji.skin_variations && emoji.skin_variations[skinCode]) {\n      emojiUnified = emoji.skin_variations[skinCode].unified;\n    }\n\n    if (unifiedToNative(emojiUnified) === baseNativeString) emojiData = emoji;\n  }\n\n  if (!emojiData) {\n    return null;\n  }\n\n  emojiData.id = emojiData.short_names[0];\n  return getSanitizedData(emojiData, skin, set, data);\n}\n\nfunction uniq(arr) {\n  return arr.reduce(function (acc, item) {\n    if (acc.indexOf(item) === -1) {\n      acc.push(item);\n    }\n\n    return acc;\n  }, []);\n}\n\nfunction intersect(a, b) {\n  var uniqA = uniq(a);\n  var uniqB = uniq(b);\n  return uniqA.filter(function (item) {\n    return uniqB.indexOf(item) >= 0;\n  });\n}\n\nfunction deepMerge(a, b) {\n  var o = {};\n\n  for (var key in a) {\n    var originalValue = a[key],\n        value = originalValue;\n\n    if (b.hasOwnProperty(key)) {\n      value = b[key];\n    }\n\n    if (_typeof(value) === 'object') {\n      value = deepMerge(originalValue, value);\n    }\n\n    o[key] = value;\n  }\n\n  return o;\n} // https://github.com/sonicdoe/measure-scrollbar\n\n\nfunction measureScrollbar() {\n  if (typeof document == 'undefined') return 0;\n  var div = document.createElement('div');\n  div.style.width = '100px';\n  div.style.height = '100px';\n  div.style.overflow = 'scroll';\n  div.style.position = 'absolute';\n  div.style.top = '-9999px';\n  document.body.appendChild(div);\n  var scrollbarWidth = div.offsetWidth - div.clientWidth;\n  document.body.removeChild(div);\n  return scrollbarWidth;\n} // Use requestIdleCallback() if available, else fall back to setTimeout().\n// Throttle so as not to run too frequently.\n\n\nfunction throttleIdleTask(func) {\n  var doIdleTask = typeof requestIdleCallback === 'function' ? requestIdleCallback : setTimeout;\n  var running = false;\n  return function throttled() {\n    if (running) {\n      return;\n    }\n\n    running = true;\n    doIdleTask(function () {\n      running = false;\n      func();\n    });\n  };\n}\n\nexport { getData, getEmojiDataFromNative, getSanitizedData, uniq, intersect, deepMerge, unifiedToNative, measureScrollbar, throttleIdleTask };","import PropTypes from 'prop-types';\nvar EmojiPropTypes = {\n  data: PropTypes.object.isRequired,\n  onOver: PropTypes.func,\n  onLeave: PropTypes.func,\n  onClick: PropTypes.func,\n  fallback: PropTypes.func,\n  backgroundImageFn: PropTypes.func,\n  \"native\": PropTypes.bool,\n  forceSize: PropTypes.bool,\n  tooltip: PropTypes.bool,\n  useButton: PropTypes.bool,\n  skin: PropTypes.oneOf([1, 2, 3, 4, 5, 6]),\n  sheetSize: PropTypes.oneOf([16, 20, 32, 64]),\n  sheetColumns: PropTypes.number,\n  sheetRows: PropTypes.number,\n  set: PropTypes.oneOf(['apple', 'google', 'twitter', 'facebook']),\n  size: PropTypes.number.isRequired,\n  emoji: PropTypes.oneOfType([PropTypes.string, PropTypes.object]).isRequired\n};\nvar PickerPropTypes = {\n  onClick: PropTypes.func,\n  onSelect: PropTypes.func,\n  onSkinChange: PropTypes.func,\n  perLine: PropTypes.number,\n  emojiSize: PropTypes.number,\n  i18n: PropTypes.object,\n  style: PropTypes.object,\n  title: PropTypes.string,\n  emoji: PropTypes.string,\n  color: PropTypes.string,\n  set: EmojiPropTypes.set,\n  skin: EmojiPropTypes.skin,\n  \"native\": PropTypes.bool,\n  backgroundImageFn: EmojiPropTypes.backgroundImageFn,\n  sheetSize: EmojiPropTypes.sheetSize,\n  emojisToShowFilter: PropTypes.func,\n  showPreview: PropTypes.bool,\n  showSkinTones: PropTypes.bool,\n  emojiTooltip: EmojiPropTypes.tooltip,\n  useButton: EmojiPropTypes.useButton,\n  theme: PropTypes.oneOf(['auto', 'light', 'dark']),\n  include: PropTypes.arrayOf(PropTypes.string),\n  exclude: PropTypes.arrayOf(PropTypes.string),\n  recent: PropTypes.arrayOf(PropTypes.string),\n  autoFocus: PropTypes.bool,\n  enableFrequentEmojiSort: PropTypes.bool,\n  custom: PropTypes.arrayOf(PropTypes.shape({\n    name: PropTypes.string.isRequired,\n    short_names: PropTypes.arrayOf(PropTypes.string).isRequired,\n    emoticons: PropTypes.arrayOf(PropTypes.string),\n    keywords: PropTypes.arrayOf(PropTypes.string),\n    imageUrl: PropTypes.string,\n    spriteUrl: PropTypes.string,\n    sheet_x: PropTypes.number,\n    sheet_y: PropTypes.number,\n    size: PropTypes.number,\n    sheetColumns: PropTypes.number,\n    sheetRows: PropTypes.number\n  })),\n  skinEmoji: PropTypes.string,\n  notFound: PropTypes.func,\n  notFoundEmoji: PropTypes.string,\n  icons: PropTypes.object\n};\nexport { EmojiPropTypes, PickerPropTypes };","var EmojiDefaultProps = {\n  skin: 1,\n  set: 'apple',\n  sheetSize: 64,\n  sheetColumns: 57,\n  sheetRows: 57,\n  \"native\": false,\n  forceSize: false,\n  tooltip: false,\n  useButton: true,\n  backgroundImageFn: function backgroundImageFn(set, sheetSize) {\n    return \"https://unpkg.com/emoji-datasource-\".concat(set, \"@\").concat(\"5.0.1\", \"/img/\").concat(set, \"/sheets-256/\").concat(sheetSize, \".png\");\n  }\n};\nvar PickerDefaultProps = {\n  onClick: function onClick() {},\n  onSelect: function onSelect() {},\n  onSkinChange: function onSkinChange() {},\n  emojiSize: 24,\n  perLine: 9,\n  i18n: {},\n  style: {},\n  title: 'Emoji Mart™',\n  emoji: 'department_store',\n  color: '#ae65c5',\n  set: EmojiDefaultProps.set,\n  theme: 'light',\n  skin: null,\n  defaultSkin: EmojiDefaultProps.skin,\n  \"native\": EmojiDefaultProps[\"native\"],\n  sheetSize: EmojiDefaultProps.sheetSize,\n  backgroundImageFn: EmojiDefaultProps.backgroundImageFn,\n  emojisToShowFilter: null,\n  showPreview: true,\n  showSkinTones: true,\n  emojiTooltip: EmojiDefaultProps.tooltip,\n  useButton: EmojiDefaultProps.useButton,\n  autoFocus: false,\n  enableFrequentEmojiSort: false,\n  custom: [],\n  skinEmoji: '',\n  notFound: function notFound() {},\n  notFoundEmoji: 'sleuth_or_spy',\n  icons: {}\n};\nexport { PickerDefaultProps, EmojiDefaultProps };","import _extends from \"@babel/runtime/helpers/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { getData, getSanitizedData, unifiedToNative } from '../../utils';\nimport { uncompress } from '../../utils/data';\nimport { EmojiPropTypes } from '../../utils/shared-props';\nimport { EmojiDefaultProps } from '../../utils/shared-default-props';\n\nvar _getData = function _getData(props) {\n  var emoji = props.emoji,\n      skin = props.skin,\n      set = props.set,\n      data = props.data;\n  return getData(emoji, skin, set, data);\n};\n\nvar _getPosition = function _getPosition(props) {\n  var _getData2 = _getData(props),\n      sheet_x = _getData2.sheet_x,\n      sheet_y = _getData2.sheet_y,\n      multiplyX = 100 / (props.sheetColumns - 1),\n      multiplyY = 100 / (props.sheetRows - 1);\n\n  return \"\".concat(multiplyX * sheet_x, \"% \").concat(multiplyY * sheet_y, \"%\");\n};\n\nvar _getSanitizedData = function _getSanitizedData(props) {\n  var emoji = props.emoji,\n      skin = props.skin,\n      set = props.set,\n      data = props.data;\n  return getSanitizedData(emoji, skin, set, data);\n};\n\nvar _handleClick = function _handleClick(e, props) {\n  if (!props.onClick) {\n    return;\n  }\n\n  var onClick = props.onClick,\n      emoji = _getSanitizedData(props);\n\n  onClick(emoji, e);\n};\n\nvar _handleOver = function _handleOver(e, props) {\n  if (!props.onOver) {\n    return;\n  }\n\n  var onOver = props.onOver,\n      emoji = _getSanitizedData(props);\n\n  onOver(emoji, e);\n};\n\nvar _handleLeave = function _handleLeave(e, props) {\n  if (!props.onLeave) {\n    return;\n  }\n\n  var onLeave = props.onLeave,\n      emoji = _getSanitizedData(props);\n\n  onLeave(emoji, e);\n};\n\nvar _isNumeric = function _isNumeric(value) {\n  return !isNaN(value - parseFloat(value));\n};\n\nvar _convertStyleToCSS = function _convertStyleToCSS(style) {\n  var div = document.createElement('div');\n\n  for (var key in style) {\n    var value = style[key];\n\n    if (_isNumeric(value)) {\n      value += 'px';\n    }\n\n    div.style[key] = value;\n  }\n\n  return div.getAttribute('style');\n};\n\nvar NimbleEmoji = function NimbleEmoji(props) {\n  if (props.data.compressed) {\n    uncompress(props.data);\n  }\n\n  for (var k in NimbleEmoji.defaultProps) {\n    if (props[k] == undefined && NimbleEmoji.defaultProps[k] != undefined) {\n      props[k] = NimbleEmoji.defaultProps[k];\n    }\n  }\n\n  var data = _getData(props);\n\n  if (!data) {\n    if (props.fallback) {\n      return props.fallback(null, props);\n    } else {\n      return null;\n    }\n  }\n\n  var unified = data.unified,\n      custom = data.custom,\n      short_names = data.short_names,\n      imageUrl = data.imageUrl,\n      style = {},\n      children = props.children,\n      className = 'emoji-mart-emoji',\n      nativeEmoji = unified && unifiedToNative(unified),\n      label = [nativeEmoji].concat(short_names).filter(Boolean).join(', '),\n      title = null;\n\n  if (!unified && !custom) {\n    if (props.fallback) {\n      return props.fallback(data, props);\n    } else {\n      return null;\n    }\n  }\n\n  if (props.tooltip) {\n    title = short_names[0];\n  }\n\n  if (props[\"native\"] && unified) {\n    className += ' emoji-mart-emoji-native';\n    style = {\n      fontSize: props.size\n    };\n    children = nativeEmoji;\n\n    if (props.forceSize) {\n      style.display = 'inline-block';\n      style.width = props.size;\n      style.height = props.size;\n      style.wordBreak = 'keep-all';\n    }\n  } else if (custom) {\n    className += ' emoji-mart-emoji-custom';\n    style = {\n      width: props.size,\n      height: props.size,\n      display: 'inline-block'\n    };\n\n    if (data.spriteUrl) {\n      style = _objectSpread(_objectSpread({}, style), {}, {\n        backgroundImage: \"url(\".concat(data.spriteUrl, \")\"),\n        backgroundSize: \"\".concat(100 * props.sheetColumns, \"% \").concat(100 * props.sheetRows, \"%\"),\n        backgroundPosition: _getPosition(props)\n      });\n    } else {\n      style = _objectSpread(_objectSpread({}, style), {}, {\n        backgroundImage: \"url(\".concat(imageUrl, \")\"),\n        backgroundSize: 'contain',\n        backgroundRepeat: 'no-repeat',\n        backgroundPosition: 'center'\n      });\n\n      if (props.lazy) {\n        delete style.backgroundImage;\n        delete style.backgroundSize;\n        delete style.backgroundRepeat;\n        delete style.backgroundPosition;\n        style.objectFit = 'contain';\n      }\n    }\n  } else {\n    var setHasEmoji = data[\"has_img_\".concat(props.set)] == undefined || data[\"has_img_\".concat(props.set)];\n\n    if (!setHasEmoji) {\n      if (props.fallback) {\n        return props.fallback(data, props);\n      } else {\n        return null;\n      }\n    } else {\n      style = {\n        width: props.size,\n        height: props.size,\n        display: 'inline-block',\n        backgroundImage: \"url(\".concat(props.backgroundImageFn(props.set, props.sheetSize), \")\"),\n        backgroundSize: \"\".concat(100 * props.sheetColumns, \"% \").concat(100 * props.sheetRows, \"%\"),\n        backgroundPosition: _getPosition(props)\n      };\n    }\n  }\n\n  var Tag = {\n    name: 'span',\n    props: {}\n  };\n\n  if (props.onClick && props.useButton) {\n    Tag.name = 'button';\n    Tag.props = {\n      type: 'button'\n    };\n  }\n\n  if (props.html) {\n    style = _convertStyleToCSS(style);\n    return \"<\".concat(Tag.name, \" style='\").concat(style, \"' aria-label='\").concat(label, \"' \").concat(title ? \"title='\".concat(title, \"'\") : '', \" class='\").concat(className, \"'>\").concat(children || '', \"</\").concat(Tag.name, \">\");\n  } else {\n    return /*#__PURE__*/React.createElement(Tag.name, _extends({\n      onClick: function onClick(e) {\n        return _handleClick(e, props);\n      },\n      onMouseEnter: function onMouseEnter(e) {\n        return _handleOver(e, props);\n      },\n      onMouseLeave: function onMouseLeave(e) {\n        return _handleLeave(e, props);\n      },\n      onContextMenu: function onContextMenu(e) {\n        return e.preventDefault();\n      },\n      \"aria-label\": label,\n      title: title,\n      className: className\n    }, Tag.props), custom && !data.spriteUrl && props.lazy ? /*#__PURE__*/React.createElement(\"img\", {\n      style: style,\n      className: \"lazy\",\n      src: \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP89B8AAukB8/71MdcAAAAASUVORK5CYII=\",\n      \"data-src\": imageUrl,\n      onContextMenu: function onContextMenu(e) {\n        return e.preventDefault();\n      }\n    }) : /*#__PURE__*/React.createElement(\"span\", {\n      style: style\n    }, children));\n  }\n};\n\nNimbleEmoji.propTypes\n/* remove-proptypes */\n= _objectSpread(_objectSpread({}, EmojiPropTypes), {}, {\n  data: PropTypes.object.isRequired\n});\nNimbleEmoji.defaultProps = EmojiDefaultProps;\nexport default NimbleEmoji;","import React from 'react';\nvar categories = {\n  activity: function activity() {\n    return /*#__PURE__*/React.createElement(\"svg\", {\n      xmlns: \"http://www.w3.org/2000/svg\",\n      viewBox: \"0 0 24 24\",\n      width: \"24\",\n      height: \"24\"\n    }, /*#__PURE__*/React.createElement(\"path\", {\n      d: \"M12 0C5.373 0 0 5.372 0 12c0 6.627 5.373 12 12 12 6.628 0 12-5.373 12-12 0-6.628-5.372-12-12-12m9.949 11H17.05c.224-2.527 1.232-4.773 1.968-6.113A9.966 9.966 0 0 1 21.949 11M13 11V2.051a9.945 9.945 0 0 1 4.432 1.564c-.858 1.491-2.156 4.22-2.392 7.385H13zm-2 0H8.961c-.238-3.165-1.536-5.894-2.393-7.385A9.95 9.95 0 0 1 11 2.051V11zm0 2v8.949a9.937 9.937 0 0 1-4.432-1.564c.857-1.492 2.155-4.221 2.393-7.385H11zm4.04 0c.236 3.164 1.534 5.893 2.392 7.385A9.92 9.92 0 0 1 13 21.949V13h2.04zM4.982 4.887C5.718 6.227 6.726 8.473 6.951 11h-4.9a9.977 9.977 0 0 1 2.931-6.113M2.051 13h4.9c-.226 2.527-1.233 4.771-1.969 6.113A9.972 9.972 0 0 1 2.051 13m16.967 6.113c-.735-1.342-1.744-3.586-1.968-6.113h4.899a9.961 9.961 0 0 1-2.931 6.113\"\n    }));\n  },\n  custom: function custom() {\n    return /*#__PURE__*/React.createElement(\"svg\", {\n      xmlns: \"http://www.w3.org/2000/svg\",\n      viewBox: \"0 0 24 24\",\n      width: \"24\",\n      height: \"24\"\n    }, /*#__PURE__*/React.createElement(\"g\", {\n      transform: \"translate(2.000000, 1.000000)\"\n    }, /*#__PURE__*/React.createElement(\"rect\", {\n      id: \"Rectangle\",\n      x: \"8\",\n      y: \"0\",\n      width: \"3\",\n      height: \"21\",\n      rx: \"1.5\"\n    }), /*#__PURE__*/React.createElement(\"rect\", {\n      id: \"Rectangle\",\n      transform: \"translate(9.843, 10.549) rotate(60) translate(-9.843, -10.549) \",\n      x: \"8.343\",\n      y: \"0.049\",\n      width: \"3\",\n      height: \"21\",\n      rx: \"1.5\"\n    }), /*#__PURE__*/React.createElement(\"rect\", {\n      id: \"Rectangle\",\n      transform: \"translate(9.843, 10.549) rotate(-60) translate(-9.843, -10.549) \",\n      x: \"8.343\",\n      y: \"0.049\",\n      width: \"3\",\n      height: \"21\",\n      rx: \"1.5\"\n    })));\n  },\n  flags: function flags() {\n    return /*#__PURE__*/React.createElement(\"svg\", {\n      xmlns: \"http://www.w3.org/2000/svg\",\n      viewBox: \"0 0 24 24\",\n      width: \"24\",\n      height: \"24\"\n    }, /*#__PURE__*/React.createElement(\"path\", {\n      d: \"M0 0l6.084 24H8L1.916 0zM21 5h-4l-1-4H4l3 12h3l1 4h13L21 5zM6.563 3h7.875l2 8H8.563l-2-8zm8.832 10l-2.856 1.904L12.063 13h3.332zM19 13l-1.5-6h1.938l2 8H16l3-2z\"\n    }));\n  },\n  foods: function foods() {\n    return /*#__PURE__*/React.createElement(\"svg\", {\n      xmlns: \"http://www.w3.org/2000/svg\",\n      viewBox: \"0 0 24 24\",\n      width: \"24\",\n      height: \"24\"\n    }, /*#__PURE__*/React.createElement(\"path\", {\n      d: \"M17 4.978c-1.838 0-2.876.396-3.68.934.513-1.172 1.768-2.934 4.68-2.934a1 1 0 0 0 0-2c-2.921 0-4.629 1.365-5.547 2.512-.064.078-.119.162-.18.244C11.73 1.838 10.798.023 9.207.023 8.579.022 7.85.306 7 .978 5.027 2.54 5.329 3.902 6.492 4.999 3.609 5.222 0 7.352 0 12.969c0 4.582 4.961 11.009 9 11.009 1.975 0 2.371-.486 3-1 .629.514 1.025 1 3 1 4.039 0 9-6.418 9-11 0-5.953-4.055-8-7-8M8.242 2.546c.641-.508.943-.523.965-.523.426.169.975 1.405 1.357 3.055-1.527-.629-2.741-1.352-2.98-1.846.059-.112.241-.356.658-.686M15 21.978c-1.08 0-1.21-.109-1.559-.402l-.176-.146c-.367-.302-.816-.452-1.266-.452s-.898.15-1.266.452l-.176.146c-.347.292-.477.402-1.557.402-2.813 0-7-5.389-7-9.009 0-5.823 4.488-5.991 5-5.991 1.939 0 2.484.471 3.387 1.251l.323.276a1.995 1.995 0 0 0 2.58 0l.323-.276c.902-.78 1.447-1.251 3.387-1.251.512 0 5 .168 5 6 0 3.617-4.187 9-7 9\"\n    }));\n  },\n  nature: function nature() {\n    return /*#__PURE__*/React.createElement(\"svg\", {\n      xmlns: \"http://www.w3.org/2000/svg\",\n      viewBox: \"0 0 24 24\",\n      width: \"24\",\n      height: \"24\"\n    }, /*#__PURE__*/React.createElement(\"path\", {\n      d: \"M15.5 8a1.5 1.5 0 1 0 .001 3.001A1.5 1.5 0 0 0 15.5 8M8.5 8a1.5 1.5 0 1 0 .001 3.001A1.5 1.5 0 0 0 8.5 8\"\n    }), /*#__PURE__*/React.createElement(\"path\", {\n      d: \"M18.933 0h-.027c-.97 0-2.138.787-3.018 1.497-1.274-.374-2.612-.51-3.887-.51-1.285 0-2.616.133-3.874.517C7.245.79 6.069 0 5.093 0h-.027C3.352 0 .07 2.67.002 7.026c-.039 2.479.276 4.238 1.04 5.013.254.258.882.677 1.295.882.191 3.177.922 5.238 2.536 6.38.897.637 2.187.949 3.2 1.102C8.04 20.6 8 20.795 8 21c0 1.773 2.35 3 4 3 1.648 0 4-1.227 4-3 0-.201-.038-.393-.072-.586 2.573-.385 5.435-1.877 5.925-7.587.396-.22.887-.568 1.104-.788.763-.774 1.079-2.534 1.04-5.013C23.929 2.67 20.646 0 18.933 0M3.223 9.135c-.237.281-.837 1.155-.884 1.238-.15-.41-.368-1.349-.337-3.291.051-3.281 2.478-4.972 3.091-5.031.256.015.731.27 1.265.646-1.11 1.171-2.275 2.915-2.352 5.125-.133.546-.398.858-.783 1.313M12 22c-.901 0-1.954-.693-2-1 0-.654.475-1.236 1-1.602V20a1 1 0 1 0 2 0v-.602c.524.365 1 .947 1 1.602-.046.307-1.099 1-2 1m3-3.48v.02a4.752 4.752 0 0 0-1.262-1.02c1.092-.516 2.239-1.334 2.239-2.217 0-1.842-1.781-2.195-3.977-2.195-2.196 0-3.978.354-3.978 2.195 0 .883 1.148 1.701 2.238 2.217A4.8 4.8 0 0 0 9 18.539v-.025c-1-.076-2.182-.281-2.973-.842-1.301-.92-1.838-3.045-1.853-6.478l.023-.041c.496-.826 1.49-1.45 1.804-3.102 0-2.047 1.357-3.631 2.362-4.522C9.37 3.178 10.555 3 11.948 3c1.447 0 2.685.192 3.733.57 1 .9 2.316 2.465 2.316 4.48.313 1.651 1.307 2.275 1.803 3.102.035.058.068.117.102.178-.059 5.967-1.949 7.01-4.902 7.19m6.628-8.202c-.037-.065-.074-.13-.113-.195a7.587 7.587 0 0 0-.739-.987c-.385-.455-.648-.768-.782-1.313-.076-2.209-1.241-3.954-2.353-5.124.531-.376 1.004-.63 1.261-.647.636.071 3.044 1.764 3.096 5.031.027 1.81-.347 3.218-.37 3.235\"\n    }));\n  },\n  objects: function objects() {\n    return /*#__PURE__*/React.createElement(\"svg\", {\n      xmlns: \"http://www.w3.org/2000/svg\",\n      viewBox: \"0 0 24 24\",\n      width: \"24\",\n      height: \"24\"\n    }, /*#__PURE__*/React.createElement(\"path\", {\n      d: \"M12 0a9 9 0 0 0-5 16.482V21s2.035 3 5 3 5-3 5-3v-4.518A9 9 0 0 0 12 0zm0 2c3.86 0 7 3.141 7 7s-3.14 7-7 7-7-3.141-7-7 3.14-7 7-7zM9 17.477c.94.332 1.946.523 3 .523s2.06-.19 3-.523v.834c-.91.436-1.925.689-3 .689a6.924 6.924 0 0 1-3-.69v-.833zm.236 3.07A8.854 8.854 0 0 0 12 21c.965 0 1.888-.167 2.758-.451C14.155 21.173 13.153 22 12 22c-1.102 0-2.117-.789-2.764-1.453z\"\n    }), /*#__PURE__*/React.createElement(\"path\", {\n      d: \"M14.745 12.449h-.004c-.852-.024-1.188-.858-1.577-1.824-.421-1.061-.703-1.561-1.182-1.566h-.009c-.481 0-.783.497-1.235 1.537-.436.982-.801 1.811-1.636 1.791l-.276-.043c-.565-.171-.853-.691-1.284-1.794-.125-.313-.202-.632-.27-.913-.051-.213-.127-.53-.195-.634C7.067 9.004 7.039 9 6.99 9A1 1 0 0 1 7 7h.01c1.662.017 2.015 1.373 2.198 2.134.486-.981 1.304-2.058 2.797-2.075 1.531.018 2.28 1.153 2.731 2.141l.002-.008C14.944 8.424 15.327 7 16.979 7h.032A1 1 0 1 1 17 9h-.011c-.149.076-.256.474-.319.709a6.484 6.484 0 0 1-.311.951c-.429.973-.79 1.789-1.614 1.789\"\n    }));\n  },\n  people: function people() {\n    return /*#__PURE__*/React.createElement(\"svg\", {\n      xmlns: \"http://www.w3.org/2000/svg\",\n      viewBox: \"0 0 24 24\",\n      width: \"24\",\n      height: \"24\"\n    }, /*#__PURE__*/React.createElement(\"path\", {\n      d: \"M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0m0 22C6.486 22 2 17.514 2 12S6.486 2 12 2s10 4.486 10 10-4.486 10-10 10\"\n    }), /*#__PURE__*/React.createElement(\"path\", {\n      d: \"M8 7a2 2 0 1 0-.001 3.999A2 2 0 0 0 8 7M16 7a2 2 0 1 0-.001 3.999A2 2 0 0 0 16 7M15.232 15c-.693 1.195-1.87 2-3.349 2-1.477 0-2.655-.805-3.347-2H15m3-2H6a6 6 0 1 0 12 0\"\n    }));\n  },\n  places: function places() {\n    return /*#__PURE__*/React.createElement(\"svg\", {\n      xmlns: \"http://www.w3.org/2000/svg\",\n      viewBox: \"0 0 24 24\",\n      width: \"24\",\n      height: \"24\"\n    }, /*#__PURE__*/React.createElement(\"path\", {\n      d: \"M6.5 12C5.122 12 4 13.121 4 14.5S5.122 17 6.5 17 9 15.879 9 14.5 7.878 12 6.5 12m0 3c-.275 0-.5-.225-.5-.5s.225-.5.5-.5.5.225.5.5-.225.5-.5.5M17.5 12c-1.378 0-2.5 1.121-2.5 2.5s1.122 2.5 2.5 2.5 2.5-1.121 2.5-2.5-1.122-2.5-2.5-2.5m0 3c-.275 0-.5-.225-.5-.5s.225-.5.5-.5.5.225.5.5-.225.5-.5.5\"\n    }), /*#__PURE__*/React.createElement(\"path\", {\n      d: \"M22.482 9.494l-1.039-.346L21.4 9h.6c.552 0 1-.439 1-.992 0-.006-.003-.008-.003-.008H23c0-1-.889-2-1.984-2h-.642l-.731-1.717C19.262 3.012 18.091 2 16.764 2H7.236C5.909 2 4.738 3.012 4.357 4.283L3.626 6h-.642C1.889 6 1 7 1 8h.003S1 8.002 1 8.008C1 8.561 1.448 9 2 9h.6l-.043.148-1.039.346a2.001 2.001 0 0 0-1.359 2.097l.751 7.508a1 1 0 0 0 .994.901H3v1c0 1.103.896 2 2 2h2c1.104 0 2-.897 2-2v-1h6v1c0 1.103.896 2 2 2h2c1.104 0 2-.897 2-2v-1h1.096a.999.999 0 0 0 .994-.901l.751-7.508a2.001 2.001 0 0 0-1.359-2.097M6.273 4.857C6.402 4.43 6.788 4 7.236 4h9.527c.448 0 .834.43.963.857L19.313 9H4.688l1.585-4.143zM7 21H5v-1h2v1zm12 0h-2v-1h2v1zm2.189-3H2.811l-.662-6.607L3 11h18l.852.393L21.189 18z\"\n    }));\n  },\n  recent: function recent() {\n    return /*#__PURE__*/React.createElement(\"svg\", {\n      xmlns: \"http://www.w3.org/2000/svg\",\n      viewBox: \"0 0 24 24\",\n      width: \"24\",\n      height: \"24\"\n    }, /*#__PURE__*/React.createElement(\"path\", {\n      d: \"M13 4h-2l-.001 7H9v2h2v2h2v-2h4v-2h-4z\"\n    }), /*#__PURE__*/React.createElement(\"path\", {\n      d: \"M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0m0 22C6.486 22 2 17.514 2 12S6.486 2 12 2s10 4.486 10 10-4.486 10-10 10\"\n    }));\n  },\n  symbols: function symbols() {\n    return /*#__PURE__*/React.createElement(\"svg\", {\n      xmlns: \"http://www.w3.org/2000/svg\",\n      viewBox: \"0 0 24 24\",\n      width: \"24\",\n      height: \"24\"\n    }, /*#__PURE__*/React.createElement(\"path\", {\n      d: \"M0 0h11v2H0zM4 11h3V6h4V4H0v2h4zM15.5 17c1.381 0 2.5-1.116 2.5-2.493s-1.119-2.493-2.5-2.493S13 13.13 13 14.507 14.119 17 15.5 17m0-2.986c.276 0 .5.222.5.493 0 .272-.224.493-.5.493s-.5-.221-.5-.493.224-.493.5-.493M21.5 19.014c-1.381 0-2.5 1.116-2.5 2.493S20.119 24 21.5 24s2.5-1.116 2.5-2.493-1.119-2.493-2.5-2.493m0 2.986a.497.497 0 0 1-.5-.493c0-.271.224-.493.5-.493s.5.222.5.493a.497.497 0 0 1-.5.493M22 13l-9 9 1.513 1.5 8.99-9.009zM17 11c2.209 0 4-1.119 4-2.5V2s.985-.161 1.498.949C23.01 4.055 23 6 23 6s1-1.119 1-3.135C24-.02 21 0 21 0h-2v6.347A5.853 5.853 0 0 0 17 6c-2.209 0-4 1.119-4 2.5s1.791 2.5 4 2.5M10.297 20.482l-1.475-1.585a47.54 47.54 0 0 1-1.442 1.129c-.307-.288-.989-1.016-2.045-2.183.902-.836 1.479-1.466 1.729-1.892s.376-.871.376-1.336c0-.592-.273-1.178-.818-1.759-.546-.581-1.329-.871-2.349-.871-1.008 0-1.79.293-2.344.879-.556.587-.832 1.181-.832 1.784 0 .813.419 1.748 1.256 2.805-.847.614-1.444 1.208-1.794 1.784a3.465 3.465 0 0 0-.523 1.833c0 .857.308 1.56.924 2.107.616.549 1.423.823 2.42.823 1.173 0 2.444-.379 3.813-1.137L8.235 24h2.819l-2.09-2.383 1.333-1.135zm-6.736-6.389a1.02 1.02 0 0 1 .73-.286c.31 0 .559.085.747.254a.849.849 0 0 1 .283.659c0 .518-.419 1.112-1.257 1.784-.536-.651-.805-1.231-.805-1.742a.901.901 0 0 1 .302-.669M3.74 22c-.427 0-.778-.116-1.057-.349-.279-.232-.418-.487-.418-.766 0-.594.509-1.288 1.527-2.083.968 1.134 1.717 1.946 2.248 2.438-.921.507-1.686.76-2.3.76\"\n    }));\n  }\n};\nvar search = {\n  search: function search() {\n    return /*#__PURE__*/React.createElement(\"svg\", {\n      xmlns: \"http://www.w3.org/2000/svg\",\n      width: \"13\",\n      height: \"13\",\n      viewBox: \"0 0 20 20\",\n      opacity: \"0.5\"\n    }, /*#__PURE__*/React.createElement(\"path\", {\n      d: \"M12.9 14.32a8 8 0 1 1 1.41-1.41l5.35 5.33-1.42 1.42-5.33-5.34zM8 14A6 6 0 1 0 8 2a6 6 0 0 0 0 12z\"\n    }));\n  },\n  \"delete\": function _delete() {\n    return /*#__PURE__*/React.createElement(\"svg\", {\n      xmlns: \"http://www.w3.org/2000/svg\",\n      width: \"13\",\n      height: \"13\",\n      viewBox: \"0 0 20 20\",\n      opacity: \"0.5\"\n    }, /*#__PURE__*/React.createElement(\"path\", {\n      d: \"M10 8.586L2.929 1.515 1.515 2.929 8.586 10l-7.071 7.071 1.414 1.414L10 11.414l7.071 7.071 1.414-1.414L11.414 10l7.071-7.071-1.414-1.414L10 8.586z\"\n    }));\n  }\n};\nexport { categories, search };","var NAMESPACE = 'emoji-mart';\nvar isLocalStorageSupported = typeof window !== 'undefined' && 'localStorage' in window;\nvar getter;\nvar setter;\n\nfunction setHandlers(handlers) {\n  handlers || (handlers = {});\n  getter = handlers.getter;\n  setter = handlers.setter;\n}\n\nfunction setNamespace(namespace) {\n  NAMESPACE = namespace;\n}\n\nfunction update(state) {\n  for (var key in state) {\n    var value = state[key];\n    set(key, value);\n  }\n}\n\nfunction set(key, value) {\n  if (setter) {\n    setter(key, value);\n  } else {\n    if (!isLocalStorageSupported) return;\n\n    try {\n      window.localStorage[\"\".concat(NAMESPACE, \".\").concat(key)] = JSON.stringify(value);\n    } catch (e) {}\n  }\n}\n\nfunction get(key) {\n  if (getter) {\n    return getter(key);\n  } else {\n    if (!isLocalStorageSupported) return;\n\n    try {\n      var value = window.localStorage[\"\".concat(NAMESPACE, \".\").concat(key)];\n\n      if (value) {\n        return JSON.parse(value);\n      }\n    } catch (e) {\n      return;\n    }\n  }\n}\n\nexport default {\n  update: update,\n  set: set,\n  get: get,\n  setNamespace: setNamespace,\n  setHandlers: setHandlers\n};","import store from './store';\nvar DEFAULTS = ['+1', 'grinning', 'kissing_heart', 'heart_eyes', 'laughing', 'stuck_out_tongue_winking_eye', 'sweat_smile', 'joy', 'scream', 'disappointed', 'unamused', 'weary', 'sob', 'sunglasses', 'heart', 'poop'];\nvar frequently, initialized;\nvar defaults = {};\n\nfunction init() {\n  initialized = true;\n  frequently = store.get('frequently');\n}\n\nfunction add(emoji) {\n  if (!initialized) init();\n  var id = emoji.id;\n  frequently || (frequently = defaults);\n  frequently[id] || (frequently[id] = 0);\n  frequently[id] += 1;\n  store.set('last', id);\n  store.set('frequently', frequently);\n}\n\nfunction get(perLine) {\n  if (!initialized) init();\n\n  if (!frequently) {\n    defaults = {};\n    var result = [];\n\n    for (var i = 0; i < perLine; i++) {\n      defaults[DEFAULTS[i]] = perLine - i;\n      result.push(DEFAULTS[i]);\n    }\n\n    return result;\n  }\n\n  var quantity = perLine * 4;\n  var frequentlyKeys = [];\n\n  for (var key in frequently) {\n    if (frequently.hasOwnProperty(key)) {\n      frequentlyKeys.push(key);\n    }\n  }\n\n  var sorted = frequentlyKeys.sort(function (a, b) {\n    return frequently[a] - frequently[b];\n  }).reverse();\n  var sliced = sorted.slice(0, quantity);\n  var last = store.get('last');\n\n  if (last && sliced.indexOf(last) == -1) {\n    sliced.pop();\n    sliced.push(last);\n  }\n\n  return sliced;\n}\n\nexport default {\n  add: add,\n  get: get\n};","import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nvar Anchors = /*#__PURE__*/function (_React$PureComponent) {\n  _inherits(Anchors, _React$PureComponent);\n\n  var _super = _createSuper(Anchors);\n\n  function Anchors(props) {\n    var _this;\n\n    _classCallCheck(this, Anchors);\n\n    _this = _super.call(this, props);\n    var defaultCategory = props.categories.filter(function (category) {\n      return category.first;\n    })[0];\n    _this.state = {\n      selected: defaultCategory.name\n    };\n    _this.handleClick = _this.handleClick.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(Anchors, [{\n    key: \"handleClick\",\n    value: function handleClick(e) {\n      var index = e.currentTarget.getAttribute('data-index');\n      var _this$props = this.props,\n          categories = _this$props.categories,\n          onAnchorClick = _this$props.onAnchorClick;\n      onAnchorClick(categories[index], index);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props2 = this.props,\n          categories = _this$props2.categories,\n          color = _this$props2.color,\n          i18n = _this$props2.i18n,\n          icons = _this$props2.icons,\n          selected = this.state.selected;\n      return /*#__PURE__*/React.createElement(\"nav\", {\n        className: \"emoji-mart-anchors\",\n        \"aria-label\": i18n.categorieslabel\n      }, categories.map(function (category, i) {\n        var id = category.id,\n            name = category.name,\n            anchor = category.anchor,\n            isSelected = name == selected;\n\n        if (anchor === false) {\n          return null;\n        }\n\n        var iconId = id.startsWith('custom-') ? 'custom' : id;\n        return /*#__PURE__*/React.createElement(\"button\", {\n          key: id,\n          \"aria-label\": i18n.categories[iconId],\n          title: i18n.categories[iconId],\n          \"data-index\": i,\n          type: 'button',\n          onClick: _this2.handleClick,\n          className: \"emoji-mart-anchor \".concat(isSelected ? 'emoji-mart-anchor-selected' : ''),\n          style: {\n            color: isSelected ? color : null\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"emoji-mart-anchor-icon\"\n        }, icons.categories[iconId]()), /*#__PURE__*/React.createElement(\"span\", {\n          className: \"emoji-mart-anchor-bar\",\n          style: {\n            backgroundColor: color\n          }\n        }));\n      }));\n    }\n  }]);\n\n  return Anchors;\n}(React.PureComponent);\n\nexport { Anchors as default };\nAnchors.propTypes\n/* remove-proptypes */\n= {\n  categories: PropTypes.array,\n  onAnchorClick: PropTypes.func,\n  icons: PropTypes.object\n};\nAnchors.defaultProps = {\n  categories: [],\n  onAnchorClick: function onAnchorClick() {},\n  icons: {}\n};","import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport NimbleEmoji from './emoji/nimble-emoji';\n\nvar NotFound = /*#__PURE__*/function (_React$PureComponent) {\n  _inherits(NotFound, _React$PureComponent);\n\n  var _super = _createSuper(NotFound);\n\n  function NotFound() {\n    _classCallCheck(this, NotFound);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(NotFound, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          data = _this$props.data,\n          emojiProps = _this$props.emojiProps,\n          i18n = _this$props.i18n,\n          notFound = _this$props.notFound,\n          notFoundEmoji = _this$props.notFoundEmoji;\n      var component = notFound && notFound() || /*#__PURE__*/React.createElement(\"div\", {\n        className: \"emoji-mart-no-results\"\n      }, NimbleEmoji(_objectSpread(_objectSpread({\n        data: data\n      }, emojiProps), {}, {\n        size: 38,\n        emoji: notFoundEmoji,\n        onOver: null,\n        onLeave: null,\n        onClick: null\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"emoji-mart-no-results-label\"\n      }, i18n.notfound));\n      return component;\n    }\n  }]);\n\n  return NotFound;\n}(React.PureComponent);\n\nexport { NotFound as default };\nNotFound.propTypes\n/* remove-proptypes */\n= {\n  notFound: PropTypes.func.isRequired,\n  emojiProps: PropTypes.object.isRequired\n};","/**\n * Copyright 2016 Google Inc. All Rights Reserved.\n *\n * Licensed under the W3C SOFTWARE AND DOCUMENT NOTICE AND LICENSE.\n *\n *  https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document\n *\n */\n(function() {\n'use strict';\n\n// Exit early if we're not running in a browser.\nif (typeof window !== 'object') {\n  return;\n}\n\n// Exit early if all IntersectionObserver and IntersectionObserverEntry\n// features are natively supported.\nif ('IntersectionObserver' in window &&\n    'IntersectionObserverEntry' in window &&\n    'intersectionRatio' in window.IntersectionObserverEntry.prototype) {\n\n  // Minimal polyfill for Edge 15's lack of `isIntersecting`\n  // See: https://github.com/w3c/IntersectionObserver/issues/211\n  if (!('isIntersecting' in window.IntersectionObserverEntry.prototype)) {\n    Object.defineProperty(window.IntersectionObserverEntry.prototype,\n      'isIntersecting', {\n      get: function () {\n        return this.intersectionRatio > 0;\n      }\n    });\n  }\n  return;\n}\n\n/**\n * Returns the embedding frame element, if any.\n * @param {!Document} doc\n * @return {!Element}\n */\nfunction getFrameElement(doc) {\n  try {\n    return doc.defaultView && doc.defaultView.frameElement || null;\n  } catch (e) {\n    // Ignore the error.\n    return null;\n  }\n}\n\n/**\n * A local reference to the root document.\n */\nvar document = (function(startDoc) {\n  var doc = startDoc;\n  var frame = getFrameElement(doc);\n  while (frame) {\n    doc = frame.ownerDocument;\n    frame = getFrameElement(doc);\n  }\n  return doc;\n})(window.document);\n\n/**\n * An IntersectionObserver registry. This registry exists to hold a strong\n * reference to IntersectionObserver instances currently observing a target\n * element. Without this registry, instances without another reference may be\n * garbage collected.\n */\nvar registry = [];\n\n/**\n * The signal updater for cross-origin intersection. When not null, it means\n * that the polyfill is configured to work in a cross-origin mode.\n * @type {function(DOMRect|ClientRect, DOMRect|ClientRect)}\n */\nvar crossOriginUpdater = null;\n\n/**\n * The current cross-origin intersection. Only used in the cross-origin mode.\n * @type {DOMRect|ClientRect}\n */\nvar crossOriginRect = null;\n\n\n/**\n * Creates the global IntersectionObserverEntry constructor.\n * https://w3c.github.io/IntersectionObserver/#intersection-observer-entry\n * @param {Object} entry A dictionary of instance properties.\n * @constructor\n */\nfunction IntersectionObserverEntry(entry) {\n  this.time = entry.time;\n  this.target = entry.target;\n  this.rootBounds = ensureDOMRect(entry.rootBounds);\n  this.boundingClientRect = ensureDOMRect(entry.boundingClientRect);\n  this.intersectionRect = ensureDOMRect(entry.intersectionRect || getEmptyRect());\n  this.isIntersecting = !!entry.intersectionRect;\n\n  // Calculates the intersection ratio.\n  var targetRect = this.boundingClientRect;\n  var targetArea = targetRect.width * targetRect.height;\n  var intersectionRect = this.intersectionRect;\n  var intersectionArea = intersectionRect.width * intersectionRect.height;\n\n  // Sets intersection ratio.\n  if (targetArea) {\n    // Round the intersection ratio to avoid floating point math issues:\n    // https://github.com/w3c/IntersectionObserver/issues/324\n    this.intersectionRatio = Number((intersectionArea / targetArea).toFixed(4));\n  } else {\n    // If area is zero and is intersecting, sets to 1, otherwise to 0\n    this.intersectionRatio = this.isIntersecting ? 1 : 0;\n  }\n}\n\n\n/**\n * Creates the global IntersectionObserver constructor.\n * https://w3c.github.io/IntersectionObserver/#intersection-observer-interface\n * @param {Function} callback The function to be invoked after intersection\n *     changes have queued. The function is not invoked if the queue has\n *     been emptied by calling the `takeRecords` method.\n * @param {Object=} opt_options Optional configuration options.\n * @constructor\n */\nfunction IntersectionObserver(callback, opt_options) {\n\n  var options = opt_options || {};\n\n  if (typeof callback != 'function') {\n    throw new Error('callback must be a function');\n  }\n\n  if (\n    options.root &&\n    options.root.nodeType != 1 &&\n    options.root.nodeType != 9\n  ) {\n    throw new Error('root must be a Document or Element');\n  }\n\n  // Binds and throttles `this._checkForIntersections`.\n  this._checkForIntersections = throttle(\n      this._checkForIntersections.bind(this), this.THROTTLE_TIMEOUT);\n\n  // Private properties.\n  this._callback = callback;\n  this._observationTargets = [];\n  this._queuedEntries = [];\n  this._rootMarginValues = this._parseRootMargin(options.rootMargin);\n\n  // Public properties.\n  this.thresholds = this._initThresholds(options.threshold);\n  this.root = options.root || null;\n  this.rootMargin = this._rootMarginValues.map(function(margin) {\n    return margin.value + margin.unit;\n  }).join(' ');\n\n  /** @private @const {!Array<!Document>} */\n  this._monitoringDocuments = [];\n  /** @private @const {!Array<function()>} */\n  this._monitoringUnsubscribes = [];\n}\n\n\n/**\n * The minimum interval within which the document will be checked for\n * intersection changes.\n */\nIntersectionObserver.prototype.THROTTLE_TIMEOUT = 100;\n\n\n/**\n * The frequency in which the polyfill polls for intersection changes.\n * this can be updated on a per instance basis and must be set prior to\n * calling `observe` on the first target.\n */\nIntersectionObserver.prototype.POLL_INTERVAL = null;\n\n/**\n * Use a mutation observer on the root element\n * to detect intersection changes.\n */\nIntersectionObserver.prototype.USE_MUTATION_OBSERVER = true;\n\n\n/**\n * Sets up the polyfill in the cross-origin mode. The result is the\n * updater function that accepts two arguments: `boundingClientRect` and\n * `intersectionRect` - just as these fields would be available to the\n * parent via `IntersectionObserverEntry`. This function should be called\n * each time the iframe receives intersection information from the parent\n * window, e.g. via messaging.\n * @return {function(DOMRect|ClientRect, DOMRect|ClientRect)}\n */\nIntersectionObserver._setupCrossOriginUpdater = function() {\n  if (!crossOriginUpdater) {\n    /**\n     * @param {DOMRect|ClientRect} boundingClientRect\n     * @param {DOMRect|ClientRect} intersectionRect\n     */\n    crossOriginUpdater = function(boundingClientRect, intersectionRect) {\n      if (!boundingClientRect || !intersectionRect) {\n        crossOriginRect = getEmptyRect();\n      } else {\n        crossOriginRect = convertFromParentRect(boundingClientRect, intersectionRect);\n      }\n      registry.forEach(function(observer) {\n        observer._checkForIntersections();\n      });\n    };\n  }\n  return crossOriginUpdater;\n};\n\n\n/**\n * Resets the cross-origin mode.\n */\nIntersectionObserver._resetCrossOriginUpdater = function() {\n  crossOriginUpdater = null;\n  crossOriginRect = null;\n};\n\n\n/**\n * Starts observing a target element for intersection changes based on\n * the thresholds values.\n * @param {Element} target The DOM element to observe.\n */\nIntersectionObserver.prototype.observe = function(target) {\n  var isTargetAlreadyObserved = this._observationTargets.some(function(item) {\n    return item.element == target;\n  });\n\n  if (isTargetAlreadyObserved) {\n    return;\n  }\n\n  if (!(target && target.nodeType == 1)) {\n    throw new Error('target must be an Element');\n  }\n\n  this._registerInstance();\n  this._observationTargets.push({element: target, entry: null});\n  this._monitorIntersections(target.ownerDocument);\n  this._checkForIntersections();\n};\n\n\n/**\n * Stops observing a target element for intersection changes.\n * @param {Element} target The DOM element to observe.\n */\nIntersectionObserver.prototype.unobserve = function(target) {\n  this._observationTargets =\n      this._observationTargets.filter(function(item) {\n        return item.element != target;\n      });\n  this._unmonitorIntersections(target.ownerDocument);\n  if (this._observationTargets.length == 0) {\n    this._unregisterInstance();\n  }\n};\n\n\n/**\n * Stops observing all target elements for intersection changes.\n */\nIntersectionObserver.prototype.disconnect = function() {\n  this._observationTargets = [];\n  this._unmonitorAllIntersections();\n  this._unregisterInstance();\n};\n\n\n/**\n * Returns any queue entries that have not yet been reported to the\n * callback and clears the queue. This can be used in conjunction with the\n * callback to obtain the absolute most up-to-date intersection information.\n * @return {Array} The currently queued entries.\n */\nIntersectionObserver.prototype.takeRecords = function() {\n  var records = this._queuedEntries.slice();\n  this._queuedEntries = [];\n  return records;\n};\n\n\n/**\n * Accepts the threshold value from the user configuration object and\n * returns a sorted array of unique threshold values. If a value is not\n * between 0 and 1 and error is thrown.\n * @private\n * @param {Array|number=} opt_threshold An optional threshold value or\n *     a list of threshold values, defaulting to [0].\n * @return {Array} A sorted list of unique and valid threshold values.\n */\nIntersectionObserver.prototype._initThresholds = function(opt_threshold) {\n  var threshold = opt_threshold || [0];\n  if (!Array.isArray(threshold)) threshold = [threshold];\n\n  return threshold.sort().filter(function(t, i, a) {\n    if (typeof t != 'number' || isNaN(t) || t < 0 || t > 1) {\n      throw new Error('threshold must be a number between 0 and 1 inclusively');\n    }\n    return t !== a[i - 1];\n  });\n};\n\n\n/**\n * Accepts the rootMargin value from the user configuration object\n * and returns an array of the four margin values as an object containing\n * the value and unit properties. If any of the values are not properly\n * formatted or use a unit other than px or %, and error is thrown.\n * @private\n * @param {string=} opt_rootMargin An optional rootMargin value,\n *     defaulting to '0px'.\n * @return {Array<Object>} An array of margin objects with the keys\n *     value and unit.\n */\nIntersectionObserver.prototype._parseRootMargin = function(opt_rootMargin) {\n  var marginString = opt_rootMargin || '0px';\n  var margins = marginString.split(/\\s+/).map(function(margin) {\n    var parts = /^(-?\\d*\\.?\\d+)(px|%)$/.exec(margin);\n    if (!parts) {\n      throw new Error('rootMargin must be specified in pixels or percent');\n    }\n    return {value: parseFloat(parts[1]), unit: parts[2]};\n  });\n\n  // Handles shorthand.\n  margins[1] = margins[1] || margins[0];\n  margins[2] = margins[2] || margins[0];\n  margins[3] = margins[3] || margins[1];\n\n  return margins;\n};\n\n\n/**\n * Starts polling for intersection changes if the polling is not already\n * happening, and if the page's visibility state is visible.\n * @param {!Document} doc\n * @private\n */\nIntersectionObserver.prototype._monitorIntersections = function(doc) {\n  var win = doc.defaultView;\n  if (!win) {\n    // Already destroyed.\n    return;\n  }\n  if (this._monitoringDocuments.indexOf(doc) != -1) {\n    // Already monitoring.\n    return;\n  }\n\n  // Private state for monitoring.\n  var callback = this._checkForIntersections;\n  var monitoringInterval = null;\n  var domObserver = null;\n\n  // If a poll interval is set, use polling instead of listening to\n  // resize and scroll events or DOM mutations.\n  if (this.POLL_INTERVAL) {\n    monitoringInterval = win.setInterval(callback, this.POLL_INTERVAL);\n  } else {\n    addEvent(win, 'resize', callback, true);\n    addEvent(doc, 'scroll', callback, true);\n    if (this.USE_MUTATION_OBSERVER && 'MutationObserver' in win) {\n      domObserver = new win.MutationObserver(callback);\n      domObserver.observe(doc, {\n        attributes: true,\n        childList: true,\n        characterData: true,\n        subtree: true\n      });\n    }\n  }\n\n  this._monitoringDocuments.push(doc);\n  this._monitoringUnsubscribes.push(function() {\n    // Get the window object again. When a friendly iframe is destroyed, it\n    // will be null.\n    var win = doc.defaultView;\n\n    if (win) {\n      if (monitoringInterval) {\n        win.clearInterval(monitoringInterval);\n      }\n      removeEvent(win, 'resize', callback, true);\n    }\n\n    removeEvent(doc, 'scroll', callback, true);\n    if (domObserver) {\n      domObserver.disconnect();\n    }\n  });\n\n  // Also monitor the parent.\n  var rootDoc =\n    (this.root && (this.root.ownerDocument || this.root)) || document;\n  if (doc != rootDoc) {\n    var frame = getFrameElement(doc);\n    if (frame) {\n      this._monitorIntersections(frame.ownerDocument);\n    }\n  }\n};\n\n\n/**\n * Stops polling for intersection changes.\n * @param {!Document} doc\n * @private\n */\nIntersectionObserver.prototype._unmonitorIntersections = function(doc) {\n  var index = this._monitoringDocuments.indexOf(doc);\n  if (index == -1) {\n    return;\n  }\n\n  var rootDoc =\n    (this.root && (this.root.ownerDocument || this.root)) || document;\n\n  // Check if any dependent targets are still remaining.\n  var hasDependentTargets =\n      this._observationTargets.some(function(item) {\n        var itemDoc = item.element.ownerDocument;\n        // Target is in this context.\n        if (itemDoc == doc) {\n          return true;\n        }\n        // Target is nested in this context.\n        while (itemDoc && itemDoc != rootDoc) {\n          var frame = getFrameElement(itemDoc);\n          itemDoc = frame && frame.ownerDocument;\n          if (itemDoc == doc) {\n            return true;\n          }\n        }\n        return false;\n      });\n  if (hasDependentTargets) {\n    return;\n  }\n\n  // Unsubscribe.\n  var unsubscribe = this._monitoringUnsubscribes[index];\n  this._monitoringDocuments.splice(index, 1);\n  this._monitoringUnsubscribes.splice(index, 1);\n  unsubscribe();\n\n  // Also unmonitor the parent.\n  if (doc != rootDoc) {\n    var frame = getFrameElement(doc);\n    if (frame) {\n      this._unmonitorIntersections(frame.ownerDocument);\n    }\n  }\n};\n\n\n/**\n * Stops polling for intersection changes.\n * @param {!Document} doc\n * @private\n */\nIntersectionObserver.prototype._unmonitorAllIntersections = function() {\n  var unsubscribes = this._monitoringUnsubscribes.slice(0);\n  this._monitoringDocuments.length = 0;\n  this._monitoringUnsubscribes.length = 0;\n  for (var i = 0; i < unsubscribes.length; i++) {\n    unsubscribes[i]();\n  }\n};\n\n\n/**\n * Scans each observation target for intersection changes and adds them\n * to the internal entries queue. If new entries are found, it\n * schedules the callback to be invoked.\n * @private\n */\nIntersectionObserver.prototype._checkForIntersections = function() {\n  if (!this.root && crossOriginUpdater && !crossOriginRect) {\n    // Cross origin monitoring, but no initial data available yet.\n    return;\n  }\n\n  var rootIsInDom = this._rootIsInDom();\n  var rootRect = rootIsInDom ? this._getRootRect() : getEmptyRect();\n\n  this._observationTargets.forEach(function(item) {\n    var target = item.element;\n    var targetRect = getBoundingClientRect(target);\n    var rootContainsTarget = this._rootContainsTarget(target);\n    var oldEntry = item.entry;\n    var intersectionRect = rootIsInDom && rootContainsTarget &&\n        this._computeTargetAndRootIntersection(target, targetRect, rootRect);\n\n    var rootBounds = null;\n    if (!this._rootContainsTarget(target)) {\n      rootBounds = getEmptyRect();\n    } else if (!crossOriginUpdater || this.root) {\n      rootBounds = rootRect;\n    }\n\n    var newEntry = item.entry = new IntersectionObserverEntry({\n      time: now(),\n      target: target,\n      boundingClientRect: targetRect,\n      rootBounds: rootBounds,\n      intersectionRect: intersectionRect\n    });\n\n    if (!oldEntry) {\n      this._queuedEntries.push(newEntry);\n    } else if (rootIsInDom && rootContainsTarget) {\n      // If the new entry intersection ratio has crossed any of the\n      // thresholds, add a new entry.\n      if (this._hasCrossedThreshold(oldEntry, newEntry)) {\n        this._queuedEntries.push(newEntry);\n      }\n    } else {\n      // If the root is not in the DOM or target is not contained within\n      // root but the previous entry for this target had an intersection,\n      // add a new record indicating removal.\n      if (oldEntry && oldEntry.isIntersecting) {\n        this._queuedEntries.push(newEntry);\n      }\n    }\n  }, this);\n\n  if (this._queuedEntries.length) {\n    this._callback(this.takeRecords(), this);\n  }\n};\n\n\n/**\n * Accepts a target and root rect computes the intersection between then\n * following the algorithm in the spec.\n * TODO(philipwalton): at this time clip-path is not considered.\n * https://w3c.github.io/IntersectionObserver/#calculate-intersection-rect-algo\n * @param {Element} target The target DOM element\n * @param {Object} targetRect The bounding rect of the target.\n * @param {Object} rootRect The bounding rect of the root after being\n *     expanded by the rootMargin value.\n * @return {?Object} The final intersection rect object or undefined if no\n *     intersection is found.\n * @private\n */\nIntersectionObserver.prototype._computeTargetAndRootIntersection =\n    function(target, targetRect, rootRect) {\n  // If the element isn't displayed, an intersection can't happen.\n  if (window.getComputedStyle(target).display == 'none') return;\n\n  var intersectionRect = targetRect;\n  var parent = getParentNode(target);\n  var atRoot = false;\n\n  while (!atRoot && parent) {\n    var parentRect = null;\n    var parentComputedStyle = parent.nodeType == 1 ?\n        window.getComputedStyle(parent) : {};\n\n    // If the parent isn't displayed, an intersection can't happen.\n    if (parentComputedStyle.display == 'none') return null;\n\n    if (parent == this.root || parent.nodeType == /* DOCUMENT */ 9) {\n      atRoot = true;\n      if (parent == this.root || parent == document) {\n        if (crossOriginUpdater && !this.root) {\n          if (!crossOriginRect ||\n              crossOriginRect.width == 0 && crossOriginRect.height == 0) {\n            // A 0-size cross-origin intersection means no-intersection.\n            parent = null;\n            parentRect = null;\n            intersectionRect = null;\n          } else {\n            parentRect = crossOriginRect;\n          }\n        } else {\n          parentRect = rootRect;\n        }\n      } else {\n        // Check if there's a frame that can be navigated to.\n        var frame = getParentNode(parent);\n        var frameRect = frame && getBoundingClientRect(frame);\n        var frameIntersect =\n            frame &&\n            this._computeTargetAndRootIntersection(frame, frameRect, rootRect);\n        if (frameRect && frameIntersect) {\n          parent = frame;\n          parentRect = convertFromParentRect(frameRect, frameIntersect);\n        } else {\n          parent = null;\n          intersectionRect = null;\n        }\n      }\n    } else {\n      // If the element has a non-visible overflow, and it's not the <body>\n      // or <html> element, update the intersection rect.\n      // Note: <body> and <html> cannot be clipped to a rect that's not also\n      // the document rect, so no need to compute a new intersection.\n      var doc = parent.ownerDocument;\n      if (parent != doc.body &&\n          parent != doc.documentElement &&\n          parentComputedStyle.overflow != 'visible') {\n        parentRect = getBoundingClientRect(parent);\n      }\n    }\n\n    // If either of the above conditionals set a new parentRect,\n    // calculate new intersection data.\n    if (parentRect) {\n      intersectionRect = computeRectIntersection(parentRect, intersectionRect);\n    }\n    if (!intersectionRect) break;\n    parent = parent && getParentNode(parent);\n  }\n  return intersectionRect;\n};\n\n\n/**\n * Returns the root rect after being expanded by the rootMargin value.\n * @return {ClientRect} The expanded root rect.\n * @private\n */\nIntersectionObserver.prototype._getRootRect = function() {\n  var rootRect;\n  if (this.root && !isDoc(this.root)) {\n    rootRect = getBoundingClientRect(this.root);\n  } else {\n    // Use <html>/<body> instead of window since scroll bars affect size.\n    var doc = isDoc(this.root) ? this.root : document;\n    var html = doc.documentElement;\n    var body = doc.body;\n    rootRect = {\n      top: 0,\n      left: 0,\n      right: html.clientWidth || body.clientWidth,\n      width: html.clientWidth || body.clientWidth,\n      bottom: html.clientHeight || body.clientHeight,\n      height: html.clientHeight || body.clientHeight\n    };\n  }\n  return this._expandRectByRootMargin(rootRect);\n};\n\n\n/**\n * Accepts a rect and expands it by the rootMargin value.\n * @param {DOMRect|ClientRect} rect The rect object to expand.\n * @return {ClientRect} The expanded rect.\n * @private\n */\nIntersectionObserver.prototype._expandRectByRootMargin = function(rect) {\n  var margins = this._rootMarginValues.map(function(margin, i) {\n    return margin.unit == 'px' ? margin.value :\n        margin.value * (i % 2 ? rect.width : rect.height) / 100;\n  });\n  var newRect = {\n    top: rect.top - margins[0],\n    right: rect.right + margins[1],\n    bottom: rect.bottom + margins[2],\n    left: rect.left - margins[3]\n  };\n  newRect.width = newRect.right - newRect.left;\n  newRect.height = newRect.bottom - newRect.top;\n\n  return newRect;\n};\n\n\n/**\n * Accepts an old and new entry and returns true if at least one of the\n * threshold values has been crossed.\n * @param {?IntersectionObserverEntry} oldEntry The previous entry for a\n *    particular target element or null if no previous entry exists.\n * @param {IntersectionObserverEntry} newEntry The current entry for a\n *    particular target element.\n * @return {boolean} Returns true if a any threshold has been crossed.\n * @private\n */\nIntersectionObserver.prototype._hasCrossedThreshold =\n    function(oldEntry, newEntry) {\n\n  // To make comparing easier, an entry that has a ratio of 0\n  // but does not actually intersect is given a value of -1\n  var oldRatio = oldEntry && oldEntry.isIntersecting ?\n      oldEntry.intersectionRatio || 0 : -1;\n  var newRatio = newEntry.isIntersecting ?\n      newEntry.intersectionRatio || 0 : -1;\n\n  // Ignore unchanged ratios\n  if (oldRatio === newRatio) return;\n\n  for (var i = 0; i < this.thresholds.length; i++) {\n    var threshold = this.thresholds[i];\n\n    // Return true if an entry matches a threshold or if the new ratio\n    // and the old ratio are on the opposite sides of a threshold.\n    if (threshold == oldRatio || threshold == newRatio ||\n        threshold < oldRatio !== threshold < newRatio) {\n      return true;\n    }\n  }\n};\n\n\n/**\n * Returns whether or not the root element is an element and is in the DOM.\n * @return {boolean} True if the root element is an element and is in the DOM.\n * @private\n */\nIntersectionObserver.prototype._rootIsInDom = function() {\n  return !this.root || containsDeep(document, this.root);\n};\n\n\n/**\n * Returns whether or not the target element is a child of root.\n * @param {Element} target The target element to check.\n * @return {boolean} True if the target element is a child of root.\n * @private\n */\nIntersectionObserver.prototype._rootContainsTarget = function(target) {\n  var rootDoc =\n    (this.root && (this.root.ownerDocument || this.root)) || document;\n  return (\n    containsDeep(rootDoc, target) &&\n    (!this.root || rootDoc == target.ownerDocument)\n  );\n};\n\n\n/**\n * Adds the instance to the global IntersectionObserver registry if it isn't\n * already present.\n * @private\n */\nIntersectionObserver.prototype._registerInstance = function() {\n  if (registry.indexOf(this) < 0) {\n    registry.push(this);\n  }\n};\n\n\n/**\n * Removes the instance from the global IntersectionObserver registry.\n * @private\n */\nIntersectionObserver.prototype._unregisterInstance = function() {\n  var index = registry.indexOf(this);\n  if (index != -1) registry.splice(index, 1);\n};\n\n\n/**\n * Returns the result of the performance.now() method or null in browsers\n * that don't support the API.\n * @return {number} The elapsed time since the page was requested.\n */\nfunction now() {\n  return window.performance && performance.now && performance.now();\n}\n\n\n/**\n * Throttles a function and delays its execution, so it's only called at most\n * once within a given time period.\n * @param {Function} fn The function to throttle.\n * @param {number} timeout The amount of time that must pass before the\n *     function can be called again.\n * @return {Function} The throttled function.\n */\nfunction throttle(fn, timeout) {\n  var timer = null;\n  return function () {\n    if (!timer) {\n      timer = setTimeout(function() {\n        fn();\n        timer = null;\n      }, timeout);\n    }\n  };\n}\n\n\n/**\n * Adds an event handler to a DOM node ensuring cross-browser compatibility.\n * @param {Node} node The DOM node to add the event handler to.\n * @param {string} event The event name.\n * @param {Function} fn The event handler to add.\n * @param {boolean} opt_useCapture Optionally adds the even to the capture\n *     phase. Note: this only works in modern browsers.\n */\nfunction addEvent(node, event, fn, opt_useCapture) {\n  if (typeof node.addEventListener == 'function') {\n    node.addEventListener(event, fn, opt_useCapture || false);\n  }\n  else if (typeof node.attachEvent == 'function') {\n    node.attachEvent('on' + event, fn);\n  }\n}\n\n\n/**\n * Removes a previously added event handler from a DOM node.\n * @param {Node} node The DOM node to remove the event handler from.\n * @param {string} event The event name.\n * @param {Function} fn The event handler to remove.\n * @param {boolean} opt_useCapture If the event handler was added with this\n *     flag set to true, it should be set to true here in order to remove it.\n */\nfunction removeEvent(node, event, fn, opt_useCapture) {\n  if (typeof node.removeEventListener == 'function') {\n    node.removeEventListener(event, fn, opt_useCapture || false);\n  }\n  else if (typeof node.detachEvent == 'function') {\n    node.detachEvent('on' + event, fn);\n  }\n}\n\n\n/**\n * Returns the intersection between two rect objects.\n * @param {Object} rect1 The first rect.\n * @param {Object} rect2 The second rect.\n * @return {?Object|?ClientRect} The intersection rect or undefined if no\n *     intersection is found.\n */\nfunction computeRectIntersection(rect1, rect2) {\n  var top = Math.max(rect1.top, rect2.top);\n  var bottom = Math.min(rect1.bottom, rect2.bottom);\n  var left = Math.max(rect1.left, rect2.left);\n  var right = Math.min(rect1.right, rect2.right);\n  var width = right - left;\n  var height = bottom - top;\n\n  return (width >= 0 && height >= 0) && {\n    top: top,\n    bottom: bottom,\n    left: left,\n    right: right,\n    width: width,\n    height: height\n  } || null;\n}\n\n\n/**\n * Shims the native getBoundingClientRect for compatibility with older IE.\n * @param {Element} el The element whose bounding rect to get.\n * @return {DOMRect|ClientRect} The (possibly shimmed) rect of the element.\n */\nfunction getBoundingClientRect(el) {\n  var rect;\n\n  try {\n    rect = el.getBoundingClientRect();\n  } catch (err) {\n    // Ignore Windows 7 IE11 \"Unspecified error\"\n    // https://github.com/w3c/IntersectionObserver/pull/205\n  }\n\n  if (!rect) return getEmptyRect();\n\n  // Older IE\n  if (!(rect.width && rect.height)) {\n    rect = {\n      top: rect.top,\n      right: rect.right,\n      bottom: rect.bottom,\n      left: rect.left,\n      width: rect.right - rect.left,\n      height: rect.bottom - rect.top\n    };\n  }\n  return rect;\n}\n\n\n/**\n * Returns an empty rect object. An empty rect is returned when an element\n * is not in the DOM.\n * @return {ClientRect} The empty rect.\n */\nfunction getEmptyRect() {\n  return {\n    top: 0,\n    bottom: 0,\n    left: 0,\n    right: 0,\n    width: 0,\n    height: 0\n  };\n}\n\n\n/**\n * Ensure that the result has all of the necessary fields of the DOMRect.\n * Specifically this ensures that `x` and `y` fields are set.\n *\n * @param {?DOMRect|?ClientRect} rect\n * @return {?DOMRect}\n */\nfunction ensureDOMRect(rect) {\n  // A `DOMRect` object has `x` and `y` fields.\n  if (!rect || 'x' in rect) {\n    return rect;\n  }\n  // A IE's `ClientRect` type does not have `x` and `y`. The same is the case\n  // for internally calculated Rect objects. For the purposes of\n  // `IntersectionObserver`, it's sufficient to simply mirror `left` and `top`\n  // for these fields.\n  return {\n    top: rect.top,\n    y: rect.top,\n    bottom: rect.bottom,\n    left: rect.left,\n    x: rect.left,\n    right: rect.right,\n    width: rect.width,\n    height: rect.height\n  };\n}\n\n\n/**\n * Inverts the intersection and bounding rect from the parent (frame) BCR to\n * the local BCR space.\n * @param {DOMRect|ClientRect} parentBoundingRect The parent's bound client rect.\n * @param {DOMRect|ClientRect} parentIntersectionRect The parent's own intersection rect.\n * @return {ClientRect} The local root bounding rect for the parent's children.\n */\nfunction convertFromParentRect(parentBoundingRect, parentIntersectionRect) {\n  var top = parentIntersectionRect.top - parentBoundingRect.top;\n  var left = parentIntersectionRect.left - parentBoundingRect.left;\n  return {\n    top: top,\n    left: left,\n    height: parentIntersectionRect.height,\n    width: parentIntersectionRect.width,\n    bottom: top + parentIntersectionRect.height,\n    right: left + parentIntersectionRect.width\n  };\n}\n\n\n/**\n * Checks to see if a parent element contains a child element (including inside\n * shadow DOM).\n * @param {Node} parent The parent element.\n * @param {Node} child The child element.\n * @return {boolean} True if the parent node contains the child node.\n */\nfunction containsDeep(parent, child) {\n  var node = child;\n  while (node) {\n    if (node == parent) return true;\n\n    node = getParentNode(node);\n  }\n  return false;\n}\n\n\n/**\n * Gets the parent node of an element or its host element if the parent node\n * is a shadow root.\n * @param {Node} node The node whose parent to get.\n * @return {Node|null} The parent node or null if no parent exists.\n */\nfunction getParentNode(node) {\n  var parent = node.parentNode;\n\n  if (node.nodeType == /* DOCUMENT */ 9 && node != document) {\n    // If this node is a document node, look for the embedding frame.\n    return getFrameElement(node);\n  }\n\n  // If the parent has element that is assigned through shadow root slot\n  if (parent && parent.assignedSlot) {\n    parent = parent.assignedSlot.parentNode\n  }\n\n  if (parent && parent.nodeType == 11 && parent.host) {\n    // If the parent is a shadow root, return the host element.\n    return parent.host;\n  }\n\n  return parent;\n}\n\n/**\n * Returns true if `node` is a Document.\n * @param {!Node} node\n * @returns {boolean}\n */\nfunction isDoc(node) {\n  return node && node.nodeType === 9;\n}\n\n\n// Exposes the constructors globally.\nwindow.IntersectionObserver = IntersectionObserver;\nwindow.IntersectionObserverEntry = IntersectionObserverEntry;\n\n}());\n","import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport frequently from '../utils/frequently';\nimport { getData } from '../utils';\nimport NimbleEmoji from './emoji/nimble-emoji';\nimport NotFound from './not-found';\nimport 'intersection-observer';\n\nvar Category = /*#__PURE__*/function (_React$Component) {\n  _inherits(Category, _React$Component);\n\n  var _super = _createSuper(Category);\n\n  function Category(props) {\n    var _this;\n\n    _classCallCheck(this, Category);\n\n    _this = _super.call(this, props);\n    _this.data = props.data;\n    _this.setContainerRef = _this.setContainerRef.bind(_assertThisInitialized(_this));\n    _this.setLabelRef = _this.setLabelRef.bind(_assertThisInitialized(_this));\n    _this.imageObserver = new window.IntersectionObserver(function (entries, observer) {\n      entries.forEach(function (entry) {\n        if (entry.isIntersecting) {\n          var image = entry.target;\n          image.src = image.dataset.src;\n          image.classList.remove(\"lazy\");\n\n          _this.imageObserver.unobserve(image);\n        }\n      });\n    });\n    return _this;\n  }\n\n  _createClass(Category, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.margin = 0;\n      this.minMargin = 0;\n      this.memoizeSize();\n      this.lazyloadImages = [];\n      this.addLazyloadObserver();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      this.addLazyloadObserver();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.removeLazyloadObserver();\n    }\n  }, {\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps, nextState) {\n      var _this$props = this.props,\n          name = _this$props.name,\n          perLine = _this$props.perLine,\n          _native = _this$props[\"native\"],\n          hasStickyPosition = _this$props.hasStickyPosition,\n          emojis = _this$props.emojis,\n          emojiProps = _this$props.emojiProps,\n          skin = emojiProps.skin,\n          size = emojiProps.size,\n          set = emojiProps.set,\n          nextPerLine = nextProps.perLine,\n          nextNative = nextProps[\"native\"],\n          nextHasStickyPosition = nextProps.hasStickyPosition,\n          nextEmojis = nextProps.emojis,\n          nextEmojiProps = nextProps.emojiProps,\n          nextSkin = nextEmojiProps.skin,\n          nextSize = nextEmojiProps.size,\n          nextSet = nextEmojiProps.set,\n          shouldUpdate = false;\n\n      if (name == 'Recent' && perLine != nextPerLine) {\n        shouldUpdate = true;\n      }\n\n      if (name == 'Search') {\n        // shouldUpdate = !(emojis == nextEmojis)\n        shouldUpdate = true;\n      }\n\n      if (skin != nextSkin || size != nextSize || _native != nextNative || set != nextSet || hasStickyPosition != nextHasStickyPosition) {\n        shouldUpdate = true;\n      }\n\n      return shouldUpdate;\n    }\n  }, {\n    key: \"memoizeSize\",\n    value: function memoizeSize() {\n      if (!this.container) {\n        // probably this is a test environment, e.g. jest\n        this.top = 0;\n        this.maxMargin = 0;\n        return;\n      }\n\n      var parent = this.container.parentElement;\n\n      var _this$container$getBo = this.container.getBoundingClientRect(),\n          top = _this$container$getBo.top,\n          height = _this$container$getBo.height;\n\n      var _parent$getBoundingCl = parent.getBoundingClientRect(),\n          parentTop = _parent$getBoundingCl.top;\n\n      var _this$label$getBoundi = this.label.getBoundingClientRect(),\n          labelHeight = _this$label$getBoundi.height;\n\n      this.top = top - parentTop + parent.scrollTop;\n\n      if (height == 0) {\n        this.maxMargin = 0;\n      } else {\n        this.maxMargin = height - labelHeight;\n      }\n    }\n  }, {\n    key: \"addLazyloadObserver\",\n    value: function addLazyloadObserver() {\n      var _this2 = this;\n\n      this.removeLazyloadObserver();\n      this.lazyloadImages = this.container.querySelectorAll(\".lazy\");\n      this.lazyloadImages.forEach(function (image) {\n        _this2.imageObserver.observe(image);\n      });\n    }\n  }, {\n    key: \"removeLazyloadObserver\",\n    value: function removeLazyloadObserver() {\n      var _this3 = this;\n\n      this.lazyloadImages.forEach(function (image) {\n        _this3.imageObserver.unobserve(image);\n      });\n    }\n  }, {\n    key: \"handleOnContextMenu\",\n    value: function handleOnContextMenu(e) {\n      e.preventDefault();\n    }\n  }, {\n    key: \"handleScroll\",\n    value: function handleScroll(scrollTop) {\n      var margin = scrollTop - this.top;\n      margin = margin < this.minMargin ? this.minMargin : margin;\n      margin = margin > this.maxMargin ? this.maxMargin : margin;\n      if (margin == this.margin) return;\n\n      if (!this.props.hasStickyPosition) {\n        this.label.style.top = \"\".concat(margin, \"px\");\n      }\n\n      this.margin = margin;\n      return true;\n    }\n  }, {\n    key: \"getEmojis\",\n    value: function getEmojis() {\n      var _this4 = this;\n\n      var _this$props2 = this.props,\n          name = _this$props2.name,\n          emojis = _this$props2.emojis,\n          recent = _this$props2.recent,\n          perLine = _this$props2.perLine;\n\n      if (name == 'Recent') {\n        var custom = this.props.custom;\n        var frequentlyUsed = recent || frequently.get(perLine);\n\n        if (frequentlyUsed.length) {\n          emojis = frequentlyUsed.map(function (id) {\n            var emoji = custom.filter(function (e) {\n              return e.id === id;\n            })[0];\n\n            if (emoji) {\n              return emoji;\n            }\n\n            return id;\n          }).filter(function (id) {\n            return !!getData(id, null, null, _this4.data);\n          });\n        }\n\n        if (emojis.length === 0 && frequentlyUsed.length > 0) {\n          return null;\n        }\n      }\n\n      if (emojis) {\n        emojis = emojis.slice(0);\n      }\n\n      return emojis;\n    }\n  }, {\n    key: \"updateDisplay\",\n    value: function updateDisplay(display) {\n      var emojis = this.getEmojis();\n\n      if (!emojis || !this.container) {\n        return;\n      }\n\n      this.container.style.display = display;\n    }\n  }, {\n    key: \"setContainerRef\",\n    value: function setContainerRef(c) {\n      this.container = c;\n    }\n  }, {\n    key: \"setLabelRef\",\n    value: function setLabelRef(c) {\n      this.label = c;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this5 = this;\n\n      var _this$props3 = this.props,\n          id = _this$props3.id,\n          name = _this$props3.name,\n          hasStickyPosition = _this$props3.hasStickyPosition,\n          emojiProps = _this$props3.emojiProps,\n          i18n = _this$props3.i18n,\n          notFound = _this$props3.notFound,\n          notFoundEmoji = _this$props3.notFoundEmoji,\n          emojis = this.getEmojis(),\n          labelStyles = {},\n          labelSpanStyles = {},\n          containerStyles = {};\n\n      if (!emojis) {\n        containerStyles = {\n          display: 'none'\n        };\n      }\n\n      if (!hasStickyPosition) {\n        labelStyles = {\n          height: 28\n        };\n        labelSpanStyles = {\n          position: 'absolute'\n        };\n      }\n\n      var label = i18n.categories[id] || name;\n      return /*#__PURE__*/React.createElement(\"section\", {\n        ref: this.setContainerRef,\n        className: \"emoji-mart-category\",\n        \"aria-label\": label,\n        style: containerStyles\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        style: labelStyles,\n        \"data-name\": name,\n        className: \"emoji-mart-category-label\"\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        style: labelSpanStyles,\n        ref: this.setLabelRef,\n        \"aria-hidden\": true\n        /* already labeled by the section aria-label */\n\n      }, label)), /*#__PURE__*/React.createElement(\"ul\", {\n        className: \"emoji-mart-category-list\"\n      }, emojis && emojis.map(function (emoji) {\n        return /*#__PURE__*/React.createElement(\"li\", {\n          key: emoji.short_names && emoji.short_names.join('_') || emoji\n        }, NimbleEmoji(_objectSpread(_objectSpread({\n          emoji: emoji,\n          data: _this5.data\n        }, emojiProps), {}, {\n          lazy: true\n        })));\n      })), emojis && !emojis.length && /*#__PURE__*/React.createElement(NotFound, {\n        i18n: i18n,\n        notFound: notFound,\n        notFoundEmoji: notFoundEmoji,\n        data: this.data,\n        emojiProps: emojiProps\n      }));\n    }\n  }]);\n\n  return Category;\n}(React.Component);\n\nexport { Category as default };\nCategory.propTypes\n/* remove-proptypes */\n= {\n  emojis: PropTypes.array,\n  hasStickyPosition: PropTypes.bool,\n  name: PropTypes.string.isRequired,\n  \"native\": PropTypes.bool.isRequired,\n  perLine: PropTypes.number.isRequired,\n  emojiProps: PropTypes.object.isRequired,\n  recent: PropTypes.arrayOf(PropTypes.string),\n  notFound: PropTypes.func,\n  notFoundEmoji: PropTypes.string.isRequired\n};\nCategory.defaultProps = {\n  emojis: [],\n  hasStickyPosition: true\n};","import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nvar Skins = /*#__PURE__*/function (_React$PureComponent) {\n  _inherits(Skins, _React$PureComponent);\n\n  var _super = _createSuper(Skins);\n\n  function Skins(props) {\n    var _this;\n\n    _classCallCheck(this, Skins);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      opened: false\n    };\n    return _this;\n  }\n\n  _createClass(Skins, [{\n    key: \"handleClick\",\n    value: function handleClick(e) {\n      var skin = parseInt(e.currentTarget.getAttribute('data-skin'));\n      var onChange = this.props.onChange;\n\n      if (!this.state.opened) {\n        this.setState({\n          opened: true\n        });\n      } else {\n        this.setState({\n          opened: false\n        });\n\n        if (skin != this.props.skin) {\n          onChange(skin);\n        }\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return null;\n    }\n  }]);\n\n  return Skins;\n}(React.PureComponent);\n\nexport { Skins as default };\nSkins.propTypes\n/* remove-proptypes */\n= {\n  onChange: PropTypes.func,\n  skin: PropTypes.number.isRequired\n};\nSkins.defaultProps = {\n  onChange: function onChange() {}\n};","import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport NimbleEmoji from './emoji/nimble-emoji';\nimport Skins from './skins';\n\nvar SkinsEmoji = /*#__PURE__*/function (_Skins) {\n  _inherits(SkinsEmoji, _Skins);\n\n  var _super = _createSuper(SkinsEmoji);\n\n  function SkinsEmoji(props) {\n    var _this;\n\n    _classCallCheck(this, SkinsEmoji);\n\n    _this = _super.call(this, props);\n    _this.handleClick = _this.handleClick.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(SkinsEmoji, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          skin = _this$props.skin,\n          emojiProps = _this$props.emojiProps,\n          data = _this$props.data,\n          skinEmoji = _this$props.skinEmoji,\n          i18n = _this$props.i18n;\n      var opened = this.state.opened;\n      var skinToneNodes = [];\n\n      for (var skinTone = 1; skinTone <= 6; skinTone++) {\n        var selected = skinTone === skin;\n        skinToneNodes.push( /*#__PURE__*/React.createElement(\"span\", {\n          key: \"skin-tone-\".concat(skinTone),\n          className: \"emoji-mart-skin-swatch custom\".concat(selected ? ' selected' : '')\n        }, /*#__PURE__*/React.createElement(\"span\", {\n          onClick: this.handleClick,\n          \"data-skin\": skinTone,\n          className: \"emoji-mart-skin-tone-\".concat(skinTone)\n        }, NimbleEmoji({\n          emoji: skinEmoji,\n          data: data,\n          skin: skinTone,\n          backgroundImageFn: emojiProps.backgroundImageFn,\n          \"native\": emojiProps[\"native\"],\n          set: emojiProps.set,\n          sheetSize: emojiProps.sheetSize,\n          size: 23\n        }))));\n      }\n\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"emoji-mart-skin-swatches custom\".concat(opened ? ' opened' : '')\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"emoji-mart-skin-text\".concat(opened ? ' opened' : '')\n      }, i18n.skintext), skinToneNodes);\n    }\n  }]);\n\n  return SkinsEmoji;\n}(Skins);\n\nexport { SkinsEmoji as default };\nSkinsEmoji.propTypes\n/* remove-proptypes */\n= {\n  onChange: PropTypes.func,\n  skin: PropTypes.number.isRequired,\n  emojiProps: PropTypes.object.isRequired,\n  skinTone: PropTypes.number,\n  skinEmoji: PropTypes.string.isRequired,\n  i18n: PropTypes.object\n};\nSkinsEmoji.defaultProps = {\n  onChange: function onChange() {},\n  skinTone: null\n};","import _extends from \"@babel/runtime/helpers/extends\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport Skins from './skins';\n\nvar SkinsDot = /*#__PURE__*/function (_Skins) {\n  _inherits(SkinsDot, _Skins);\n\n  var _super = _createSuper(SkinsDot);\n\n  function SkinsDot(props) {\n    var _this;\n\n    _classCallCheck(this, SkinsDot);\n\n    _this = _super.call(this, props);\n    _this.handleClick = _this.handleClick.bind(_assertThisInitialized(_this));\n    _this.handleKeyDown = _this.handleKeyDown.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(SkinsDot, [{\n    key: \"handleKeyDown\",\n    value: function handleKeyDown(event) {\n      // if either enter or space is pressed, then execute\n      if (event.keyCode === 13 || event.keyCode === 32) {\n        event.preventDefault();\n        this.handleClick(event);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          skin = _this$props.skin,\n          i18n = _this$props.i18n;\n      var opened = this.state.opened;\n      var skinToneNodes = [];\n\n      for (var skinTone = 1; skinTone <= 6; skinTone++) {\n        var selected = skinTone === skin;\n        var visible = opened || selected;\n        skinToneNodes.push( /*#__PURE__*/React.createElement(\"span\", _extends({\n          key: \"skin-tone-\".concat(skinTone),\n          className: \"emoji-mart-skin-swatch\".concat(selected ? ' selected' : ''),\n          \"aria-label\": i18n.skintones[skinTone],\n          \"aria-hidden\": !visible\n        }, opened ? {\n          role: 'menuitem'\n        } : {}), /*#__PURE__*/React.createElement(\"span\", _extends({\n          onClick: this.handleClick,\n          onKeyDown: this.handleKeyDown,\n          role: \"button\"\n        }, selected ? {\n          'aria-haspopup': true,\n          'aria-expanded': !!opened\n        } : {}, opened ? {\n          'aria-pressed': !!selected\n        } : {}, {\n          tabIndex: visible ? '0' : '',\n          \"aria-label\": i18n.skintones[skinTone],\n          title: i18n.skintones[skinTone],\n          \"data-skin\": skinTone,\n          className: \"emoji-mart-skin emoji-mart-skin-tone-\".concat(skinTone)\n        }))));\n      }\n\n      return /*#__PURE__*/React.createElement(\"section\", {\n        className: \"emoji-mart-skin-swatches\".concat(opened ? ' opened' : ''),\n        \"aria-label\": i18n.skintext\n      }, /*#__PURE__*/React.createElement(\"div\", opened ? {\n        role: 'menubar'\n      } : {}, skinToneNodes));\n    }\n  }]);\n\n  return SkinsDot;\n}(Skins);\n\nexport { SkinsDot as default };\nSkinsDot.propTypes\n/* remove-proptypes */\n= {\n  onChange: PropTypes.func,\n  skin: PropTypes.number.isRequired,\n  i18n: PropTypes.object\n};\nSkinsDot.defaultProps = {\n  onChange: function onChange() {}\n};","import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { getData } from '../utils';\nimport NimbleEmoji from './emoji/nimble-emoji';\nimport SkinsEmoji from './skins-emoji';\nimport SkinsDot from './skins-dot';\n\nvar Preview = /*#__PURE__*/function (_React$PureComponent) {\n  _inherits(Preview, _React$PureComponent);\n\n  var _super = _createSuper(Preview);\n\n  function Preview(props) {\n    var _this;\n\n    _classCallCheck(this, Preview);\n\n    _this = _super.call(this, props);\n    _this.data = props.data;\n    _this.state = {\n      emoji: null\n    };\n    return _this;\n  }\n\n  _createClass(Preview, [{\n    key: \"render\",\n    value: function render() {\n      var emoji = this.state.emoji,\n          _this$props = this.props,\n          emojiProps = _this$props.emojiProps,\n          skinsProps = _this$props.skinsProps,\n          showSkinTones = _this$props.showSkinTones,\n          title = _this$props.title,\n          idleEmoji = _this$props.emoji,\n          i18n = _this$props.i18n,\n          showPreview = _this$props.showPreview;\n\n      if (emoji && showPreview) {\n        var emojiData = getData(emoji, null, null, this.data),\n            _emojiData$emoticons = emojiData.emoticons,\n            emoticons = _emojiData$emoticons === void 0 ? [] : _emojiData$emoticons,\n            knownEmoticons = [],\n            listedEmoticons = [];\n        emoticons.forEach(function (emoticon) {\n          if (knownEmoticons.indexOf(emoticon.toLowerCase()) >= 0) {\n            return;\n          }\n\n          knownEmoticons.push(emoticon.toLowerCase());\n          listedEmoticons.push(emoticon);\n        });\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: \"emoji-mart-preview\"\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"emoji-mart-preview-emoji\",\n          \"aria-hidden\": \"true\"\n        }, NimbleEmoji(_objectSpread({\n          key: emoji.id,\n          emoji: emoji,\n          data: this.data\n        }, emojiProps))), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"emoji-mart-preview-data\",\n          \"aria-hidden\": \"true\"\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"emoji-mart-preview-name\"\n        }, emoji.name), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"emoji-mart-preview-shortnames\"\n        }, emojiData.short_names.map(function (short_name) {\n          return /*#__PURE__*/React.createElement(\"span\", {\n            key: short_name,\n            className: \"emoji-mart-preview-shortname\"\n          }, \":\", short_name, \":\");\n        })), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"emoji-mart-preview-emoticons\"\n        }, listedEmoticons.map(function (emoticon) {\n          return /*#__PURE__*/React.createElement(\"span\", {\n            key: emoticon,\n            className: \"emoji-mart-preview-emoticon\"\n          }, emoticon);\n        }))));\n      } else {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: \"emoji-mart-preview\"\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"emoji-mart-preview-emoji\",\n          \"aria-hidden\": \"true\"\n        }, idleEmoji && idleEmoji.length && NimbleEmoji(_objectSpread({\n          emoji: idleEmoji,\n          data: this.data\n        }, emojiProps))), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"emoji-mart-preview-data\",\n          \"aria-hidden\": \"true\"\n        }, /*#__PURE__*/React.createElement(\"span\", {\n          className: \"emoji-mart-title-label\"\n        }, title)), showSkinTones && /*#__PURE__*/React.createElement(\"div\", {\n          className: \"emoji-mart-preview-skins\".concat(skinsProps.skinEmoji ? ' custom' : '')\n        }, skinsProps.skinEmoji ? /*#__PURE__*/React.createElement(SkinsEmoji, {\n          skin: skinsProps.skin,\n          emojiProps: emojiProps,\n          data: this.data,\n          skinEmoji: skinsProps.skinEmoji,\n          i18n: i18n,\n          onChange: skinsProps.onChange\n        }) : /*#__PURE__*/React.createElement(SkinsDot, {\n          skin: skinsProps.skin,\n          i18n: i18n,\n          onChange: skinsProps.onChange\n        })));\n      }\n    }\n  }]);\n\n  return Preview;\n}(React.PureComponent);\n\nexport { Preview as default };\nPreview.propTypes\n/* remove-proptypes */\n= {\n  showSkinTones: PropTypes.bool,\n  title: PropTypes.string.isRequired,\n  emoji: PropTypes.string.isRequired,\n  emojiProps: PropTypes.object.isRequired,\n  skinsProps: PropTypes.object.isRequired\n};\nPreview.defaultProps = {\n  showSkinTones: true,\n  onChange: function onChange() {}\n};","import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport { getData, getSanitizedData, intersect } from '..';\nimport { uncompress } from '../data';\nimport store from '../store';\n\nvar NimbleEmojiIndex = /*#__PURE__*/function () {\n  function NimbleEmojiIndex(data, set) {\n    _classCallCheck(this, NimbleEmojiIndex);\n\n    if (data.compressed) {\n      uncompress(data);\n    }\n\n    this.data = data || {};\n    this.set = set || null;\n    this.originalPool = {};\n    this.index = {};\n    this.emojis = {};\n    this.emoticons = {};\n    this.customEmojisList = [];\n    this.buildIndex();\n  }\n\n  _createClass(NimbleEmojiIndex, [{\n    key: \"buildIndex\",\n    value: function buildIndex() {\n      var _this = this;\n\n      var _loop = function _loop(emoji) {\n        var emojiData = _this.data.emojis[emoji],\n            short_names = emojiData.short_names,\n            emoticons = emojiData.emoticons,\n            skin_variations = emojiData.skin_variations,\n            id = short_names[0];\n\n        if (emoticons) {\n          emoticons.forEach(function (emoticon) {\n            if (_this.emoticons[emoticon]) {\n              return;\n            }\n\n            _this.emoticons[emoticon] = id;\n          });\n        } // If skin variations include them\n\n\n        if (skin_variations) {\n          _this.emojis[id] = {};\n\n          for (var skinTone = 1; skinTone <= 6; skinTone++) {\n            _this.emojis[id][skinTone] = getSanitizedData({\n              id: id,\n              skin: skinTone\n            }, skinTone, _this.set, _this.data);\n          }\n        } else {\n          _this.emojis[id] = getSanitizedData(id, null, _this.set, _this.data);\n        }\n\n        _this.originalPool[id] = emojiData;\n      };\n\n      for (var emoji in this.data.emojis) {\n        _loop(emoji);\n      }\n    }\n  }, {\n    key: \"clearCustomEmojis\",\n    value: function clearCustomEmojis(pool) {\n      var _this2 = this;\n\n      this.customEmojisList.forEach(function (emoji) {\n        var emojiId = emoji.id || emoji.short_names[0];\n        delete pool[emojiId];\n        delete _this2.emojis[emojiId];\n      });\n    }\n  }, {\n    key: \"addCustomToPool\",\n    value: function addCustomToPool(custom, pool) {\n      var _this3 = this;\n\n      if (this.customEmojisList.length) this.clearCustomEmojis(pool);\n      custom.forEach(function (emoji) {\n        var emojiId = emoji.id || emoji.short_names[0];\n\n        if (emojiId && !pool[emojiId]) {\n          pool[emojiId] = getData(emoji, null, null, _this3.data);\n          _this3.emojis[emojiId] = getSanitizedData(emoji, null, null, _this3.data);\n        }\n      });\n      this.customEmojisList = custom;\n      this.index = {};\n    }\n  }, {\n    key: \"search\",\n    value: function search(value) {\n      var _this4 = this;\n\n      var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n          emojisToShowFilter = _ref.emojisToShowFilter,\n          maxResults = _ref.maxResults,\n          include = _ref.include,\n          exclude = _ref.exclude,\n          _ref$custom = _ref.custom,\n          custom = _ref$custom === void 0 ? [] : _ref$custom;\n\n      if (this.customEmojisList != custom) this.addCustomToPool(custom, this.originalPool);\n      var skinTone = store.get('skin') || 1;\n      maxResults || (maxResults = 75);\n      include || (include = []);\n      exclude || (exclude = []);\n      var results = null,\n          pool = this.originalPool;\n\n      if (value.length) {\n        if (value == '-' || value == '-1') {\n          return [this.emojis['-1'][skinTone]];\n        }\n\n        var values = value.toLowerCase().split(/[\\s|,|\\-|_]+/),\n            allResults = [];\n\n        if (values.length > 2) {\n          values = [values[0], values[1]];\n        }\n\n        if (include.length || exclude.length) {\n          pool = {};\n          this.data.categories.forEach(function (category) {\n            var isIncluded = include && include.length ? include.indexOf(category.id) > -1 : true;\n            var isExcluded = exclude && exclude.length ? exclude.indexOf(category.id) > -1 : false;\n\n            if (!isIncluded || isExcluded) {\n              return;\n            }\n\n            category.emojis.forEach(function (emojiId) {\n              return pool[emojiId] = _this4.data.emojis[emojiId];\n            });\n          });\n\n          if (custom.length) {\n            var customIsIncluded = include && include.length ? include.indexOf('custom') > -1 : true;\n            var customIsExcluded = exclude && exclude.length ? exclude.indexOf('custom') > -1 : false;\n\n            if (customIsIncluded && !customIsExcluded) {\n              this.addCustomToPool(custom, pool);\n            }\n          }\n        }\n\n        allResults = values.map(function (value) {\n          var aPool = pool,\n              aIndex = _this4.index,\n              length = 0;\n\n          for (var charIndex = 0; charIndex < value.length; charIndex++) {\n            var _char = value[charIndex];\n            length++;\n            aIndex[_char] || (aIndex[_char] = {});\n            aIndex = aIndex[_char];\n\n            if (!aIndex.results) {\n              (function () {\n                var scores = {};\n                aIndex.results = [];\n                aIndex.pool = {};\n\n                for (var id in aPool) {\n                  var emoji = aPool[id],\n                      search = emoji.search,\n                      sub = value.substr(0, length),\n                      subIndex = search.indexOf(sub);\n\n                  if (subIndex != -1) {\n                    var score = subIndex + 1;\n                    if (sub == id) score = 0;\n\n                    if (_this4.emojis[id] && _this4.emojis[id][skinTone]) {\n                      aIndex.results.push(_this4.emojis[id][skinTone]);\n                    } else {\n                      aIndex.results.push(_this4.emojis[id]);\n                    }\n\n                    aIndex.pool[id] = emoji;\n                    scores[id] = score;\n                  }\n                }\n\n                aIndex.results.sort(function (a, b) {\n                  var aScore = scores[a.id],\n                      bScore = scores[b.id];\n\n                  if (aScore == bScore) {\n                    return a.id.localeCompare(b.id);\n                  } else {\n                    return aScore - bScore;\n                  }\n                });\n              })();\n            }\n\n            aPool = aIndex.pool;\n          }\n\n          return aIndex.results;\n        }).filter(function (a) {\n          return a;\n        });\n\n        if (allResults.length > 1) {\n          results = intersect.apply(null, allResults);\n        } else if (allResults.length) {\n          results = allResults[0];\n        } else {\n          results = [];\n        }\n      }\n\n      if (results) {\n        if (emojisToShowFilter) {\n          results = results.filter(function (result) {\n            return emojisToShowFilter(pool[result.id]);\n          });\n        }\n\n        if (results && results.length > maxResults) {\n          results = results.slice(0, maxResults);\n        }\n      }\n\n      return results;\n    }\n  }]);\n\n  return NimbleEmojiIndex;\n}();\n\nexport { NimbleEmojiIndex as default };","import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { search as icons } from '../svgs';\nimport NimbleEmojiIndex from '../utils/emoji-index/nimble-emoji-index';\nimport { throttleIdleTask } from '../utils/index';\nvar id = 0;\n\nvar Search = /*#__PURE__*/function (_React$PureComponent) {\n  _inherits(Search, _React$PureComponent);\n\n  var _super = _createSuper(Search);\n\n  function Search(props) {\n    var _this;\n\n    _classCallCheck(this, Search);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      icon: icons.search,\n      isSearching: false,\n      id: ++id\n    };\n    _this.data = props.data;\n    _this.emojiIndex = new NimbleEmojiIndex(_this.data);\n    _this.setRef = _this.setRef.bind(_assertThisInitialized(_this));\n    _this.clear = _this.clear.bind(_assertThisInitialized(_this));\n    _this.handleKeyUp = _this.handleKeyUp.bind(_assertThisInitialized(_this)); // throttle keyboard input so that typing isn't delayed\n\n    _this.handleChange = throttleIdleTask(_this.handleChange.bind(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Search, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      // in some cases (e.g. preact) the input may already be pre-populated\n      // this.input is undefined in Jest tests\n      if (this.input && this.input.value) {\n        this.search(this.input.value);\n      }\n    }\n  }, {\n    key: \"search\",\n    value: function search(value) {\n      if (value == '') this.setState({\n        icon: icons.search,\n        isSearching: false\n      });else this.setState({\n        icon: icons[\"delete\"],\n        isSearching: true\n      });\n      this.props.onSearch(this.emojiIndex.search(value, {\n        emojisToShowFilter: this.props.emojisToShowFilter,\n        maxResults: this.props.maxResults,\n        include: this.props.include,\n        exclude: this.props.exclude,\n        custom: this.props.custom\n      }));\n    }\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      if (this.input.value == '') return;\n      this.input.value = '';\n      this.input.focus();\n      this.search('');\n    }\n  }, {\n    key: \"handleChange\",\n    value: function handleChange() {\n      if (this.input) {\n        this.search(this.input.value);\n      }\n    }\n  }, {\n    key: \"handleKeyUp\",\n    value: function handleKeyUp(e) {\n      if (e.keyCode === 13) {\n        this.clear();\n      }\n    }\n  }, {\n    key: \"setRef\",\n    value: function setRef(c) {\n      this.input = c;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          i18n = _this$props.i18n,\n          autoFocus = _this$props.autoFocus;\n      var _this$state = this.state,\n          icon = _this$state.icon,\n          isSearching = _this$state.isSearching,\n          id = _this$state.id;\n      var inputId = \"emoji-mart-search-\".concat(id);\n      return /*#__PURE__*/React.createElement(\"section\", {\n        className: \"emoji-mart-search\",\n        \"aria-label\": i18n.search\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        id: inputId,\n        ref: this.setRef,\n        type: \"search\",\n        onChange: this.handleChange,\n        placeholder: i18n.search,\n        autoFocus: autoFocus\n      }), /*#__PURE__*/React.createElement(\"label\", {\n        className: \"emoji-mart-sr-only\",\n        htmlFor: inputId\n      }, i18n.search), /*#__PURE__*/React.createElement(\"button\", {\n        className: \"emoji-mart-search-icon\",\n        onClick: this.clear,\n        onKeyUp: this.handleKeyUp,\n        \"aria-label\": i18n.clear,\n        disabled: !isSearching\n      }, icon()));\n    }\n  }]);\n\n  return Search;\n}(React.PureComponent);\n\nexport { Search as default };\nSearch.propTypes\n/* remove-proptypes */\n= {\n  onSearch: PropTypes.func,\n  maxResults: PropTypes.number,\n  emojisToShowFilter: PropTypes.func,\n  autoFocus: PropTypes.bool\n};\nSearch.defaultProps = {\n  onSearch: function onSearch() {},\n  maxResults: 75,\n  emojisToShowFilter: null,\n  autoFocus: false\n};","import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport * as icons from '../../svgs';\nimport store from '../../utils/store';\nimport frequently from '../../utils/frequently';\nimport { deepMerge, measureScrollbar, getSanitizedData } from '../../utils';\nimport { uncompress } from '../../utils/data';\nimport { PickerPropTypes } from '../../utils/shared-props';\nimport Anchors from '../anchors';\nimport Category from '../category';\nimport Preview from '../preview';\nimport Search from '../search';\nimport { PickerDefaultProps } from '../../utils/shared-default-props';\nvar I18N = {\n  search: 'Search',\n  clear: 'Clear',\n  // Accessible label on \"clear\" button\n  notfound: 'No Emoji Found',\n  skintext: 'Choose your default skin tone',\n  categories: {\n    search: 'Search Results',\n    recent: 'Frequently Used',\n    people: 'Smileys & People',\n    nature: 'Animals & Nature',\n    foods: 'Food & Drink',\n    activity: 'Activity',\n    places: 'Travel & Places',\n    objects: 'Objects',\n    symbols: 'Symbols',\n    flags: 'Flags',\n    custom: 'Custom'\n  },\n  categorieslabel: 'Emoji categories',\n  // Accessible title for the list of categories\n  skintones: {\n    1: 'Default Skin Tone',\n    2: 'Light Skin Tone',\n    3: 'Medium-Light Skin Tone',\n    4: 'Medium Skin Tone',\n    5: 'Medium-Dark Skin Tone',\n    6: 'Dark Skin Tone'\n  }\n};\n\nvar NimblePicker = /*#__PURE__*/function (_React$PureComponent) {\n  _inherits(NimblePicker, _React$PureComponent);\n\n  var _super = _createSuper(NimblePicker);\n\n  function NimblePicker(props) {\n    var _this;\n\n    _classCallCheck(this, NimblePicker);\n\n    _this = _super.call(this, props);\n    _this.CUSTOM = [];\n    _this.RECENT_CATEGORY = {\n      id: 'recent',\n      name: 'Recent',\n      emojis: null\n    };\n    _this.SEARCH_CATEGORY = {\n      id: 'search',\n      name: 'Search',\n      emojis: null,\n      anchor: false\n    };\n\n    if (props.data.compressed) {\n      uncompress(props.data);\n    }\n\n    _this.data = props.data;\n    _this.i18n = deepMerge(I18N, props.i18n);\n    _this.icons = deepMerge(icons, props.icons);\n    _this.state = {\n      firstRender: true\n    };\n    _this.categories = [];\n    var allCategories = [].concat(_this.data.categories);\n\n    if (props.custom.length > 0) {\n      var customCategories = {};\n      var customCategoriesCreated = 0;\n      props.custom.forEach(function (emoji) {\n        if (!customCategories[emoji.customCategory]) {\n          customCategories[emoji.customCategory] = {\n            id: emoji.customCategory ? \"custom-\".concat(emoji.customCategory) : 'custom',\n            name: emoji.customCategory || 'Custom',\n            emojis: [],\n            anchor: customCategoriesCreated === 0\n          };\n          customCategoriesCreated++;\n        }\n\n        var category = customCategories[emoji.customCategory];\n\n        var customEmoji = _objectSpread(_objectSpread({}, emoji), {}, {\n          // `<Category />` expects emoji to have an `id`.\n          id: emoji.short_names[0],\n          custom: true\n        });\n\n        category.emojis.push(customEmoji);\n\n        _this.CUSTOM.push(customEmoji);\n      });\n      allCategories = allCategories.concat(Object.keys(customCategories).map(function (key) {\n        return customCategories[key];\n      }));\n    }\n\n    _this.hideRecent = true;\n\n    if (props.include != undefined) {\n      allCategories.sort(function (a, b) {\n        if (props.include.indexOf(a.id) > props.include.indexOf(b.id)) {\n          return 1;\n        }\n\n        return -1;\n      });\n    }\n\n    for (var categoryIndex = 0; categoryIndex < allCategories.length; categoryIndex++) {\n      var category = allCategories[categoryIndex];\n      var isIncluded = props.include && props.include.length ? props.include.indexOf(category.id) > -1 : true;\n      var isExcluded = props.exclude && props.exclude.length ? props.exclude.indexOf(category.id) > -1 : false;\n\n      if (!isIncluded || isExcluded) {\n        continue;\n      }\n\n      if (props.emojisToShowFilter) {\n        var newEmojis = [];\n        var emojis = category.emojis;\n\n        for (var emojiIndex = 0; emojiIndex < emojis.length; emojiIndex++) {\n          var emoji = emojis[emojiIndex];\n\n          if (props.emojisToShowFilter(_this.data.emojis[emoji] || emoji)) {\n            newEmojis.push(emoji);\n          }\n        }\n\n        if (newEmojis.length) {\n          var newCategory = {\n            emojis: newEmojis,\n            name: category.name,\n            id: category.id\n          };\n\n          _this.categories.push(newCategory);\n        }\n      } else {\n        _this.categories.push(category);\n      }\n    }\n\n    var includeRecent = props.include && props.include.length ? props.include.indexOf(_this.RECENT_CATEGORY.id) > -1 : true;\n    var excludeRecent = props.exclude && props.exclude.length ? props.exclude.indexOf(_this.RECENT_CATEGORY.id) > -1 : false;\n\n    if (includeRecent && !excludeRecent) {\n      _this.hideRecent = false;\n\n      _this.categories.unshift(_this.RECENT_CATEGORY);\n    }\n\n    if (_this.categories[0]) {\n      _this.categories[0].first = true;\n    }\n\n    _this.categories.unshift(_this.SEARCH_CATEGORY);\n\n    _this.setAnchorsRef = _this.setAnchorsRef.bind(_assertThisInitialized(_this));\n    _this.handleAnchorClick = _this.handleAnchorClick.bind(_assertThisInitialized(_this));\n    _this.setSearchRef = _this.setSearchRef.bind(_assertThisInitialized(_this));\n    _this.handleSearch = _this.handleSearch.bind(_assertThisInitialized(_this));\n    _this.setScrollRef = _this.setScrollRef.bind(_assertThisInitialized(_this));\n    _this.handleScroll = _this.handleScroll.bind(_assertThisInitialized(_this));\n    _this.handleScrollPaint = _this.handleScrollPaint.bind(_assertThisInitialized(_this));\n    _this.handleEmojiOver = _this.handleEmojiOver.bind(_assertThisInitialized(_this));\n    _this.handleEmojiLeave = _this.handleEmojiLeave.bind(_assertThisInitialized(_this));\n    _this.handleEmojiClick = _this.handleEmojiClick.bind(_assertThisInitialized(_this));\n    _this.handleEmojiSelect = _this.handleEmojiSelect.bind(_assertThisInitialized(_this));\n    _this.setPreviewRef = _this.setPreviewRef.bind(_assertThisInitialized(_this));\n    _this.handleSkinChange = _this.handleSkinChange.bind(_assertThisInitialized(_this));\n    _this.handleKeyDown = _this.handleKeyDown.bind(_assertThisInitialized(_this));\n    _this.handleDarkMatchMediaChange = _this.handleDarkMatchMediaChange.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(NimblePicker, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      if (this.state.firstRender) {\n        this.testStickyPosition();\n        this.firstRenderTimeout = setTimeout(function () {\n          _this2.setState({\n            firstRender: false\n          });\n        }, 60);\n      }\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      this.updateCategoriesSize();\n      this.handleScroll();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.SEARCH_CATEGORY.emojis = null;\n      clearTimeout(this.leaveTimeout);\n      clearTimeout(this.firstRenderTimeout);\n\n      if (this.darkMatchMedia) {\n        this.darkMatchMedia.removeListener(this.handleDarkMatchMediaChange);\n      }\n    }\n  }, {\n    key: \"testStickyPosition\",\n    value: function testStickyPosition() {\n      var stickyTestElement = document.createElement('div');\n      var prefixes = ['', '-webkit-', '-ms-', '-moz-', '-o-'];\n      prefixes.forEach(function (prefix) {\n        return stickyTestElement.style.position = \"\".concat(prefix, \"sticky\");\n      });\n      this.hasStickyPosition = !!stickyTestElement.style.position.length;\n    }\n  }, {\n    key: \"getPreferredTheme\",\n    value: function getPreferredTheme() {\n      if (this.props.theme != 'auto') return this.props.theme;\n      if (this.state.theme) return this.state.theme;\n      if (typeof matchMedia !== 'function') return PickerDefaultProps.theme;\n\n      if (!this.darkMatchMedia) {\n        this.darkMatchMedia = matchMedia('(prefers-color-scheme: dark)');\n        this.darkMatchMedia.addListener(this.handleDarkMatchMediaChange);\n      }\n\n      if (this.darkMatchMedia.media.match(/^not/)) return PickerDefaultProps.theme;\n      return this.darkMatchMedia.matches ? 'dark' : 'light';\n    }\n  }, {\n    key: \"handleDarkMatchMediaChange\",\n    value: function handleDarkMatchMediaChange() {\n      this.setState({\n        theme: this.darkMatchMedia.matches ? 'dark' : 'light'\n      });\n    }\n  }, {\n    key: \"handleEmojiOver\",\n    value: function handleEmojiOver(emoji) {\n      var preview = this.preview;\n\n      if (!preview) {\n        return;\n      } // Use Array.prototype.find() when it is more widely supported.\n\n\n      var emojiData = this.CUSTOM.filter(function (customEmoji) {\n        return customEmoji.id === emoji.id;\n      })[0];\n\n      for (var key in emojiData) {\n        if (emojiData.hasOwnProperty(key)) {\n          emoji[key] = emojiData[key];\n        }\n      }\n\n      preview.setState({\n        emoji: emoji\n      });\n      clearTimeout(this.leaveTimeout);\n    }\n  }, {\n    key: \"handleEmojiLeave\",\n    value: function handleEmojiLeave(emoji) {\n      var preview = this.preview;\n\n      if (!preview) {\n        return;\n      }\n\n      this.leaveTimeout = setTimeout(function () {\n        preview.setState({\n          emoji: null\n        });\n      }, 16);\n    }\n  }, {\n    key: \"handleEmojiClick\",\n    value: function handleEmojiClick(emoji, e) {\n      this.props.onClick(emoji, e);\n      this.handleEmojiSelect(emoji);\n    }\n  }, {\n    key: \"handleEmojiSelect\",\n    value: function handleEmojiSelect(emoji) {\n      var _this3 = this;\n\n      this.props.onSelect(emoji);\n      if (!this.hideRecent && !this.props.recent) frequently.add(emoji);\n      var component = this.categoryRefs['category-1'];\n\n      if (component) {\n        var maxMargin = component.maxMargin;\n\n        if (this.props.enableFrequentEmojiSort) {\n          component.forceUpdate();\n        }\n\n        requestAnimationFrame(function () {\n          if (!_this3.scroll) return;\n          component.memoizeSize();\n          if (maxMargin == component.maxMargin) return;\n\n          _this3.updateCategoriesSize();\n\n          _this3.handleScrollPaint();\n\n          if (_this3.SEARCH_CATEGORY.emojis) {\n            component.updateDisplay('none');\n          }\n        });\n      }\n    }\n  }, {\n    key: \"handleScroll\",\n    value: function handleScroll() {\n      if (!this.waitingForPaint) {\n        this.waitingForPaint = true;\n        requestAnimationFrame(this.handleScrollPaint);\n      }\n    }\n  }, {\n    key: \"handleScrollPaint\",\n    value: function handleScrollPaint() {\n      this.waitingForPaint = false;\n\n      if (!this.scroll) {\n        return;\n      }\n\n      var activeCategory = null;\n\n      if (this.SEARCH_CATEGORY.emojis) {\n        activeCategory = this.SEARCH_CATEGORY;\n      } else {\n        var target = this.scroll,\n            scrollTop = target.scrollTop,\n            scrollingDown = scrollTop > (this.scrollTop || 0),\n            minTop = 0;\n\n        for (var i = 0, l = this.categories.length; i < l; i++) {\n          var ii = scrollingDown ? this.categories.length - 1 - i : i,\n              category = this.categories[ii],\n              component = this.categoryRefs[\"category-\".concat(ii)];\n\n          if (component) {\n            var active = component.handleScroll(scrollTop);\n\n            if (!minTop || component.top < minTop) {\n              if (component.top > 0) {\n                minTop = component.top;\n              }\n            }\n\n            if (active && !activeCategory) {\n              activeCategory = category;\n            }\n          }\n        }\n\n        if (scrollTop < minTop) {\n          activeCategory = this.categories.filter(function (category) {\n            return !(category.anchor === false);\n          })[0];\n        } else if (scrollTop + this.clientHeight >= this.scrollHeight) {\n          activeCategory = this.categories[this.categories.length - 1];\n        }\n      }\n\n      if (activeCategory) {\n        var anchors = this.anchors,\n            _activeCategory = activeCategory,\n            categoryName = _activeCategory.name;\n\n        if (anchors.state.selected != categoryName) {\n          anchors.setState({\n            selected: categoryName\n          });\n        }\n      }\n\n      this.scrollTop = scrollTop;\n    }\n  }, {\n    key: \"handleSearch\",\n    value: function handleSearch(emojis) {\n      this.SEARCH_CATEGORY.emojis = emojis;\n\n      for (var i = 0, l = this.categories.length; i < l; i++) {\n        var component = this.categoryRefs[\"category-\".concat(i)];\n\n        if (component && component.props.name != 'Search') {\n          var display = emojis ? 'none' : 'inherit';\n          component.updateDisplay(display);\n        }\n      }\n\n      this.forceUpdate();\n\n      if (this.scroll) {\n        this.scroll.scrollTop = 0;\n      }\n\n      this.handleScroll();\n    }\n  }, {\n    key: \"handleAnchorClick\",\n    value: function handleAnchorClick(category, i) {\n      var component = this.categoryRefs[\"category-\".concat(i)],\n          scroll = this.scroll,\n          anchors = this.anchors,\n          scrollToComponent = null;\n\n      scrollToComponent = function scrollToComponent() {\n        if (component) {\n          var top = component.top;\n\n          if (category.first) {\n            top = 0;\n          } else {\n            top += 1;\n          }\n\n          scroll.scrollTop = top;\n        }\n      };\n\n      if (this.SEARCH_CATEGORY.emojis) {\n        this.handleSearch(null);\n        this.search.clear();\n        requestAnimationFrame(scrollToComponent);\n      } else {\n        scrollToComponent();\n      }\n    }\n  }, {\n    key: \"handleSkinChange\",\n    value: function handleSkinChange(skin) {\n      var newState = {\n        skin: skin\n      },\n          onSkinChange = this.props.onSkinChange;\n      this.setState(newState);\n      store.update(newState);\n      onSkinChange(skin);\n    }\n  }, {\n    key: \"handleKeyDown\",\n    value: function handleKeyDown(e) {\n      var handled = false;\n\n      switch (e.keyCode) {\n        case 13:\n          var emoji;\n\n          if (this.SEARCH_CATEGORY.emojis && this.SEARCH_CATEGORY.emojis.length && (emoji = getSanitizedData(this.SEARCH_CATEGORY.emojis[0], this.state.skin, this.props.set, this.props.data))) {\n            this.handleEmojiSelect(emoji);\n            handled = true;\n          }\n\n          break;\n      }\n\n      if (handled) {\n        e.preventDefault();\n      }\n    }\n  }, {\n    key: \"updateCategoriesSize\",\n    value: function updateCategoriesSize() {\n      for (var i = 0, l = this.categories.length; i < l; i++) {\n        var component = this.categoryRefs[\"category-\".concat(i)];\n        if (component) component.memoizeSize();\n      }\n\n      if (this.scroll) {\n        var target = this.scroll;\n        this.scrollHeight = target.scrollHeight;\n        this.clientHeight = target.clientHeight;\n      }\n    }\n  }, {\n    key: \"getCategories\",\n    value: function getCategories() {\n      return this.state.firstRender ? this.categories.slice(0, 3) : this.categories;\n    }\n  }, {\n    key: \"setAnchorsRef\",\n    value: function setAnchorsRef(c) {\n      this.anchors = c;\n    }\n  }, {\n    key: \"setSearchRef\",\n    value: function setSearchRef(c) {\n      this.search = c;\n    }\n  }, {\n    key: \"setPreviewRef\",\n    value: function setPreviewRef(c) {\n      this.preview = c;\n    }\n  }, {\n    key: \"setScrollRef\",\n    value: function setScrollRef(c) {\n      this.scroll = c;\n    }\n  }, {\n    key: \"setCategoryRef\",\n    value: function setCategoryRef(name, c) {\n      if (!this.categoryRefs) {\n        this.categoryRefs = {};\n      }\n\n      this.categoryRefs[name] = c;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      var _this$props = this.props,\n          perLine = _this$props.perLine,\n          emojiSize = _this$props.emojiSize,\n          set = _this$props.set,\n          sheetSize = _this$props.sheetSize,\n          sheetColumns = _this$props.sheetColumns,\n          sheetRows = _this$props.sheetRows,\n          style = _this$props.style,\n          title = _this$props.title,\n          emoji = _this$props.emoji,\n          color = _this$props.color,\n          _native = _this$props[\"native\"],\n          backgroundImageFn = _this$props.backgroundImageFn,\n          emojisToShowFilter = _this$props.emojisToShowFilter,\n          showPreview = _this$props.showPreview,\n          showSkinTones = _this$props.showSkinTones,\n          emojiTooltip = _this$props.emojiTooltip,\n          useButton = _this$props.useButton,\n          include = _this$props.include,\n          exclude = _this$props.exclude,\n          recent = _this$props.recent,\n          autoFocus = _this$props.autoFocus,\n          skinEmoji = _this$props.skinEmoji,\n          notFound = _this$props.notFound,\n          notFoundEmoji = _this$props.notFoundEmoji;\n      var width = perLine * (emojiSize + 12) + 12 + 2 + measureScrollbar();\n      var theme = this.getPreferredTheme();\n      var skin = this.props.skin || this.state.skin || store.get('skin') || this.props.defaultSkin;\n      return /*#__PURE__*/React.createElement(\"section\", {\n        style: _objectSpread({\n          width: width\n        }, style),\n        className: \"emoji-mart emoji-mart-\".concat(theme),\n        \"aria-label\": title,\n        onKeyDown: this.handleKeyDown\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"emoji-mart-bar\"\n      }, /*#__PURE__*/React.createElement(Anchors, {\n        ref: this.setAnchorsRef,\n        data: this.data,\n        i18n: this.i18n,\n        color: color,\n        categories: this.categories,\n        onAnchorClick: this.handleAnchorClick,\n        icons: this.icons\n      })), /*#__PURE__*/React.createElement(Search, {\n        ref: this.setSearchRef,\n        onSearch: this.handleSearch,\n        data: this.data,\n        i18n: this.i18n,\n        emojisToShowFilter: emojisToShowFilter,\n        include: include,\n        exclude: exclude,\n        custom: this.CUSTOM,\n        autoFocus: autoFocus\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        ref: this.setScrollRef,\n        className: \"emoji-mart-scroll\",\n        onScroll: this.handleScroll\n      }, this.getCategories().map(function (category, i) {\n        return /*#__PURE__*/React.createElement(Category, {\n          ref: _this4.setCategoryRef.bind(_this4, \"category-\".concat(i)),\n          key: category.name,\n          id: category.id,\n          name: category.name,\n          emojis: category.emojis,\n          perLine: perLine,\n          \"native\": _native,\n          hasStickyPosition: _this4.hasStickyPosition,\n          data: _this4.data,\n          i18n: _this4.i18n,\n          recent: category.id == _this4.RECENT_CATEGORY.id ? recent : undefined,\n          custom: category.id == _this4.RECENT_CATEGORY.id ? _this4.CUSTOM : undefined,\n          emojiProps: {\n            \"native\": _native,\n            skin: skin,\n            size: emojiSize,\n            set: set,\n            sheetSize: sheetSize,\n            sheetColumns: sheetColumns,\n            sheetRows: sheetRows,\n            forceSize: _native,\n            tooltip: emojiTooltip,\n            backgroundImageFn: backgroundImageFn,\n            useButton: useButton,\n            onOver: _this4.handleEmojiOver,\n            onLeave: _this4.handleEmojiLeave,\n            onClick: _this4.handleEmojiClick\n          },\n          notFound: notFound,\n          notFoundEmoji: notFoundEmoji\n        });\n      })), (showPreview || showSkinTones) && /*#__PURE__*/React.createElement(\"div\", {\n        className: \"emoji-mart-bar\"\n      }, /*#__PURE__*/React.createElement(Preview, {\n        ref: this.setPreviewRef,\n        data: this.data,\n        title: title,\n        emoji: emoji,\n        showSkinTones: showSkinTones,\n        showPreview: showPreview,\n        emojiProps: {\n          \"native\": _native,\n          size: 38,\n          skin: skin,\n          set: set,\n          sheetSize: sheetSize,\n          sheetColumns: sheetColumns,\n          sheetRows: sheetRows,\n          backgroundImageFn: backgroundImageFn\n        },\n        skinsProps: {\n          skin: skin,\n          onChange: this.handleSkinChange,\n          skinEmoji: skinEmoji\n        },\n        i18n: this.i18n\n      })));\n    }\n  }]);\n\n  return NimblePicker;\n}(React.PureComponent);\n\nexport { NimblePicker as default };\nNimblePicker.propTypes\n/* remove-proptypes */\n= _objectSpread(_objectSpread({}, PickerPropTypes), {}, {\n  data: PropTypes.object.isRequired\n});\nNimblePicker.defaultProps = _objectSpread({}, PickerDefaultProps);","import type { EmojiProps, PickerProps } from 'emoji-mart';\nimport EmojiRaw from 'emoji-mart/dist-es/components/emoji/nimble-emoji';\nimport PickerRaw from 'emoji-mart/dist-es/components/picker/nimble-picker';\n\nimport { assetHost } from 'mastodon/utils/config';\n\nimport EmojiData from './emoji_data.json';\n\nconst backgroundImageFnDefault = () => `${assetHost}/emoji/sheet_15_1.png`;\n\nconst Emoji = ({\n  set = 'twitter',\n  sheetSize = 32,\n  sheetColumns = 62,\n  sheetRows = 62,\n  backgroundImageFn = backgroundImageFnDefault,\n  ...props\n}: EmojiProps) => {\n  return (\n    <EmojiRaw\n      data={EmojiData}\n      set={set}\n      sheetSize={sheetSize}\n      sheetColumns={sheetColumns}\n      sheetRows={sheetRows}\n      backgroundImageFn={backgroundImageFn}\n      {...props}\n    />\n  );\n};\n\nconst Picker = ({\n  set = 'twitter',\n  sheetSize = 32,\n  sheetColumns = 62,\n  sheetRows = 62,\n  backgroundImageFn = backgroundImageFnDefault,\n  ...props\n}: PickerProps) => {\n  return (\n    <PickerRaw\n      data={EmojiData}\n      set={set}\n      sheetSize={sheetSize}\n      sheetColumns={sheetColumns}\n      sheetRows={sheetRows}\n      backgroundImageFn={backgroundImageFn}\n      {...props}\n    />\n  );\n};\n\nexport { Picker, Emoji };\n"],"names":["mapping","buildSearch","emoji","search","addToSearch","strings","split","string","uncompress","data","id","key","_String","stringFromCodePoint","MAX_SIZE","codeUnits","highSurrogate","lowSurrogate","index","length","result","codePoint","COLONS_REGEX","SKINS","unifiedToNative","unified","unicodes","codePoints","u","sanitize","name","short_names","skin_tone","skin_variations","emoticons","custom","customCategory","imageUrl","colons","getSanitizedData","getData","skin","set","emojiData","matches","skinKey","variationData","k","v","uniq","arr","acc","item","intersect","a","b","uniqA","uniqB","deepMerge","o","originalValue","value","_typeof","measureScrollbar","div","scrollbarWidth","throttleIdleTask","func","doIdleTask","running","EmojiPropTypes","PropTypes","PickerPropTypes","EmojiDefaultProps","sheetSize","PickerDefaultProps","ownKeys","object","enumerableOnly","keys","symbols","sym","_objectSpread","target","source","_defineProperty","_getData","props","_getPosition","_getData2","sheet_x","sheet_y","multiplyX","multiplyY","_getSanitizedData","_handleClick","e","onClick","_handleOver","onOver","_handleLeave","onLeave","_isNumeric","_convertStyleToCSS","style","NimbleEmoji","children","className","nativeEmoji","label","title","setHasEmoji","Tag","React","_extends","categories","NAMESPACE","isLocalStorageSupported","getter","setter","setHandlers","handlers","setNamespace","namespace","update","state","get","store","DEFAULTS","frequently","initialized","defaults","init","add","perLine","i","quantity","frequentlyKeys","sorted","sliced","last","frequently$1","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","Super","_getPrototypeOf","NewTarget","_possibleConstructorReturn","Anchors","_React$PureComponent","_inherits","_super","_this","_classCallCheck","defaultCategory","category","_assertThisInitialized","_createClass","_this$props","onAnchorClick","_this2","_this$props2","color","i18n","icons","selected","anchor","isSelected","iconId","NotFound","emojiProps","notFound","notFoundEmoji","component","getFrameElement","doc","document","startDoc","frame","registry","crossOriginUpdater","crossOriginRect","IntersectionObserverEntry","entry","ensureDOMRect","getEmptyRect","targetRect","targetArea","intersectionRect","intersectionArea","IntersectionObserver","callback","opt_options","options","throttle","margin","boundingClientRect","convertFromParentRect","observer","isTargetAlreadyObserved","records","opt_threshold","threshold","t","opt_rootMargin","marginString","margins","parts","win","monitoringInterval","domObserver","addEvent","removeEvent","rootDoc","hasDependentTargets","itemDoc","unsubscribe","unsubscribes","rootIsInDom","rootRect","getBoundingClientRect","rootContainsTarget","oldEntry","rootBounds","newEntry","now","parent","getParentNode","atRoot","parentRect","parentComputedStyle","frameRect","frameIntersect","computeRectIntersection","isDoc","html","body","rect","newRect","oldRatio","newRatio","containsDeep","fn","timeout","timer","node","event","opt_useCapture","rect1","rect2","top","bottom","left","right","width","height","el","parentBoundingRect","parentIntersectionRect","child","Category","_React$Component","entries","image","nextProps","nextState","_native","hasStickyPosition","size","nextPerLine","nextNative","nextHasStickyPosition","nextEmojiProps","nextSkin","nextSize","nextSet","shouldUpdate","_this$container$getBo","_parent$getBoundingCl","parentTop","_this$label$getBoundi","labelHeight","_this3","scrollTop","_this4","emojis","recent","frequentlyUsed","display","c","_this5","_this$props3","labelStyles","labelSpanStyles","containerStyles","Skins","onChange","SkinsEmoji","_Skins","skinEmoji","opened","skinToneNodes","skinTone","SkinsDot","visible","Preview","skinsProps","showSkinTones","idleEmoji","showPreview","_emojiData$emoticons","knownEmoticons","listedEmoticons","emoticon","short_name","NimbleEmojiIndex","_loop","pool","emojiId","_ref","emojisToShowFilter","maxResults","include","exclude","_ref$custom","results","values","allResults","isIncluded","isExcluded","customIsIncluded","customIsExcluded","aPool","aIndex","charIndex","_char","scores","sub","subIndex","score","aScore","bScore","Search","autoFocus","_this$state","icon","isSearching","inputId","I18N","NimblePicker","allCategories","customCategories","customCategoriesCreated","customEmoji","categoryIndex","newEmojis","emojiIndex","newCategory","includeRecent","excludeRecent","stickyTestElement","prefixes","prefix","preview","maxMargin","activeCategory","scrollingDown","minTop","l","ii","active","anchors","_activeCategory","categoryName","scroll","scrollToComponent","newState","onSkinChange","handled","emojiSize","sheetColumns","sheetRows","backgroundImageFn","emojiTooltip","useButton","theme","backgroundImageFnDefault","assetHost","Emoji","jsxDEV","EmojiRaw","EmojiData","this","Picker","PickerRaw"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19]}