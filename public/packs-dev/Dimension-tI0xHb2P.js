var c=Object.defineProperty;var h=(s,i,m)=>i in s?c(s,i,{enumerable:!0,configurable:!0,writable:!0,value:m}):s[i]=m;var u=(s,i,m)=>h(s,typeof i!="symbol"?i+"":i,m);import{j as e}from"./client-BG6VvM0b.js";import{r as N,F as b}from"./index-ykyyQSL-.js";import{a as j}from"./api-uqk9CYtW.js";import{S as d}from"./skeleton-_5CK2hDo.js";import{r as v}from"./numbers-CGZQWBYL.js";import"./index-lj9VQs0f.js";import"./initial_state-BP3UcUr4.js";import"./ready-DpOgoWSg.js";class k extends N.PureComponent{constructor(){super(...arguments);u(this,"state",{loading:!0,data:null})}componentDidMount(){const{start_at:m,end_at:r,dimension:t,limit:l,params:n}=this.props;j(!1).post("/api/v1/admin/dimensions",{keys:[t],start_at:m,end_at:r,limit:l,[t]:n}).then(o=>{this.setState({loading:!1,data:o.data})}).catch(o=>{console.error(o)})}render(){const{label:m,limit:r}=this.props,{loading:t,data:l}=this.state;let n;if(t)n=e.jsxDEV("table",{children:e.jsxDEV("tbody",{children:Array.from(Array(r)).map((o,a)=>e.jsxDEV("tr",{className:"dimension__item",children:[e.jsxDEV("td",{className:"dimension__item__key",children:e.jsxDEV(d,{width:100},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/components/admin/Dimension.jsx",lineNumber:52,columnNumber:19},this)},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/components/admin/Dimension.jsx",lineNumber:51,columnNumber:17},this),e.jsxDEV("td",{className:"dimension__item__value",children:e.jsxDEV(d,{width:60},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/components/admin/Dimension.jsx",lineNumber:56,columnNumber:19},this)},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/components/admin/Dimension.jsx",lineNumber:55,columnNumber:17},this)]},a,!0,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/components/admin/Dimension.jsx",lineNumber:50,columnNumber:11},this))},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/components/admin/Dimension.jsx",lineNumber:48,columnNumber:11},this)},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/components/admin/Dimension.jsx",lineNumber:47,columnNumber:7},this);else{const o=l[0].data.reduce((a,p)=>a+p.value*1,0);n=e.jsxDEV("table",{children:e.jsxDEV("tbody",{children:l[0].data.map(a=>e.jsxDEV("tr",{className:"dimension__item",children:[e.jsxDEV("td",{className:"dimension__item__key",children:[e.jsxDEV("span",{className:`dimension__item__indicator dimension__item__indicator--${v(a.value*1/o*100)}`},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/components/admin/Dimension.jsx",lineNumber:72,columnNumber:19},this),e.jsxDEV("span",{title:a.key,children:a.human_key},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/components/admin/Dimension.jsx",lineNumber:73,columnNumber:19},this)]},void 0,!0,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/components/admin/Dimension.jsx",lineNumber:71,columnNumber:17},this),e.jsxDEV("td",{className:"dimension__item__value",children:typeof a.human_value<"u"?a.human_value:e.jsxDEV(b,{value:a.value},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/components/admin/Dimension.jsx",lineNumber:77,columnNumber:81},this)},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/components/admin/Dimension.jsx",lineNumber:76,columnNumber:17},this)]},a.key,!0,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/components/admin/Dimension.jsx",lineNumber:70,columnNumber:11},this))},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/components/admin/Dimension.jsx",lineNumber:68,columnNumber:11},this)},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/components/admin/Dimension.jsx",lineNumber:67,columnNumber:7},this)}return e.jsxDEV("div",{className:"dimension",children:[e.jsxDEV("h4",{children:m},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/components/admin/Dimension.jsx",lineNumber:88,columnNumber:9},this),n]},void 0,!0,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/components/admin/Dimension.jsx",lineNumber:87,columnNumber:7},this)}}export{k as default};
//# sourceMappingURL=Dimension-tI0xHb2P.js.map
