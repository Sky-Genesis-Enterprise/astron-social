var x=Object.defineProperty;var N=(a,o,e)=>o in a?x(a,o,{enumerable:!0,configurable:!0,writable:!0,value:e}):a[o]=e;var m=(a,o,e)=>N(a,typeof o!="symbol"?o+"":o,e);import{j as t}from"./client-BG6VvM0b.js";import{r as j}from"./index-ykyyQSL-.js";import{H as v}from"./Helmet-D0DLVOv1.js";import{w as g,L as _}from"./short_number--sxn3OKQ.js";import{j as E,ae as D,cF as B,cG as C,d7 as c,d8 as u,o as V,I as h}from"./useSelectableClick-DBo53LOf.js";import{S as L}from"./delete-D4JNeg_F.js";import{S as M}from"./edit-BBCPRxUI.js";import{S as I}from"./list_alt-Ctquh2nL.js";import{f}from"./streaming-DlYu2k3L.js";import{C as b}from"./column-CXD4Tnpb.js";import{C as S}from"./column_header-CtuyYpNB.js";import{L as T}from"./loading_indicator-BBuNQ1GS.js";import{B as y}from"./bundle_column_error-BUenPHpF.js";import{S as k}from"./status_list_container-BG44PHcd.js";import{M as p}from"./message-Bb0z64dP.js";import"./numbers-CGZQWBYL.js";import"./api-uqk9CYtW.js";import"./index-lj9VQs0f.js";import"./initial_state-BP3UcUr4.js";import"./ready-DpOgoWSg.js";import"./index-DHslUCy5.js";import"./load_locale-C-B7BkCQ.js";import"./index-guCj-HqV.js";import"./scroll-BygYx8ga.js";import"./add-ZanakRnh.js";import"./chevron_left-R_fqLHXp.js";import"./close-DPVxbBbs.js";import"./index-JeRepxZU.js";import"./gif-CQLWVfmH.js";import"./status_list-DcEuEIsE.js";import"./info-C9UTTy-Y.js";import"./content_warning-ZcoJE_cd.js";import"./skeleton-_5CK2hDo.js";import"./follow_button-DdHXSblv.js";import"./verified_badge-BOKoz3CJ.js";import"./status_quoted-D9176USW.js";import"./domain_blocks-DiDVA5xw.js";import"./reports-BY0N2xif.js";import"./status-D92xLx8p.js";import"./index.es-D--CQIAj.js";import"./card-v59kuVL6.js";import"./avatar_overlay-XCWEKsBg.js";import"./toString-CBWlLvSL.js";import"./status_content-BS1khha6.js";import"./poll-wjP7LpZg.js";import"./permissions-Djze7cmB.js";import"./visibility_icon-B5XmIQZP.js";import"./index-Ds3K_5LX.js";import"./load_gap-B92Gyxe3.js";import"./scrollable_list-DlG-2WSw.js";import"./scroll_container-BQpJ36fQ.js";import"./react-router-scroll-4.es-6ieDtVAa.js";import"./interopRequireDefault-CdiRfGvq.js";import"./schedule_idle_task-CTsEu-tt.js";import"./load_more-BJ-OkDO5.js";const P=(a,o)=>({list:a.getIn(["lists",o.params.id]),hasUnread:a.getIn(["timelines",`list:${o.params.id}`,"unread"])>0});class R extends j.PureComponent{constructor(){super(...arguments);m(this,"handlePin",()=>{const{columnId:e,dispatch:i}=this.props;e?i(D(e)):(i(B("LIST",{id:this.props.params.id})),this.props.history.push("/"))});m(this,"handleMove",e=>{const{columnId:i,dispatch:s}=this.props;s(C(i,e))});m(this,"handleHeaderClick",()=>{this.column.scrollTop()});m(this,"setRef",e=>{this.column=e});m(this,"handleLoadMore",e=>{const{id:i}=this.props.params;this.props.dispatch(u(i,{maxId:e}))});m(this,"handleDeleteClick",()=>{const{dispatch:e,columnId:i}=this.props,{id:s}=this.props.params;e(V({modalType:"CONFIRM_DELETE_LIST",modalProps:{listId:s,columnId:i}}))})}componentDidMount(){const{dispatch:e}=this.props,{id:i}=this.props.params;e(c(i)),e(u(i)),this.disconnect=e(f(i))}UNSAFE_componentWillReceiveProps(e){const{dispatch:i}=this.props,{id:s}=e.params;s!==this.props.params.id&&(this.disconnect&&(this.disconnect(),this.disconnect=null),i(c(s)),i(u(s)),this.disconnect=i(f(s)))}componentWillUnmount(){this.disconnect&&(this.disconnect(),this.disconnect=null)}render(){const{hasUnread:e,columnId:i,multiColumn:s,list:n}=this.props,{id:r}=this.props.params,d=!!i,l=n?n.get("title"):r;return typeof n>"u"?t.jsxDEV(b,{children:t.jsxDEV("div",{className:"scrollable",children:t.jsxDEV(T,{},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/list_timeline/index.jsx",lineNumber:126,columnNumber:13},this)},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/list_timeline/index.jsx",lineNumber:125,columnNumber:11},this)},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/list_timeline/index.jsx",lineNumber:124,columnNumber:9},this):n===!1?t.jsxDEV(y,{multiColumn:s,errorType:"routing"},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/list_timeline/index.jsx",lineNumber:132,columnNumber:9},this):t.jsxDEV(b,{bindToDocument:!s,ref:this.setRef,label:l,children:[t.jsxDEV(S,{icon:"list-ul",iconComponent:I,active:e,title:l,onPin:this.handlePin,onMove:this.handleMove,onClick:this.handleHeaderClick,pinned:d,multiColumn:s,children:t.jsxDEV("div",{className:"column-settings",children:t.jsxDEV("section",{className:"column-header__links",children:[t.jsxDEV(_,{to:`/lists/${r}/edit`,className:"text-btn column-header__setting-btn",children:[t.jsxDEV(h,{id:"pencil",icon:M},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/list_timeline/index.jsx",lineNumber:152,columnNumber:17},this)," ",t.jsxDEV(p,{id:"lists.edit",defaultMessage:"Edit list"},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/list_timeline/index.jsx",lineNumber:152,columnNumber:54},this)]},void 0,!0,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/list_timeline/index.jsx",lineNumber:151,columnNumber:15},this),t.jsxDEV("button",{type:"button",className:"text-btn column-header__setting-btn",tabIndex:0,onClick:this.handleDeleteClick,children:[t.jsxDEV(h,{id:"trash",icon:L},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/list_timeline/index.jsx",lineNumber:156,columnNumber:17},this)," ",t.jsxDEV(p,{id:"lists.delete",defaultMessage:"Delete list"},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/list_timeline/index.jsx",lineNumber:156,columnNumber:55},this)]},void 0,!0,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/list_timeline/index.jsx",lineNumber:155,columnNumber:15},this)]},void 0,!0,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/list_timeline/index.jsx",lineNumber:150,columnNumber:13},this)},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/list_timeline/index.jsx",lineNumber:149,columnNumber:11},this)},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/list_timeline/index.jsx",lineNumber:138,columnNumber:9},this),t.jsxDEV(k,{trackScroll:!d,scrollKey:`list_timeline-${i}`,timelineId:`list:${r}`,onLoadMore:this.handleLoadMore,emptyMessage:t.jsxDEV(p,{id:"empty_column.list",defaultMessage:"There is nothing in this list yet. When members of this list post new statuses, they will appear here."},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/list_timeline/index.jsx",lineNumber:167,columnNumber:25},this),bindToDocument:!s},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/list_timeline/index.jsx",lineNumber:162,columnNumber:9},this),t.jsxDEV(v,{children:[t.jsxDEV("title",{children:l},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/list_timeline/index.jsx",lineNumber:172,columnNumber:11},this),t.jsxDEV("meta",{name:"robots",content:"noindex"},void 0,!1,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/list_timeline/index.jsx",lineNumber:173,columnNumber:11},this)]},void 0,!0,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/list_timeline/index.jsx",lineNumber:171,columnNumber:9},this)]},void 0,!0,{fileName:"/home/liam-esia/Bureau/github/mastodon/app/javascript/mastodon/features/list_timeline/index.jsx",lineNumber:137,columnNumber:7},this)}}const Fe=g(E(P)(R));export{Fe as default};
//# sourceMappingURL=list_timeline-index-DRmuBUuM.js.map
