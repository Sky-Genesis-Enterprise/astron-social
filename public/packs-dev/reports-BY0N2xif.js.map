{"version":3,"file":"reports-BY0N2xif.js","sources":["../../app/javascript/mastodon/actions/reports.js"],"sourcesContent":["import api from '../api';\n\nimport { openModal } from './modal';\n\nexport const REPORT_SUBMIT_REQUEST = 'REPORT_SUBMIT_REQUEST';\nexport const REPORT_SUBMIT_SUCCESS = 'REPORT_SUBMIT_SUCCESS';\nexport const REPORT_SUBMIT_FAIL    = 'REPORT_SUBMIT_FAIL';\n\nexport const initReport = (account, status) => dispatch =>\n  dispatch(openModal({\n    modalType: 'REPORT',\n    modalProps: {\n      accountId: account.get('id'),\n      statusId: status?.get('id'),\n    },\n  }));\n\nexport const submitReport = (params, onSuccess, onFail) => (dispatch) => {\n  dispatch(submitReportRequest());\n\n  api().post('/api/v1/reports', params).then(response => {\n    dispatch(submitReportSuccess(response.data));\n    if (onSuccess) onSuccess();\n  }).catch(error => {\n    dispatch(submitReportFail(error));\n    if (onFail) onFail();\n  });\n};\n\nexport const submitReportRequest = () => ({\n  type: REPORT_SUBMIT_REQUEST,\n});\n\nexport const submitReportSuccess = report => ({\n  type: REPORT_SUBMIT_SUCCESS,\n  report,\n});\n\nexport const submitReportFail = error => ({\n  type: REPORT_SUBMIT_FAIL,\n  error,\n});\n"],"names":["REPORT_SUBMIT_REQUEST","REPORT_SUBMIT_SUCCESS","REPORT_SUBMIT_FAIL","initReport","account","status","dispatch","openModal","modalType","modalProps","accountId","get","statusId","submitReport","params","onSuccess","onFail","submitReportRequest","api","post","then","response","submitReportSuccess","data","catch","error","submitReportFail","type","report"],"mappings":"2FAIO,MAAMA,EAAwB,wBACxBC,EAAwB,wBACxBC,EAAwB,qBAExBC,EAAaA,CAACC,EAASC,IAAWC,GAC7CA,EAASC,EAAU,CACjBC,UAAW,SACXC,WAAY,CACVC,UAAWN,EAAQO,IAAI,IAAI,EAC3BC,SAAUP,GAAAA,YAAAA,EAAQM,IAAI,KACxB,CACF,CAAC,CAAC,EAESE,EAAeA,CAACC,EAAQC,EAAWC,IAAYV,GAAa,CACvEA,EAASW,EAAmB,CAAE,EAE9BC,EAAG,EAAGC,KAAK,kBAAmBL,CAAM,EAAEM,KAAKC,GAAY,CACrDf,EAASgB,EAAoBD,EAASE,IAAI,CAAC,EACvCR,GAAWA,EAAS,CAC1B,CAAC,EAAES,MAAMC,GAAS,CAChBnB,EAASoB,EAAiBD,CAAK,CAAC,EAC5BT,GAAQA,EAAM,CACpB,CAAC,CACH,EAEaC,EAAsBA,KAAO,CACxCU,KAAM3B,CACR,GAEasB,EAAsBM,IAAW,CAC5CD,KAAM1B,EACN2B,OAAAA,CACF,GAEaF,EAAmBD,IAAU,CACxCE,KAAMzB,EACNuB,MAAAA,CACF"}